var UP=Object.defineProperty;var zP=(n,e,t)=>e in n?UP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var De=(n,e,t)=>zP(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function OS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vm={exports:{}},cu={},Lm={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function $P(){if(Ew)return Ve;Ew=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function S(N,ee,le){this.props=N,this.context=ee,this.refs=A,this.updater=le||E}S.prototype.isReactComponent={},S.prototype.setState=function(N,ee){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ee,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function R(){}R.prototype=S.prototype;function M(N,ee,le){this.props=N,this.context=ee,this.refs=A,this.updater=le||E}var B=M.prototype=new R;B.constructor=M,x(B,S.prototype),B.isPureReactComponent=!0;var q=Array.isArray,Y=Object.prototype.hasOwnProperty,Q={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function b(N,ee,le){var ye,Ie={},Oe=null,Re=null;if(ee!=null)for(ye in ee.ref!==void 0&&(Re=ee.ref),ee.key!==void 0&&(Oe=""+ee.key),ee)Y.call(ee,ye)&&!D.hasOwnProperty(ye)&&(Ie[ye]=ee[ye]);var ze=arguments.length-2;if(ze===1)Ie.children=le;else if(1<ze){for(var $e=Array(ze),Gt=0;Gt<ze;Gt++)$e[Gt]=arguments[Gt+2];Ie.children=$e}if(N&&N.defaultProps)for(ye in ze=N.defaultProps,ze)Ie[ye]===void 0&&(Ie[ye]=ze[ye]);return{$$typeof:n,type:N,key:Oe,ref:Re,props:Ie,_owner:Q.current}}function C(N,ee){return{$$typeof:n,type:N.type,key:ee,ref:N.ref,props:N.props,_owner:N._owner}}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function L(N){var ee={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return ee[le]})}var F=/\/+/g;function O(N,ee){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):ee.toString(36)}function ke(N,ee,le,ye,Ie){var Oe=typeof N;(Oe==="undefined"||Oe==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(Oe){case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case n:case e:Re=!0}}if(Re)return Re=N,Ie=Ie(Re),N=ye===""?"."+O(Re,0):ye,q(Ie)?(le="",N!=null&&(le=N.replace(F,"$&/")+"/"),ke(Ie,ee,le,"",function(Gt){return Gt})):Ie!=null&&(k(Ie)&&(Ie=C(Ie,le+(!Ie.key||Re&&Re.key===Ie.key?"":(""+Ie.key).replace(F,"$&/")+"/")+N)),ee.push(Ie)),1;if(Re=0,ye=ye===""?".":ye+":",q(N))for(var ze=0;ze<N.length;ze++){Oe=N[ze];var $e=ye+O(Oe,ze);Re+=ke(Oe,ee,le,$e,Ie)}else if($e=v(N),typeof $e=="function")for(N=$e.call(N),ze=0;!(Oe=N.next()).done;)Oe=Oe.value,$e=ye+O(Oe,ze++),Re+=ke(Oe,ee,le,$e,Ie);else if(Oe==="object")throw ee=String(N),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Re}function Se(N,ee,le){if(N==null)return N;var ye=[],Ie=0;return ke(N,ye,"","",function(Oe){return ee.call(le,Oe,Ie++)}),ye}function Pe(N){if(N._status===-1){var ee=N._result;ee=ee(),ee.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=ee)}if(N._status===1)return N._result.default;throw N._result}var he={current:null},ie={transition:null},ae={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Q};return Ve.Children={map:Se,forEach:function(N,ee,le){Se(N,function(){ee.apply(this,arguments)},le)},count:function(N){var ee=0;return Se(N,function(){ee++}),ee},toArray:function(N){return Se(N,function(ee){return ee})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ve.Component=S,Ve.Fragment=t,Ve.Profiler=r,Ve.PureComponent=M,Ve.StrictMode=i,Ve.Suspense=c,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ve.cloneElement=function(N,ee,le){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ye=x({},N.props),Ie=N.key,Oe=N.ref,Re=N._owner;if(ee!=null){if(ee.ref!==void 0&&(Oe=ee.ref,Re=Q.current),ee.key!==void 0&&(Ie=""+ee.key),N.type&&N.type.defaultProps)var ze=N.type.defaultProps;for($e in ee)Y.call(ee,$e)&&!D.hasOwnProperty($e)&&(ye[$e]=ee[$e]===void 0&&ze!==void 0?ze[$e]:ee[$e])}var $e=arguments.length-2;if($e===1)ye.children=le;else if(1<$e){ze=Array($e);for(var Gt=0;Gt<$e;Gt++)ze[Gt]=arguments[Gt+2];ye.children=ze}return{$$typeof:n,type:N.type,key:Ie,ref:Oe,props:ye,_owner:Re}},Ve.createContext=function(N){return N={$$typeof:a,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},Ve.createElement=b,Ve.createFactory=function(N){var ee=b.bind(null,N);return ee.type=N,ee},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(N){return{$$typeof:u,render:N}},Ve.isValidElement=k,Ve.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:Pe}},Ve.memo=function(N,ee){return{$$typeof:d,type:N,compare:ee===void 0?null:ee}},Ve.startTransition=function(N){var ee=ie.transition;ie.transition={};try{N()}finally{ie.transition=ee}},Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.useCallback=function(N,ee){return he.current.useCallback(N,ee)},Ve.useContext=function(N){return he.current.useContext(N)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(N){return he.current.useDeferredValue(N)},Ve.useEffect=function(N,ee){return he.current.useEffect(N,ee)},Ve.useId=function(){return he.current.useId()},Ve.useImperativeHandle=function(N,ee,le){return he.current.useImperativeHandle(N,ee,le)},Ve.useInsertionEffect=function(N,ee){return he.current.useInsertionEffect(N,ee)},Ve.useLayoutEffect=function(N,ee){return he.current.useLayoutEffect(N,ee)},Ve.useMemo=function(N,ee){return he.current.useMemo(N,ee)},Ve.useReducer=function(N,ee,le){return he.current.useReducer(N,ee,le)},Ve.useRef=function(N){return he.current.useRef(N)},Ve.useState=function(N){return he.current.useState(N)},Ve.useSyncExternalStore=function(N,ee,le){return he.current.useSyncExternalStore(N,ee,le)},Ve.useTransition=function(){return he.current.useTransition()},Ve.version="18.2.0",Ve}var Tw;function _y(){return Tw||(Tw=1,Lm.exports=$P()),Lm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function WP(){if(xw)return cu;xw=1;var n=_y(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,d){var m,g={},v=null,E=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(E=c.ref);for(m in c)i.call(c,m)&&!s.hasOwnProperty(m)&&(g[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)g[m]===void 0&&(g[m]=c[m]);return{$$typeof:e,type:u,key:v,ref:E,props:g,_owner:r.current}}return cu.Fragment=t,cu.jsx=a,cu.jsxs=a,cu}var Sw;function HP(){return Sw||(Sw=1,Vm.exports=WP()),Vm.exports}var $=HP(),U=_y();const Pf=OS(U);var Qh={},Nm={exports:{}},_n={},Fm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function qP(){return Iw||(Iw=1,function(n){function e(ie,ae){var N=ie.length;ie.push(ae);e:for(;0<N;){var ee=N-1>>>1,le=ie[ee];if(0<r(le,ae))ie[ee]=ae,ie[N]=le,N=ee;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ae=ie[0],N=ie.pop();if(N!==ae){ie[0]=N;e:for(var ee=0,le=ie.length,ye=le>>>1;ee<ye;){var Ie=2*(ee+1)-1,Oe=ie[Ie],Re=Ie+1,ze=ie[Re];if(0>r(Oe,N))Re<le&&0>r(ze,Oe)?(ie[ee]=ze,ie[Re]=N,ee=Re):(ie[ee]=Oe,ie[Ie]=N,ee=Ie);else if(Re<le&&0>r(ze,N))ie[ee]=ze,ie[Re]=N,ee=Re;else break e}}return ae}function r(ie,ae){var N=ie.sortIndex-ae.sortIndex;return N!==0?N:ie.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],d=[],m=1,g=null,v=3,E=!1,x=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var ae=t(d);ae!==null;){if(ae.callback===null)i(d);else if(ae.startTime<=ie)i(d),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=t(d)}}function q(ie){if(A=!1,B(ie),!x)if(t(c)!==null)x=!0,Pe(Y);else{var ae=t(d);ae!==null&&he(q,ae.startTime-ie)}}function Y(ie,ae){x=!1,A&&(A=!1,R(b),b=-1),E=!0;var N=v;try{for(B(ae),g=t(c);g!==null&&(!(g.expirationTime>ae)||ie&&!L());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var le=ee(g.expirationTime<=ae);ae=n.unstable_now(),typeof le=="function"?g.callback=le:g===t(c)&&i(c),B(ae)}else i(c);g=t(c)}if(g!==null)var ye=!0;else{var Ie=t(d);Ie!==null&&he(q,Ie.startTime-ae),ye=!1}return ye}finally{g=null,v=N,E=!1}}var Q=!1,D=null,b=-1,C=5,k=-1;function L(){return!(n.unstable_now()-k<C)}function F(){if(D!==null){var ie=n.unstable_now();k=ie;var ae=!0;try{ae=D(!0,ie)}finally{ae?O():(Q=!1,D=null)}}else Q=!1}var O;if(typeof M=="function")O=function(){M(F)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Se=ke.port2;ke.port1.onmessage=F,O=function(){Se.postMessage(null)}}else O=function(){S(F,0)};function Pe(ie){D=ie,Q||(Q=!0,O())}function he(ie,ae){b=S(function(){ie(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){x||E||(x=!0,Pe(Y))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var N=v;v=ae;try{return ie()}finally{v=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ae){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var N=v;v=ie;try{return ae()}finally{v=N}},n.unstable_scheduleCallback=function(ie,ae,N){var ee=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?ee+N:ee):N=ee,ie){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=N+le,ie={id:m++,callback:ae,priorityLevel:ie,startTime:N,expirationTime:le,sortIndex:-1},N>ee?(ie.sortIndex=N,e(d,ie),t(c)===null&&ie===t(d)&&(A?(R(b),b=-1):A=!0,he(q,N-ee))):(ie.sortIndex=le,e(c,ie),x||E||(x=!0,Pe(Y))),ie},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ie){var ae=v;return function(){var N=v;v=ae;try{return ie.apply(this,arguments)}finally{v=N}}}}(jm)),jm}var Aw;function KP(){return Aw||(Aw=1,Fm.exports=qP()),Fm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function GP(){if(bw)return _n;bw=1;var n=_y(),e=KP();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(r[o]=l,o=0;o<l.length;o++)i.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return c.call(g,o)?!0:c.call(m,o)?!1:d.test(o)?g[o]=!0:(m[o]=!0,!1)}function E(o,l,h,p){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,l,h,p){if(l===null||typeof l>"u"||E(o,l,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function A(o,l,h,p,y,w,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new A(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new A(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new A(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new A(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new A(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new A(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new A(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new A(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new A(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(R,M);S[l]=new A(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(R,M);S[l]=new A(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(R,M);S[l]=new A(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new A(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new A(o,1,!1,o.toLowerCase(),null,!0,!0)});function B(o,l,h,p){var y=S.hasOwnProperty(l)?S[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,h,y,p)&&(h=null),p||y===null?v(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):y.mustUseProperty?o[y.propertyName]=h===null?y.type===3?!1:"":h:(l=y.attributeName,p=y.attributeNamespace,h===null?o.removeAttribute(l):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,p?o.setAttributeNS(p,l,h):o.setAttribute(l,h))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),Q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var N=Object.assign,ee;function le(o){if(ee===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ee=l&&l[1]||""}return`
`+ee+o}var ye=!1;function Ie(o,l){if(!o||ye)return"";ye=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(G){var p=G}Reflect.construct(o,[],l)}else{try{l.call()}catch(G){p=G}o.call(l.prototype)}else{try{throw Error()}catch(G){p=G}o()}}catch(G){if(G&&p&&typeof G.stack=="string"){for(var y=G.stack.split(`
`),w=p.stack.split(`
`),I=y.length-1,V=w.length-1;1<=I&&0<=V&&y[I]!==w[V];)V--;for(;1<=I&&0<=V;I--,V--)if(y[I]!==w[V]){if(I!==1||V!==1)do if(I--,V--,0>V||y[I]!==w[V]){var j=`
`+y[I].replace(" at new "," at ");return o.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",o.displayName)),j}while(1<=I&&0<=V);break}}}finally{ye=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?le(o):""}function Oe(o){switch(o.tag){case 5:return le(o.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return o=Ie(o.type,!1),o;case 11:return o=Ie(o.type.render,!1),o;case 1:return o=Ie(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case Q:return"Portal";case C:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case ke:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case L:return(o.displayName||"Context")+".Consumer";case k:return(o._context.displayName||"Context")+".Provider";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Se:return l=o.displayName||null,l!==null?l:Re(o.type)||"Memo";case Pe:l=o._payload,o=o._init;try{return Re(o(l))}catch{}}return null}function ze(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Gt(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oo(o){var l=Gt(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(I){p=""+I,w.call(this,I)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Wi(o){o._valueTracker||(o._valueTracker=Oo(o))}function Vo(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),p="";return o&&(p=Gt(o)?o.checked?"true":"false":o.value),o=p,o!==h?(l.setValue(o),!0):!1}function Pr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Rs(o,l){var h=l.checked;return N({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Lo(o,l){var h=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;h=$e(l.value!=null?l.value:h),o._wrapperState={initialChecked:p,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function gl(o,l){l=l.checked,l!=null&&B(o,"checked",l,!1)}function yl(o,l){gl(o,l);var h=$e(l.value),p=l.type;if(h!=null)p==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?No(o,l.type,h):l.hasOwnProperty("defaultValue")&&No(o,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Lc(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function No(o,l,h){(l!=="number"||Pr(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Hi=Array.isArray;function qi(o,l,h,p){if(o=o.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<o.length;h++)y=l.hasOwnProperty("$"+o[h].value),o[h].selected!==y&&(o[h].selected=y),y&&p&&(o[h].defaultSelected=!0)}else{for(h=""+$e(h),l=null,y=0;y<o.length;y++){if(o[y].value===h){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function vl(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return N({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Fo(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(Hi(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:$e(h)}}function jo(o,l){var h=$e(l.value),p=$e(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),p!=null&&(o.defaultValue=""+p)}function _l(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function St(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?St(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ki,wl=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,p,y){MSApp.execUnsafeLocalFunction(function(){return o(l,h,p,y)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ki.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Rr(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ds=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(o){Ds.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),ks[l]=ks[o]})});function El(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||ks.hasOwnProperty(o)&&ks[o]?(""+l).trim():l+"px"}function Tl(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var p=h.indexOf("--")===0,y=El(h,l[h],p);h==="float"&&(h="cssFloat"),p?o.setProperty(h,y):o[h]=y}}var xl=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(o,l){if(l){if(xl[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Il(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=null;function Bo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Uo=null,Ln=null,wi=null;function zo(o){if(o=Yl(o)){if(typeof Uo!="function")throw Error(t(280));var l=o.stateNode;l&&(l=dh(l),Uo(o.stateNode,o.type,l))}}function Ei(o){Ln?wi?wi.push(o):wi=[o]:Ln=o}function Al(){if(Ln){var o=Ln,l=wi;if(wi=Ln=null,zo(o),l)for(o=0;o<l.length;o++)zo(l[o])}}function Os(o,l){return o(l)}function bl(){}var Gi=!1;function Cl(o,l,h){if(Gi)return o(l,h);Gi=!0;try{return Os(o,l,h)}finally{Gi=!1,(Ln!==null||wi!==null)&&(bl(),Al())}}function pt(o,l){var h=o.stateNode;if(h===null)return null;var p=dh(h);if(p===null)return null;h=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var $o=!1;if(u)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{$o=!1}function Vs(o,l,h,p,y,w,I,V,j){var G=Array.prototype.slice.call(arguments,3);try{l.apply(h,G)}catch(ne){this.onError(ne)}}var Ls=!1,Wo=null,Jn=!1,Pl=null,up={onError:function(o){Ls=!0,Wo=o}};function Ho(o,l,h,p,y,w,I,V,j){Ls=!1,Wo=null,Vs.apply(up,arguments)}function Nc(o,l,h,p,y,w,I,V,j){if(Ho.apply(this,arguments),Ls){if(Ls){var G=Wo;Ls=!1,Wo=null}else throw Error(t(198));Jn||(Jn=!0,Pl=G)}}function Zn(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function Ns(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function ei(o){if(Zn(o)!==o)throw Error(t(188))}function Fc(o){var l=o.alternate;if(!l){if(l=Zn(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,p=l;;){var y=h.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){h=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===h)return ei(y),o;if(w===p)return ei(y),l;w=w.sibling}throw Error(t(188))}if(h.return!==p.return)h=y,p=w;else{for(var I=!1,V=y.child;V;){if(V===h){I=!0,h=y,p=w;break}if(V===p){I=!0,p=y,h=w;break}V=V.sibling}if(!I){for(V=w.child;V;){if(V===h){I=!0,h=w,p=y;break}if(V===p){I=!0,p=w,h=y;break}V=V.sibling}if(!I)throw Error(t(189))}}if(h.alternate!==p)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function Rl(o){return o=Fc(o),o!==null?qo(o):null}function qo(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=qo(o);if(l!==null)return l;o=o.sibling}return null}var Ko=e.unstable_scheduleCallback,kl=e.unstable_cancelCallback,jc=e.unstable_shouldYield,cp=e.unstable_requestPaint,Je=e.unstable_now,Bc=e.unstable_getCurrentPriorityLevel,Fs=e.unstable_ImmediatePriority,kr=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,Dl=e.unstable_LowPriority,Uc=e.unstable_IdlePriority,js=null,In=null;function zc(o){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(js,o,void 0,(o.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Wc,Ml=Math.log,$c=Math.LN2;function Wc(o){return o>>>=0,o===0?32:31-(Ml(o)/$c|0)|0}var Go=64,Yo=4194304;function Dr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Bs(o,l){var h=o.pendingLanes;if(h===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,I=h&268435455;if(I!==0){var V=I&~y;V!==0?p=Dr(V):(w&=I,w!==0&&(p=Dr(w)))}else I=h&~y,I!==0?p=Dr(I):w!==0&&(p=Dr(w));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((p&4)!==0&&(p|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=p;0<l;)h=31-an(l),y=1<<h,p|=o[h],l&=~y;return p}function hp(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yi(o,l){for(var h=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var I=31-an(w),V=1<<I,j=y[I];j===-1?((V&h)===0||(V&p)!==0)&&(y[I]=hp(V,l)):j<=l&&(o.expiredLanes|=V),w&=~V}}function An(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Us(){var o=Go;return Go<<=1,(Go&4194240)===0&&(Go=64),o}function Mr(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function Or(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-an(l),o[l]=h}function Qe(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<h;){var y=31-an(h),w=1<<y;l[y]=0,p[y]=-1,o[y]=-1,h&=~w}}function Vr(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var p=31-an(h),y=1<<p;y&l|o[p]&l&&(o[p]|=l),h&=~y}}var Fe=0;function Lr(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Hc,Xo,qc,Kc,Gc,Ol=!1,Ti=[],jt=null,ti=null,ni=null,Nr=new Map,Fn=new Map,xi=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(o,l){switch(o){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Nr.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(l.pointerId)}}function dn(o,l,h,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:h,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},l!==null&&(l=Yl(l),l!==null&&Xo(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function fp(o,l,h,p,y){switch(l){case"focusin":return jt=dn(jt,o,l,h,p,y),!0;case"dragenter":return ti=dn(ti,o,l,h,p,y),!0;case"mouseover":return ni=dn(ni,o,l,h,p,y),!0;case"pointerover":var w=y.pointerId;return Nr.set(w,dn(Nr.get(w)||null,o,l,h,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Fn.set(w,dn(Fn.get(w)||null,o,l,h,p,y)),!0}return!1}function Xc(o){var l=qs(o.target);if(l!==null){var h=Zn(l);if(h!==null){if(l=h.tag,l===13){if(l=Ns(h),l!==null){o.blockedOn=l,Gc(o.priority,function(){qc(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xi(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Qo(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);Ms=p,h.target.dispatchEvent(p),Ms=null}else return l=Yl(h),l!==null&&Xo(l),o.blockedOn=h,!1;l.shift()}return!0}function zs(o,l,h){Xi(o)&&h.delete(l)}function Qc(){Ol=!1,jt!==null&&Xi(jt)&&(jt=null),ti!==null&&Xi(ti)&&(ti=null),ni!==null&&Xi(ni)&&(ni=null),Nr.forEach(zs),Fn.forEach(zs)}function ii(o,l){o.blockedOn===l&&(o.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qc)))}function ri(o){function l(y){return ii(y,o)}if(0<Ti.length){ii(Ti[0],o);for(var h=1;h<Ti.length;h++){var p=Ti[h];p.blockedOn===o&&(p.blockedOn=null)}}for(jt!==null&&ii(jt,o),ti!==null&&ii(ti,o),ni!==null&&ii(ni,o),Nr.forEach(l),Fn.forEach(l),h=0;h<xi.length;h++)p=xi[h],p.blockedOn===o&&(p.blockedOn=null);for(;0<xi.length&&(h=xi[0],h.blockedOn===null);)Xc(h),h.blockedOn===null&&xi.shift()}var Qi=q.ReactCurrentBatchConfig,Fr=!0;function st(o,l,h,p){var y=Fe,w=Qi.transition;Qi.transition=null;try{Fe=1,Vl(o,l,h,p)}finally{Fe=y,Qi.transition=w}}function pp(o,l,h,p){var y=Fe,w=Qi.transition;Qi.transition=null;try{Fe=4,Vl(o,l,h,p)}finally{Fe=y,Qi.transition=w}}function Vl(o,l,h,p){if(Fr){var y=Qo(o,l,h,p);if(y===null)Ip(o,l,p,$s,h),Yc(o,p);else if(fp(y,o,l,h,p))p.stopPropagation();else if(Yc(o,p),l&4&&-1<dp.indexOf(o)){for(;y!==null;){var w=Yl(y);if(w!==null&&Hc(w),w=Qo(o,l,h,p),w===null&&Ip(o,l,p,$s,h),w===y)break;y=w}y!==null&&p.stopPropagation()}else Ip(o,l,p,null,h)}}var $s=null;function Qo(o,l,h,p){if($s=null,o=Bo(p),o=qs(o),o!==null)if(l=Zn(o),l===null)o=null;else if(h=l.tag,h===13){if(o=Ns(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return $s=o,null}function Ll(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bc()){case Fs:return 1;case kr:return 4;case Nn:case Dl:return 16;case Uc:return 536870912;default:return 16}default:return 16}}var bn=null,Jo=null,fn=null;function Nl(){if(fn)return fn;var o,l=Jo,h=l.length,p,y="value"in bn?bn.value:bn.textContent,w=y.length;for(o=0;o<h&&l[o]===y[o];o++);var I=h-o;for(p=1;p<=I&&l[h-p]===y[w-p];p++);return fn=y.slice(o,1<p?1-p:void 0)}function Zo(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Si(){return!0}function Fl(){return!1}function Bt(o){function l(h,p,y,w,I){this._reactName=h,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(h=o[V],this[V]=h?h(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Si:Fl,this.isPropagationStopped=Fl,this}return N(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),l}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Bt(si),Ii=N({},si,{view:0,detail:0}),mp=Bt(Ii),ta,Ji,jr,Ws=N({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==jr&&(jr&&o.type==="mousemove"?(ta=o.screenX-jr.screenX,Ji=o.screenY-jr.screenY):Ji=ta=0,jr=o),ta)},movementY:function(o){return"movementY"in o?o.movementY:Ji}}),na=Bt(Ws),jl=N({},Ws,{dataTransfer:0}),Jc=Bt(jl),ia=N({},Ii,{relatedTarget:0}),ra=Bt(ia),Zc=N({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Zi=Bt(Zc),eh=N({},si,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),th=Bt(eh),nh=N({},si,{data:0}),Bl=Bt(nh),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ih[o])?!!l[o]:!1}function Ai(){return rh}var f=N({},Ii,{key:function(o){if(o.key){var l=sa[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Zo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ln[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(o){return o.type==="keypress"?Zo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Zo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_=Bt(f),T=N({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Bt(T),W=N({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),X=Bt(W),oe=N({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Bt(oe),At=N({},Ws,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Bt(At),Dt=[9,13,27,32],_t=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Cn=u&&"TextEvent"in window&&!jn,Hs=u&&(!_t||jn&&8<jn&&11>=jn),oa=" ",p_=!1;function m_(o,l){switch(o){case"keyup":return Dt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var aa=!1;function FC(o,l){switch(o){case"compositionend":return g_(l);case"keypress":return l.which!==32?null:(p_=!0,oa);case"textInput":return o=l.data,o===oa&&p_?null:o;default:return null}}function jC(o,l){if(aa)return o==="compositionend"||!_t&&m_(o,l)?(o=Nl(),fn=Jo=bn=null,aa=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Hs&&l.locale!=="ko"?null:l.data;default:return null}}var BC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!BC[o.type]:l==="textarea"}function v_(o,l,h,p){Ei(p),l=uh(l,"onChange"),0<l.length&&(h=new ea("onChange","change",null,h,p),o.push({event:h,listeners:l}))}var Ul=null,zl=null;function UC(o){L_(o,0)}function sh(o){var l=da(o);if(Vo(l))return o}function zC(o,l){if(o==="change")return l}var __=!1;if(u){var gp;if(u){var yp="oninput"in document;if(!yp){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),yp=typeof w_.oninput=="function"}gp=yp}else gp=!1;__=gp&&(!document.documentMode||9<document.documentMode)}function E_(){Ul&&(Ul.detachEvent("onpropertychange",T_),zl=Ul=null)}function T_(o){if(o.propertyName==="value"&&sh(zl)){var l=[];v_(l,zl,o,Bo(o)),Cl(UC,l)}}function $C(o,l,h){o==="focusin"?(E_(),Ul=l,zl=h,Ul.attachEvent("onpropertychange",T_)):o==="focusout"&&E_()}function WC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sh(zl)}function HC(o,l){if(o==="click")return sh(l)}function qC(o,l){if(o==="input"||o==="change")return sh(l)}function KC(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var oi=typeof Object.is=="function"?Object.is:KC;function $l(o,l){if(oi(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),p=Object.keys(l);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var y=h[p];if(!c.call(l,y)||!oi(o[y],l[y]))return!1}return!0}function x_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function S_(o,l){var h=x_(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=l&&p>=l)return{node:h,offset:l-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=x_(h)}}function I_(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?I_(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function A_(){for(var o=window,l=Pr();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Pr(o.document)}return l}function vp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function GC(o){var l=A_(),h=o.focusedElem,p=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&I_(h.ownerDocument.documentElement,h)){if(p!==null&&vp(h)){if(l=p.start,o=p.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=h.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=S_(h,w);var I=S_(h,p);y&&I&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==I.node||o.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(l),o.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var YC=u&&"documentMode"in document&&11>=document.documentMode,la=null,_p=null,Wl=null,wp=!1;function b_(o,l,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;wp||la==null||la!==Pr(p)||(p=la,"selectionStart"in p&&vp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wl&&$l(Wl,p)||(Wl=p,p=uh(_p,"onSelect"),0<p.length&&(l=new ea("onSelect","select",null,l,h),o.push({event:l,listeners:p}),l.target=la)))}function oh(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var ua={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},Ep={},C_={};u&&(C_=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ah(o){if(Ep[o])return Ep[o];if(!ua[o])return o;var l=ua[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in C_)return Ep[o]=l[h];return o}var P_=ah("animationend"),R_=ah("animationiteration"),k_=ah("animationstart"),D_=ah("transitionend"),M_=new Map,O_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(o,l){M_.set(o,l),s(l,[o])}for(var Tp=0;Tp<O_.length;Tp++){var xp=O_[Tp],XC=xp.toLowerCase(),QC=xp[0].toUpperCase()+xp.slice(1);Br(XC,"on"+QC)}Br(P_,"onAnimationEnd"),Br(R_,"onAnimationIteration"),Br(k_,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(D_,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function V_(o,l,h){var p=o.type||"unknown-event";o.currentTarget=h,Nc(p,l,void 0,o),o.currentTarget=null}function L_(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],y=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var I=p.length-1;0<=I;I--){var V=p[I],j=V.instance,G=V.currentTarget;if(V=V.listener,j!==w&&y.isPropagationStopped())break e;V_(y,V,G),w=j}else for(I=0;I<p.length;I++){if(V=p[I],j=V.instance,G=V.currentTarget,V=V.listener,j!==w&&y.isPropagationStopped())break e;V_(y,V,G),w=j}}}if(Jn)throw o=Pl,Jn=!1,Pl=null,o}function et(o,l){var h=l[kp];h===void 0&&(h=l[kp]=new Set);var p=o+"__bubble";h.has(p)||(N_(l,o,2,!1),h.add(p))}function Sp(o,l,h){var p=0;l&&(p|=4),N_(h,o,p,l)}var lh="_reactListening"+Math.random().toString(36).slice(2);function ql(o){if(!o[lh]){o[lh]=!0,i.forEach(function(h){h!=="selectionchange"&&(JC.has(h)||Sp(h,!1,o),Sp(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[lh]||(l[lh]=!0,Sp("selectionchange",!1,l))}}function N_(o,l,h,p){switch(Ll(l)){case 1:var y=st;break;case 4:y=pp;break;default:y=Vl}h=y.bind(null,l,h,o),y=void 0,!$o||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(l,h,{capture:!0,passive:y}):o.addEventListener(l,h,!0):y!==void 0?o.addEventListener(l,h,{passive:y}):o.addEventListener(l,h,!1)}function Ip(o,l,h,p,y){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(I===4)for(I=p.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;I=I.return}for(;V!==null;){if(I=qs(V),I===null)return;if(j=I.tag,j===5||j===6){p=w=I;continue e}V=V.parentNode}}p=p.return}Cl(function(){var G=w,ne=Bo(h),re=[];e:{var te=M_.get(o);if(te!==void 0){var ue=ea,pe=o;switch(o){case"keypress":if(Zo(h)===0)break e;case"keydown":case"keyup":ue=_;break;case"focusin":pe="focus",ue=ra;break;case"focusout":pe="blur",ue=ra;break;case"beforeblur":case"afterblur":ue=ra;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=X;break;case P_:case R_:case k_:ue=Zi;break;case D_:ue=Ge;break;case"scroll":ue=mp;break;case"wheel":ue=je;break;case"copy":case"cut":case"paste":ue=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=P}var me=(l&4)!==0,mt=!me&&o==="scroll",H=me?te!==null?te+"Capture":null:te;me=[];for(var z=G,K;z!==null;){K=z;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,H!==null&&(se=pt(z,H),se!=null&&me.push(Kl(z,se,K)))),mt)break;z=z.return}0<me.length&&(te=new ue(te,pe,null,h,ne),re.push({event:te,listeners:me}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ue=o==="mouseout"||o==="pointerout",te&&h!==Ms&&(pe=h.relatedTarget||h.fromElement)&&(qs(pe)||pe[er]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(pe=h.relatedTarget||h.toElement,ue=G,pe=pe?qs(pe):null,pe!==null&&(mt=Zn(pe),pe!==mt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=G),ue!==pe)){if(me=na,se="onMouseLeave",H="onMouseEnter",z="mouse",(o==="pointerout"||o==="pointerover")&&(me=P,se="onPointerLeave",H="onPointerEnter",z="pointer"),mt=ue==null?te:da(ue),K=pe==null?te:da(pe),te=new me(se,z+"leave",ue,h,ne),te.target=mt,te.relatedTarget=K,se=null,qs(ne)===G&&(me=new me(H,z+"enter",pe,h,ne),me.target=K,me.relatedTarget=mt,se=me),mt=se,ue&&pe)t:{for(me=ue,H=pe,z=0,K=me;K;K=ca(K))z++;for(K=0,se=H;se;se=ca(se))K++;for(;0<z-K;)me=ca(me),z--;for(;0<K-z;)H=ca(H),K--;for(;z--;){if(me===H||H!==null&&me===H.alternate)break t;me=ca(me),H=ca(H)}me=null}else me=null;ue!==null&&F_(re,te,ue,me,!1),pe!==null&&mt!==null&&F_(re,mt,pe,me,!0)}}e:{if(te=G?da(G):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ge=zC;else if(y_(te))if(__)ge=qC;else{ge=WC;var _e=$C}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=HC);if(ge&&(ge=ge(o,G))){v_(re,ge,h,ne);break e}_e&&_e(o,te,G),o==="focusout"&&(_e=te._wrapperState)&&_e.controlled&&te.type==="number"&&No(te,"number",te.value)}switch(_e=G?da(G):window,o){case"focusin":(y_(_e)||_e.contentEditable==="true")&&(la=_e,_p=G,Wl=null);break;case"focusout":Wl=_p=la=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,b_(re,h,ne);break;case"selectionchange":if(YC)break;case"keydown":case"keyup":b_(re,h,ne)}var we;if(_t)e:{switch(o){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else aa?m_(o,h)&&(Ae="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ae="onCompositionStart");Ae&&(Hs&&h.locale!=="ko"&&(aa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&aa&&(we=Nl()):(bn=ne,Jo="value"in bn?bn.value:bn.textContent,aa=!0)),_e=uh(G,Ae),0<_e.length&&(Ae=new Bl(Ae,o,null,h,ne),re.push({event:Ae,listeners:_e}),we?Ae.data=we:(we=g_(h),we!==null&&(Ae.data=we)))),(we=Cn?FC(o,h):jC(o,h))&&(G=uh(G,"onBeforeInput"),0<G.length&&(ne=new Bl("onBeforeInput","beforeinput",null,h,ne),re.push({event:ne,listeners:G}),ne.data=we))}L_(re,l)})}function Kl(o,l,h){return{instance:o,listener:l,currentTarget:h}}function uh(o,l){for(var h=l+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=pt(o,h),w!=null&&p.unshift(Kl(o,w,y)),w=pt(o,l),w!=null&&p.push(Kl(o,w,y))),o=o.return}return p}function ca(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function F_(o,l,h,p,y){for(var w=l._reactName,I=[];h!==null&&h!==p;){var V=h,j=V.alternate,G=V.stateNode;if(j!==null&&j===p)break;V.tag===5&&G!==null&&(V=G,y?(j=pt(h,w),j!=null&&I.unshift(Kl(h,j,V))):y||(j=pt(h,w),j!=null&&I.push(Kl(h,j,V)))),h=h.return}I.length!==0&&o.push({event:l,listeners:I})}var ZC=/\r\n?/g,eP=/\u0000|\uFFFD/g;function j_(o){return(typeof o=="string"?o:""+o).replace(ZC,`
`).replace(eP,"")}function ch(o,l,h){if(l=j_(l),j_(o)!==l&&h)throw Error(t(425))}function hh(){}var Ap=null,bp=null;function Cp(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,tP=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,nP=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(o){return B_.resolve(null).then(o).catch(iP)}:Pp;function iP(o){setTimeout(function(){throw o})}function Rp(o,l){var h=l,p=0;do{var y=h.nextSibling;if(o.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(p===0){o.removeChild(y),ri(l);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=y}while(h);ri(l)}function Ur(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function U_(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var ha=Math.random().toString(36).slice(2),bi="__reactFiber$"+ha,Gl="__reactProps$"+ha,er="__reactContainer$"+ha,kp="__reactEvents$"+ha,rP="__reactListeners$"+ha,sP="__reactHandles$"+ha;function qs(o){var l=o[bi];if(l)return l;for(var h=o.parentNode;h;){if(l=h[er]||h[bi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=U_(o);o!==null;){if(h=o[bi])return h;o=U_(o)}return l}o=h,h=o.parentNode}return null}function Yl(o){return o=o[bi]||o[er],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function da(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function dh(o){return o[Gl]||null}var Dp=[],fa=-1;function zr(o){return{current:o}}function tt(o){0>fa||(o.current=Dp[fa],Dp[fa]=null,fa--)}function Ze(o,l){fa++,Dp[fa]=o.current,o.current=l}var $r={},Yt=zr($r),pn=zr(!1),Ks=$r;function pa(o,l){var h=o.type.contextTypes;if(!h)return $r;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in h)y[w]=l[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function mn(o){return o=o.childContextTypes,o!=null}function fh(){tt(pn),tt(Yt)}function z_(o,l,h){if(Yt.current!==$r)throw Error(t(168));Ze(Yt,l),Ze(pn,h)}function $_(o,l,h){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(t(108,ze(o)||"Unknown",y));return N({},h,p)}function ph(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||$r,Ks=Yt.current,Ze(Yt,o),Ze(pn,pn.current),!0}function W_(o,l,h){var p=o.stateNode;if(!p)throw Error(t(169));h?(o=$_(o,l,Ks),p.__reactInternalMemoizedMergedChildContext=o,tt(pn),tt(Yt),Ze(Yt,o)):tt(pn),Ze(pn,h)}var tr=null,mh=!1,Mp=!1;function H_(o){tr===null?tr=[o]:tr.push(o)}function oP(o){mh=!0,H_(o)}function Wr(){if(!Mp&&tr!==null){Mp=!0;var o=0,l=Fe;try{var h=tr;for(Fe=1;o<h.length;o++){var p=h[o];do p=p(!0);while(p!==null)}tr=null,mh=!1}catch(y){throw tr!==null&&(tr=tr.slice(o+1)),Ko(Fs,Wr),y}finally{Fe=l,Mp=!1}}return null}var ma=[],ga=0,gh=null,yh=0,Bn=[],Un=0,Gs=null,nr=1,ir="";function Ys(o,l){ma[ga++]=yh,ma[ga++]=gh,gh=o,yh=l}function q_(o,l,h){Bn[Un++]=nr,Bn[Un++]=ir,Bn[Un++]=Gs,Gs=o;var p=nr;o=ir;var y=32-an(p)-1;p&=~(1<<y),h+=1;var w=32-an(l)+y;if(30<w){var I=y-y%5;w=(p&(1<<I)-1).toString(32),p>>=I,y-=I,nr=1<<32-an(l)+y|h<<y|p,ir=w+o}else nr=1<<w|h<<y|p,ir=o}function Op(o){o.return!==null&&(Ys(o,1),q_(o,1,0))}function Vp(o){for(;o===gh;)gh=ma[--ga],ma[ga]=null,yh=ma[--ga],ma[ga]=null;for(;o===Gs;)Gs=Bn[--Un],Bn[Un]=null,ir=Bn[--Un],Bn[Un]=null,nr=Bn[--Un],Bn[Un]=null}var Pn=null,Rn=null,ot=!1,ai=null;function K_(o,l){var h=Hn(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function G_(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Pn=o,Rn=Ur(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Pn=o,Rn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Gs!==null?{id:nr,overflow:ir}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Hn(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Pn=o,Rn=null,!0):!1;default:return!1}}function Lp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Np(o){if(ot){var l=Rn;if(l){var h=l;if(!G_(o,l)){if(Lp(o))throw Error(t(418));l=Ur(h.nextSibling);var p=Pn;l&&G_(o,l)?K_(p,h):(o.flags=o.flags&-4097|2,ot=!1,Pn=o)}}else{if(Lp(o))throw Error(t(418));o.flags=o.flags&-4097|2,ot=!1,Pn=o}}}function Y_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Pn=o}function vh(o){if(o!==Pn)return!1;if(!ot)return Y_(o),ot=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Cp(o.type,o.memoizedProps)),l&&(l=Rn)){if(Lp(o))throw X_(),Error(t(418));for(;l;)K_(o,l),l=Ur(l.nextSibling)}if(Y_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Rn=Ur(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Rn=null}}else Rn=Pn?Ur(o.stateNode.nextSibling):null;return!0}function X_(){for(var o=Rn;o;)o=Ur(o.nextSibling)}function ya(){Rn=Pn=null,ot=!1}function Fp(o){ai===null?ai=[o]:ai.push(o)}var aP=q.ReactCurrentBatchConfig;function li(o,l){if(o&&o.defaultProps){l=N({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}var _h=zr(null),wh=null,va=null,jp=null;function Bp(){jp=va=wh=null}function Up(o){var l=_h.current;tt(_h),o._currentValue=l}function zp(o,l,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===h)break;o=o.return}}function _a(o,l){wh=o,jp=va=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(gn=!0),o.firstContext=null)}function zn(o){var l=o._currentValue;if(jp!==o)if(o={context:o,memoizedValue:l,next:null},va===null){if(wh===null)throw Error(t(308));va=o,wh.dependencies={lanes:0,firstContext:o}}else va=va.next=o;return l}var Xs=null;function $p(o){Xs===null?Xs=[o]:Xs.push(o)}function Q_(o,l,h,p){var y=l.interleaved;return y===null?(h.next=h,$p(l)):(h.next=y.next,y.next=h),l.interleaved=h,rr(o,p)}function rr(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Hr=!1;function Wp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function sr(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function qr(o,l,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ue&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,rr(o,h)}return y=p.interleaved,y===null?(l.next=l,$p(p)):(l.next=y.next,y.next=l),p.interleaved=l,rr(o,h)}function Eh(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,Vr(o,h)}}function Z_(o,l){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var y=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var I={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};w===null?y=w=I:w=w.next=I,h=h.next}while(h!==null);w===null?y=w=l:w=w.next=l}else y=w=l;h={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function Th(o,l,h,p){var y=o.updateQueue;Hr=!1;var w=y.firstBaseUpdate,I=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var j=V,G=j.next;j.next=null,I===null?w=G:I.next=G,I=j;var ne=o.alternate;ne!==null&&(ne=ne.updateQueue,V=ne.lastBaseUpdate,V!==I&&(V===null?ne.firstBaseUpdate=G:V.next=G,ne.lastBaseUpdate=j))}if(w!==null){var re=y.baseState;I=0,ne=G=j=null,V=w;do{var te=V.lane,ue=V.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var pe=o,me=V;switch(te=l,ue=h,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(ue,re,te);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,te=typeof pe=="function"?pe.call(ue,re,te):pe,te==null)break e;re=N({},re,te);break e;case 2:Hr=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,te=y.effects,te===null?y.effects=[V]:te.push(V))}else ue={eventTime:ue,lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(G=ne=ue,j=re):ne=ne.next=ue,I|=te;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;te=V,V=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);if(ne===null&&(j=re),y.baseState=j,y.firstBaseUpdate=G,y.lastBaseUpdate=ne,l=y.shared.interleaved,l!==null){y=l;do I|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Zs|=I,o.lanes=I,o.memoizedState=re}}function e0(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],y=p.callback;if(y!==null){if(p.callback=null,p=h,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var t0=new n.Component().refs;function Hp(o,l,h,p){l=o.memoizedState,h=h(p,l),h=h==null?l:N({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var xh={isMounted:function(o){return(o=o._reactInternals)?Zn(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var p=cn(),y=Xr(o),w=sr(p,y);w.payload=l,h!=null&&(w.callback=h),l=qr(o,w,y),l!==null&&(hi(l,o,y,p),Eh(l,o,y))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var p=cn(),y=Xr(o),w=sr(p,y);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=qr(o,w,y),l!==null&&(hi(l,o,y,p),Eh(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=cn(),p=Xr(o),y=sr(h,p);y.tag=2,l!=null&&(y.callback=l),l=qr(o,y,p),l!==null&&(hi(l,o,p,h),Eh(l,o,p))}};function n0(o,l,h,p,y,w,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,I):l.prototype&&l.prototype.isPureReactComponent?!$l(h,p)||!$l(y,w):!0}function i0(o,l,h){var p=!1,y=$r,w=l.contextType;return typeof w=="object"&&w!==null?w=zn(w):(y=mn(l)?Ks:Yt.current,p=l.contextTypes,w=(p=p!=null)?pa(o,y):$r),l=new l(h,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=xh,o.stateNode=l,l._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),l}function r0(o,l,h,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==o&&xh.enqueueReplaceState(l,l.state,null)}function qp(o,l,h,p){var y=o.stateNode;y.props=h,y.state=o.memoizedState,y.refs=t0,Wp(o);var w=l.contextType;typeof w=="object"&&w!==null?y.context=zn(w):(w=mn(l)?Ks:Yt.current,y.context=pa(o,w)),y.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Hp(o,l,w,h),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&xh.enqueueReplaceState(y,y.state,null),Th(o,h,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Xl(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var p=h.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(I){var V=y.refs;V===t0&&(V=y.refs={}),I===null?delete V[w]:V[w]=I},l._stringRef=w,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function Sh(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function s0(o){var l=o._init;return l(o._payload)}function o0(o){function l(H,z){if(o){var K=H.deletions;K===null?(H.deletions=[z],H.flags|=16):K.push(z)}}function h(H,z){if(!o)return null;for(;z!==null;)l(H,z),z=z.sibling;return null}function p(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function y(H,z){return H=Jr(H,z),H.index=0,H.sibling=null,H}function w(H,z,K){return H.index=K,o?(K=H.alternate,K!==null?(K=K.index,K<z?(H.flags|=2,z):K):(H.flags|=2,z)):(H.flags|=1048576,z)}function I(H){return o&&H.alternate===null&&(H.flags|=2),H}function V(H,z,K,se){return z===null||z.tag!==6?(z=Pm(K,H.mode,se),z.return=H,z):(z=y(z,K),z.return=H,z)}function j(H,z,K,se){var ge=K.type;return ge===D?ne(H,z,K.props.children,se,K.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Pe&&s0(ge)===z.type)?(se=y(z,K.props),se.ref=Xl(H,z,K),se.return=H,se):(se=$h(K.type,K.key,K.props,null,H.mode,se),se.ref=Xl(H,z,K),se.return=H,se)}function G(H,z,K,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Rm(K,H.mode,se),z.return=H,z):(z=y(z,K.children||[]),z.return=H,z)}function ne(H,z,K,se,ge){return z===null||z.tag!==7?(z=io(K,H.mode,se,ge),z.return=H,z):(z=y(z,K),z.return=H,z)}function re(H,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Pm(""+z,H.mode,K),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return K=$h(z.type,z.key,z.props,null,H.mode,K),K.ref=Xl(H,null,z),K.return=H,K;case Q:return z=Rm(z,H.mode,K),z.return=H,z;case Pe:var se=z._init;return re(H,se(z._payload),K)}if(Hi(z)||ae(z))return z=io(z,H.mode,K,null),z.return=H,z;Sh(H,z)}return null}function te(H,z,K,se){var ge=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:V(H,z,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return K.key===ge?j(H,z,K,se):null;case Q:return K.key===ge?G(H,z,K,se):null;case Pe:return ge=K._init,te(H,z,ge(K._payload),se)}if(Hi(K)||ae(K))return ge!==null?null:ne(H,z,K,se,null);Sh(H,K)}return null}function ue(H,z,K,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(K)||null,V(z,H,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Y:return H=H.get(se.key===null?K:se.key)||null,j(z,H,se,ge);case Q:return H=H.get(se.key===null?K:se.key)||null,G(z,H,se,ge);case Pe:var _e=se._init;return ue(H,z,K,_e(se._payload),ge)}if(Hi(se)||ae(se))return H=H.get(K)||null,ne(z,H,se,ge,null);Sh(z,se)}return null}function pe(H,z,K,se){for(var ge=null,_e=null,we=z,Ae=z=0,Vt=null;we!==null&&Ae<K.length;Ae++){we.index>Ae?(Vt=we,we=null):Vt=we.sibling;var We=te(H,we,K[Ae],se);if(We===null){we===null&&(we=Vt);break}o&&we&&We.alternate===null&&l(H,we),z=w(We,z,Ae),_e===null?ge=We:_e.sibling=We,_e=We,we=Vt}if(Ae===K.length)return h(H,we),ot&&Ys(H,Ae),ge;if(we===null){for(;Ae<K.length;Ae++)we=re(H,K[Ae],se),we!==null&&(z=w(we,z,Ae),_e===null?ge=we:_e.sibling=we,_e=we);return ot&&Ys(H,Ae),ge}for(we=p(H,we);Ae<K.length;Ae++)Vt=ue(we,H,Ae,K[Ae],se),Vt!==null&&(o&&Vt.alternate!==null&&we.delete(Vt.key===null?Ae:Vt.key),z=w(Vt,z,Ae),_e===null?ge=Vt:_e.sibling=Vt,_e=Vt);return o&&we.forEach(function(Zr){return l(H,Zr)}),ot&&Ys(H,Ae),ge}function me(H,z,K,se){var ge=ae(K);if(typeof ge!="function")throw Error(t(150));if(K=ge.call(K),K==null)throw Error(t(151));for(var _e=ge=null,we=z,Ae=z=0,Vt=null,We=K.next();we!==null&&!We.done;Ae++,We=K.next()){we.index>Ae?(Vt=we,we=null):Vt=we.sibling;var Zr=te(H,we,We.value,se);if(Zr===null){we===null&&(we=Vt);break}o&&we&&Zr.alternate===null&&l(H,we),z=w(Zr,z,Ae),_e===null?ge=Zr:_e.sibling=Zr,_e=Zr,we=Vt}if(We.done)return h(H,we),ot&&Ys(H,Ae),ge;if(we===null){for(;!We.done;Ae++,We=K.next())We=re(H,We.value,se),We!==null&&(z=w(We,z,Ae),_e===null?ge=We:_e.sibling=We,_e=We);return ot&&Ys(H,Ae),ge}for(we=p(H,we);!We.done;Ae++,We=K.next())We=ue(we,H,Ae,We.value,se),We!==null&&(o&&We.alternate!==null&&we.delete(We.key===null?Ae:We.key),z=w(We,z,Ae),_e===null?ge=We:_e.sibling=We,_e=We);return o&&we.forEach(function(BP){return l(H,BP)}),ot&&Ys(H,Ae),ge}function mt(H,z,K,se){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:e:{for(var ge=K.key,_e=z;_e!==null;){if(_e.key===ge){if(ge=K.type,ge===D){if(_e.tag===7){h(H,_e.sibling),z=y(_e,K.props.children),z.return=H,H=z;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Pe&&s0(ge)===_e.type){h(H,_e.sibling),z=y(_e,K.props),z.ref=Xl(H,_e,K),z.return=H,H=z;break e}h(H,_e);break}else l(H,_e);_e=_e.sibling}K.type===D?(z=io(K.props.children,H.mode,se,K.key),z.return=H,H=z):(se=$h(K.type,K.key,K.props,null,H.mode,se),se.ref=Xl(H,z,K),se.return=H,H=se)}return I(H);case Q:e:{for(_e=K.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){h(H,z.sibling),z=y(z,K.children||[]),z.return=H,H=z;break e}else{h(H,z);break}else l(H,z);z=z.sibling}z=Rm(K,H.mode,se),z.return=H,H=z}return I(H);case Pe:return _e=K._init,mt(H,z,_e(K._payload),se)}if(Hi(K))return pe(H,z,K,se);if(ae(K))return me(H,z,K,se);Sh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(h(H,z.sibling),z=y(z,K),z.return=H,H=z):(h(H,z),z=Pm(K,H.mode,se),z.return=H,H=z),I(H)):h(H,z)}return mt}var wa=o0(!0),a0=o0(!1),Ql={},Ci=zr(Ql),Jl=zr(Ql),Zl=zr(Ql);function Qs(o){if(o===Ql)throw Error(t(174));return o}function Kp(o,l){switch(Ze(Zl,l),Ze(Jl,o),Ze(Ci,Ql),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:It(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=It(l,o)}tt(Ci),Ze(Ci,l)}function Ea(){tt(Ci),tt(Jl),tt(Zl)}function l0(o){Qs(Zl.current);var l=Qs(Ci.current),h=It(l,o.type);l!==h&&(Ze(Jl,o),Ze(Ci,h))}function Gp(o){Jl.current===o&&(tt(Ci),tt(Jl))}var lt=zr(0);function Ih(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Yp=[];function Xp(){for(var o=0;o<Yp.length;o++)Yp[o]._workInProgressVersionPrimary=null;Yp.length=0}var Ah=q.ReactCurrentDispatcher,Qp=q.ReactCurrentBatchConfig,Js=0,ut=null,bt=null,Mt=null,bh=!1,eu=!1,tu=0,lP=0;function Xt(){throw Error(t(321))}function Jp(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!oi(o[h],l[h]))return!1;return!0}function Zp(o,l,h,p,y,w){if(Js=w,ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ah.current=o===null||o.memoizedState===null?dP:fP,o=h(p,y),eu){w=0;do{if(eu=!1,tu=0,25<=w)throw Error(t(301));w+=1,Mt=bt=null,l.updateQueue=null,Ah.current=pP,o=h(p,y)}while(eu)}if(Ah.current=Rh,l=bt!==null&&bt.next!==null,Js=0,Mt=bt=ut=null,bh=!1,l)throw Error(t(300));return o}function em(){var o=tu!==0;return tu=0,o}function Pi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ut.memoizedState=Mt=o:Mt=Mt.next=o,Mt}function $n(){if(bt===null){var o=ut.alternate;o=o!==null?o.memoizedState:null}else o=bt.next;var l=Mt===null?ut.memoizedState:Mt.next;if(l!==null)Mt=l,bt=o;else{if(o===null)throw Error(t(310));bt=o,o={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Mt===null?ut.memoizedState=Mt=o:Mt=Mt.next=o}return Mt}function nu(o,l){return typeof l=="function"?l(o):l}function tm(o){var l=$n(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var p=bt,y=p.baseQueue,w=h.pending;if(w!==null){if(y!==null){var I=y.next;y.next=w.next,w.next=I}p.baseQueue=y=w,h.pending=null}if(y!==null){w=y.next,p=p.baseState;var V=I=null,j=null,G=w;do{var ne=G.lane;if((Js&ne)===ne)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),p=G.hasEagerState?G.eagerState:o(p,G.action);else{var re={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(V=j=re,I=p):j=j.next=re,ut.lanes|=ne,Zs|=ne}G=G.next}while(G!==null&&G!==w);j===null?I=p:j.next=V,oi(p,l.memoizedState)||(gn=!0),l.memoizedState=p,l.baseState=I,l.baseQueue=j,h.lastRenderedState=p}if(o=h.interleaved,o!==null){y=o;do w=y.lane,ut.lanes|=w,Zs|=w,y=y.next;while(y!==o)}else y===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function nm(o){var l=$n(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var p=h.dispatch,y=h.pending,w=l.memoizedState;if(y!==null){h.pending=null;var I=y=y.next;do w=o(w,I.action),I=I.next;while(I!==y);oi(w,l.memoizedState)||(gn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),h.lastRenderedState=w}return[w,p]}function u0(){}function c0(o,l){var h=ut,p=$n(),y=l(),w=!oi(p.memoizedState,y);if(w&&(p.memoizedState=y,gn=!0),p=p.queue,im(f0.bind(null,h,p,o),[o]),p.getSnapshot!==l||w||Mt!==null&&Mt.memoizedState.tag&1){if(h.flags|=2048,iu(9,d0.bind(null,h,p,y,l),void 0,null),Ot===null)throw Error(t(349));(Js&30)!==0||h0(h,l,y)}return y}function h0(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=ut.updateQueue,l===null?(l={lastEffect:null,stores:null},ut.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function d0(o,l,h,p){l.value=h,l.getSnapshot=p,p0(l)&&m0(o)}function f0(o,l,h){return h(function(){p0(l)&&m0(o)})}function p0(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!oi(o,h)}catch{return!0}}function m0(o){var l=rr(o,1);l!==null&&hi(l,o,1,-1)}function g0(o){var l=Pi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:o},l.queue=o,o=o.dispatch=hP.bind(null,ut,o),[l.memoizedState,o]}function iu(o,l,h,p){return o={tag:o,create:l,destroy:h,deps:p,next:null},l=ut.updateQueue,l===null?(l={lastEffect:null,stores:null},ut.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,l.lastEffect=o)),o}function y0(){return $n().memoizedState}function Ch(o,l,h,p){var y=Pi();ut.flags|=o,y.memoizedState=iu(1|l,h,void 0,p===void 0?null:p)}function Ph(o,l,h,p){var y=$n();p=p===void 0?null:p;var w=void 0;if(bt!==null){var I=bt.memoizedState;if(w=I.destroy,p!==null&&Jp(p,I.deps)){y.memoizedState=iu(l,h,w,p);return}}ut.flags|=o,y.memoizedState=iu(1|l,h,w,p)}function v0(o,l){return Ch(8390656,8,o,l)}function im(o,l){return Ph(2048,8,o,l)}function _0(o,l){return Ph(4,2,o,l)}function w0(o,l){return Ph(4,4,o,l)}function E0(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function T0(o,l,h){return h=h!=null?h.concat([o]):null,Ph(4,4,E0.bind(null,l,o),h)}function rm(){}function x0(o,l){var h=$n();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&Jp(l,p[1])?p[0]:(h.memoizedState=[o,l],o)}function S0(o,l){var h=$n();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&Jp(l,p[1])?p[0]:(o=o(),h.memoizedState=[o,l],o)}function I0(o,l,h){return(Js&21)===0?(o.baseState&&(o.baseState=!1,gn=!0),o.memoizedState=h):(oi(h,l)||(h=Us(),ut.lanes|=h,Zs|=h,o.baseState=!0),l)}function uP(o,l){var h=Fe;Fe=h!==0&&4>h?h:4,o(!0);var p=Qp.transition;Qp.transition={};try{o(!1),l()}finally{Fe=h,Qp.transition=p}}function A0(){return $n().memoizedState}function cP(o,l,h){var p=Xr(o);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},b0(o))C0(l,h);else if(h=Q_(o,l,h,p),h!==null){var y=cn();hi(h,o,p,y),P0(h,l,p)}}function hP(o,l,h){var p=Xr(o),y={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(b0(o))C0(l,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var I=l.lastRenderedState,V=w(I,h);if(y.hasEagerState=!0,y.eagerState=V,oi(V,I)){var j=l.interleaved;j===null?(y.next=y,$p(l)):(y.next=j.next,j.next=y),l.interleaved=y;return}}catch{}finally{}h=Q_(o,l,y,p),h!==null&&(y=cn(),hi(h,o,p,y),P0(h,l,p))}}function b0(o){var l=o.alternate;return o===ut||l!==null&&l===ut}function C0(o,l){eu=bh=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function P0(o,l,h){if((h&4194240)!==0){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,Vr(o,h)}}var Rh={readContext:zn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},dP={readContext:zn,useCallback:function(o,l){return Pi().memoizedState=[o,l===void 0?null:l],o},useContext:zn,useEffect:v0,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Ch(4194308,4,E0.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Ch(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ch(4,2,o,l)},useMemo:function(o,l){var h=Pi();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var p=Pi();return l=h!==void 0?h(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=cP.bind(null,ut,o),[p.memoizedState,o]},useRef:function(o){var l=Pi();return o={current:o},l.memoizedState=o},useState:g0,useDebugValue:rm,useDeferredValue:function(o){return Pi().memoizedState=o},useTransition:function(){var o=g0(!1),l=o[0];return o=uP.bind(null,o[1]),Pi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var p=ut,y=Pi();if(ot){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),Ot===null)throw Error(t(349));(Js&30)!==0||h0(p,l,h)}y.memoizedState=h;var w={value:h,getSnapshot:l};return y.queue=w,v0(f0.bind(null,p,w,o),[o]),p.flags|=2048,iu(9,d0.bind(null,p,w,h,l),void 0,null),h},useId:function(){var o=Pi(),l=Ot.identifierPrefix;if(ot){var h=ir,p=nr;h=(p&~(1<<32-an(p)-1)).toString(32)+h,l=":"+l+"R"+h,h=tu++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=lP++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},fP={readContext:zn,useCallback:x0,useContext:zn,useEffect:im,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:w0,useMemo:S0,useReducer:tm,useRef:y0,useState:function(){return tm(nu)},useDebugValue:rm,useDeferredValue:function(o){var l=$n();return I0(l,bt.memoizedState,o)},useTransition:function(){var o=tm(nu)[0],l=$n().memoizedState;return[o,l]},useMutableSource:u0,useSyncExternalStore:c0,useId:A0,unstable_isNewReconciler:!1},pP={readContext:zn,useCallback:x0,useContext:zn,useEffect:im,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:w0,useMemo:S0,useReducer:nm,useRef:y0,useState:function(){return nm(nu)},useDebugValue:rm,useDeferredValue:function(o){var l=$n();return bt===null?l.memoizedState=o:I0(l,bt.memoizedState,o)},useTransition:function(){var o=nm(nu)[0],l=$n().memoizedState;return[o,l]},useMutableSource:u0,useSyncExternalStore:c0,useId:A0,unstable_isNewReconciler:!1};function Ta(o,l){try{var h="",p=l;do h+=Oe(p),p=p.return;while(p);var y=h}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:y,digest:null}}function sm(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function om(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var mP=typeof WeakMap=="function"?WeakMap:Map;function R0(o,l,h){h=sr(-1,h),h.tag=3,h.payload={element:null};var p=l.value;return h.callback=function(){Nh||(Nh=!0,Em=p),om(o,l)},h}function k0(o,l,h){h=sr(-1,h),h.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;h.payload=function(){return p(y)},h.callback=function(){om(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(h.callback=function(){om(o,l),typeof p!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),h}function D0(o,l,h){var p=o.pingCache;if(p===null){p=o.pingCache=new mP;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(h)||(y.add(h),o=PP.bind(null,o,l,h),l.then(o,o))}function M0(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function O0(o,l,h,p,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=sr(-1,1),l.tag=2,qr(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var gP=q.ReactCurrentOwner,gn=!1;function un(o,l,h,p){l.child=o===null?a0(l,null,h,p):wa(l,o.child,h,p)}function V0(o,l,h,p,y){h=h.render;var w=l.ref;return _a(l,y),p=Zp(o,l,h,p,w,y),h=em(),o!==null&&!gn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,or(o,l,y)):(ot&&h&&Op(l),l.flags|=1,un(o,l,p,y),l.child)}function L0(o,l,h,p,y){if(o===null){var w=h.type;return typeof w=="function"&&!Cm(w)&&w.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=w,N0(o,l,w,p,y)):(o=$h(h.type,null,p,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&y)===0){var I=w.memoizedProps;if(h=h.compare,h=h!==null?h:$l,h(I,p)&&o.ref===l.ref)return or(o,l,y)}return l.flags|=1,o=Jr(w,p),o.ref=l.ref,o.return=l,l.child=o}function N0(o,l,h,p,y){if(o!==null){var w=o.memoizedProps;if($l(w,p)&&o.ref===l.ref)if(gn=!1,l.pendingProps=p=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(gn=!0);else return l.lanes=o.lanes,or(o,l,y)}return am(o,l,h,p,y)}function F0(o,l,h){var p=l.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Sa,kn),kn|=h;else{if((h&1073741824)===0)return o=w!==null?w.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Ze(Sa,kn),kn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:h,Ze(Sa,kn),kn|=p}else w!==null?(p=w.baseLanes|h,l.memoizedState=null):p=h,Ze(Sa,kn),kn|=p;return un(o,l,y,h),l.child}function j0(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function am(o,l,h,p,y){var w=mn(h)?Ks:Yt.current;return w=pa(l,w),_a(l,y),h=Zp(o,l,h,p,w,y),p=em(),o!==null&&!gn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,or(o,l,y)):(ot&&p&&Op(l),l.flags|=1,un(o,l,h,y),l.child)}function B0(o,l,h,p,y){if(mn(h)){var w=!0;ph(l)}else w=!1;if(_a(l,y),l.stateNode===null)Dh(o,l),i0(l,h,p),qp(l,h,p,y),p=!0;else if(o===null){var I=l.stateNode,V=l.memoizedProps;I.props=V;var j=I.context,G=h.contextType;typeof G=="object"&&G!==null?G=zn(G):(G=mn(h)?Ks:Yt.current,G=pa(l,G));var ne=h.getDerivedStateFromProps,re=typeof ne=="function"||typeof I.getSnapshotBeforeUpdate=="function";re||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==p||j!==G)&&r0(l,I,p,G),Hr=!1;var te=l.memoizedState;I.state=te,Th(l,p,I,y),j=l.memoizedState,V!==p||te!==j||pn.current||Hr?(typeof ne=="function"&&(Hp(l,h,ne,p),j=l.memoizedState),(V=Hr||n0(l,h,V,p,te,j,G))?(re||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=j),I.props=p,I.state=j,I.context=G,p=V):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{I=l.stateNode,J_(o,l),V=l.memoizedProps,G=l.type===l.elementType?V:li(l.type,V),I.props=G,re=l.pendingProps,te=I.context,j=h.contextType,typeof j=="object"&&j!==null?j=zn(j):(j=mn(h)?Ks:Yt.current,j=pa(l,j));var ue=h.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==re||te!==j)&&r0(l,I,p,j),Hr=!1,te=l.memoizedState,I.state=te,Th(l,p,I,y);var pe=l.memoizedState;V!==re||te!==pe||pn.current||Hr?(typeof ue=="function"&&(Hp(l,h,ue,p),pe=l.memoizedState),(G=Hr||n0(l,h,G,p,te,pe,j)||!1)?(ne||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,pe,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,pe,j)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=pe),I.props=p,I.state=pe,I.context=j,p=G):(typeof I.componentDidUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),p=!1)}return lm(o,l,h,p,w,y)}function lm(o,l,h,p,y,w){j0(o,l);var I=(l.flags&128)!==0;if(!p&&!I)return y&&W_(l,h,!1),or(o,l,w);p=l.stateNode,gP.current=l;var V=I&&typeof h.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&I?(l.child=wa(l,o.child,null,w),l.child=wa(l,null,V,w)):un(o,l,V,w),l.memoizedState=p.state,y&&W_(l,h,!0),l.child}function U0(o){var l=o.stateNode;l.pendingContext?z_(o,l.pendingContext,l.pendingContext!==l.context):l.context&&z_(o,l.context,!1),Kp(o,l.containerInfo)}function z0(o,l,h,p,y){return ya(),Fp(y),l.flags|=256,un(o,l,h,p),l.child}var um={dehydrated:null,treeContext:null,retryLane:0};function cm(o){return{baseLanes:o,cachePool:null,transitions:null}}function $0(o,l,h){var p=l.pendingProps,y=lt.current,w=!1,I=(l.flags&128)!==0,V;if((V=I)||(V=o!==null&&o.memoizedState===null?!1:(y&2)!==0),V?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Ze(lt,y&1),o===null)return Np(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(I=p.children,o=p.fallback,w?(p=l.mode,w=l.child,I={mode:"hidden",children:I},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=Wh(I,p,0,null),o=io(o,p,h,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=cm(h),l.memoizedState=um,o):hm(l,I));if(y=o.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return yP(o,l,I,p,V,y,h);if(w){w=p.fallback,I=l.mode,y=o.child,V=y.sibling;var j={mode:"hidden",children:p.children};return(I&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=j,l.deletions=null):(p=Jr(y,j),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?w=Jr(V,w):(w=io(w,I,h,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,I=o.child.memoizedState,I=I===null?cm(h):{baseLanes:I.baseLanes|h,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=o.childLanes&~h,l.memoizedState=um,p}return w=o.child,o=w.sibling,p=Jr(w,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=h),p.return=l,p.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=p,l.memoizedState=null,p}function hm(o,l){return l=Wh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function kh(o,l,h,p){return p!==null&&Fp(p),wa(l,o.child,null,h),o=hm(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function yP(o,l,h,p,y,w,I){if(h)return l.flags&256?(l.flags&=-257,p=sm(Error(t(422))),kh(o,l,I,p)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=p.fallback,y=l.mode,p=Wh({mode:"visible",children:p.children},y,0,null),w=io(w,y,I,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,(l.mode&1)!==0&&wa(l,o.child,null,I),l.child.memoizedState=cm(I),l.memoizedState=um,w);if((l.mode&1)===0)return kh(o,l,I,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,w=Error(t(419)),p=sm(w,p,void 0),kh(o,l,I,p)}if(V=(I&o.childLanes)!==0,gn||V){if(p=Ot,p!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|I))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,rr(o,y),hi(p,o,y,-1))}return bm(),p=sm(Error(t(421))),kh(o,l,I,p)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=RP.bind(null,o),y._reactRetry=l,null):(o=w.treeContext,Rn=Ur(y.nextSibling),Pn=l,ot=!0,ai=null,o!==null&&(Bn[Un++]=nr,Bn[Un++]=ir,Bn[Un++]=Gs,nr=o.id,ir=o.overflow,Gs=l),l=hm(l,p.children),l.flags|=4096,l)}function W0(o,l,h){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),zp(o.return,l,h)}function dm(o,l,h,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=h,w.tailMode=y)}function H0(o,l,h){var p=l.pendingProps,y=p.revealOrder,w=p.tail;if(un(o,l,p.children,h),p=lt.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&W0(o,h,l);else if(o.tag===19)W0(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(Ze(lt,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(h=l.child,y=null;h!==null;)o=h.alternate,o!==null&&Ih(o)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),dm(l,!1,y,h,w);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Ih(o)===null){l.child=y;break}o=y.sibling,y.sibling=h,h=y,y=o}dm(l,!0,h,null,w);break;case"together":dm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Dh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function or(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Zs|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=Jr(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Jr(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function vP(o,l,h){switch(l.tag){case 3:U0(l),ya();break;case 5:l0(l);break;case 1:mn(l.type)&&ph(l);break;case 4:Kp(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;Ze(_h,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(Ze(lt,lt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?$0(o,l,h):(Ze(lt,lt.current&1),o=or(o,l,h),o!==null?o.sibling:null);Ze(lt,lt.current&1);break;case 19:if(p=(h&l.childLanes)!==0,(o.flags&128)!==0){if(p)return H0(o,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ze(lt,lt.current),p)break;return null;case 22:case 23:return l.lanes=0,F0(o,l,h)}return or(o,l,h)}var q0,fm,K0,G0;q0=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},fm=function(){},K0=function(o,l,h,p){var y=o.memoizedProps;if(y!==p){o=l.stateNode,Qs(Ci.current);var w=null;switch(h){case"input":y=Rs(o,y),p=Rs(o,p),w=[];break;case"select":y=N({},y,{value:void 0}),p=N({},p,{value:void 0}),w=[];break;case"textarea":y=vl(o,y),p=vl(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=hh)}Sl(h,p);var I;h=null;for(G in y)if(!p.hasOwnProperty(G)&&y.hasOwnProperty(G)&&y[G]!=null)if(G==="style"){var V=y[G];for(I in V)V.hasOwnProperty(I)&&(h||(h={}),h[I]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(r.hasOwnProperty(G)?w||(w=[]):(w=w||[]).push(G,null));for(G in p){var j=p[G];if(V=y!=null?y[G]:void 0,p.hasOwnProperty(G)&&j!==V&&(j!=null||V!=null))if(G==="style")if(V){for(I in V)!V.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(h||(h={}),h[I]="");for(I in j)j.hasOwnProperty(I)&&V[I]!==j[I]&&(h||(h={}),h[I]=j[I])}else h||(w||(w=[]),w.push(G,h)),h=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,V=V?V.__html:void 0,j!=null&&V!==j&&(w=w||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(w=w||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(r.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&et("scroll",o),w||V===j||(w=[])):(w=w||[]).push(G,j))}h&&(w=w||[]).push("style",h);var G=w;(l.updateQueue=G)&&(l.flags|=4)}},G0=function(o,l,h,p){h!==p&&(l.flags|=4)};function ru(o,l){if(!ot)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Qt(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(l)for(var y=o.child;y!==null;)h|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)h|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=h,l}function _P(o,l,h){var p=l.pendingProps;switch(Vp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(l),null;case 1:return mn(l.type)&&fh(),Qt(l),null;case 3:return p=l.stateNode,Ea(),tt(pn),tt(Yt),Xp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(vh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ai!==null&&(Sm(ai),ai=null))),fm(o,l),Qt(l),null;case 5:Gp(l);var y=Qs(Zl.current);if(h=l.type,o!==null&&l.stateNode!=null)K0(o,l,h,p,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(t(166));return Qt(l),null}if(o=Qs(Ci.current),vh(l)){p=l.stateNode,h=l.type;var w=l.memoizedProps;switch(p[bi]=l,p[Gl]=w,o=(l.mode&1)!==0,h){case"dialog":et("cancel",p),et("close",p);break;case"iframe":case"object":case"embed":et("load",p);break;case"video":case"audio":for(y=0;y<Hl.length;y++)et(Hl[y],p);break;case"source":et("error",p);break;case"img":case"image":case"link":et("error",p),et("load",p);break;case"details":et("toggle",p);break;case"input":Lo(p,w),et("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},et("invalid",p);break;case"textarea":Fo(p,w),et("invalid",p)}Sl(h,w),y=null;for(var I in w)if(w.hasOwnProperty(I)){var V=w[I];I==="children"?typeof V=="string"?p.textContent!==V&&(w.suppressHydrationWarning!==!0&&ch(p.textContent,V,o),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&ch(p.textContent,V,o),y=["children",""+V]):r.hasOwnProperty(I)&&V!=null&&I==="onScroll"&&et("scroll",p)}switch(h){case"input":Wi(p),Lc(p,w,!0);break;case"textarea":Wi(p),_l(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=hh)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=St(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=I.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=I.createElement(h,{is:p.is}):(o=I.createElement(h),h==="select"&&(I=o,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):o=I.createElementNS(o,h),o[bi]=l,o[Gl]=p,q0(o,l,!1,!1),l.stateNode=o;e:{switch(I=Il(h,p),h){case"dialog":et("cancel",o),et("close",o),y=p;break;case"iframe":case"object":case"embed":et("load",o),y=p;break;case"video":case"audio":for(y=0;y<Hl.length;y++)et(Hl[y],o);y=p;break;case"source":et("error",o),y=p;break;case"img":case"image":case"link":et("error",o),et("load",o),y=p;break;case"details":et("toggle",o),y=p;break;case"input":Lo(o,p),y=Rs(o,p),et("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=N({},p,{value:void 0}),et("invalid",o);break;case"textarea":Fo(o,p),y=vl(o,p),et("invalid",o);break;default:y=p}Sl(h,y),V=y;for(w in V)if(V.hasOwnProperty(w)){var j=V[w];w==="style"?Tl(o,j):w==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&wl(o,j)):w==="children"?typeof j=="string"?(h!=="textarea"||j!=="")&&Rr(o,j):typeof j=="number"&&Rr(o,""+j):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(r.hasOwnProperty(w)?j!=null&&w==="onScroll"&&et("scroll",o):j!=null&&B(o,w,j,I))}switch(h){case"input":Wi(o),Lc(o,p,!1);break;case"textarea":Wi(o),_l(o);break;case"option":p.value!=null&&o.setAttribute("value",""+$e(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?qi(o,!!p.multiple,w,!1):p.defaultValue!=null&&qi(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=hh)}switch(h){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Qt(l),null;case 6:if(o&&l.stateNode!=null)G0(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(t(166));if(h=Qs(Zl.current),Qs(Ci.current),vh(l)){if(p=l.stateNode,h=l.memoizedProps,p[bi]=l,(w=p.nodeValue!==h)&&(o=Pn,o!==null))switch(o.tag){case 3:ch(p.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ch(p.nodeValue,h,(o.mode&1)!==0)}w&&(l.flags|=4)}else p=(h.nodeType===9?h:h.ownerDocument).createTextNode(p),p[bi]=l,l.stateNode=p}return Qt(l),null;case 13:if(tt(lt),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ot&&Rn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)X_(),ya(),l.flags|=98560,w=!1;else if(w=vh(l),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[bi]=l}else ya(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Qt(l),w=!1}else ai!==null&&(Sm(ai),ai=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(lt.current&1)!==0?Ct===0&&(Ct=3):bm())),l.updateQueue!==null&&(l.flags|=4),Qt(l),null);case 4:return Ea(),fm(o,l),o===null&&ql(l.stateNode.containerInfo),Qt(l),null;case 10:return Up(l.type._context),Qt(l),null;case 17:return mn(l.type)&&fh(),Qt(l),null;case 19:if(tt(lt),w=l.memoizedState,w===null)return Qt(l),null;if(p=(l.flags&128)!==0,I=w.rendering,I===null)if(p)ru(w,!1);else{if(Ct!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(I=Ih(o),I!==null){for(l.flags|=128,ru(w,!1),p=I.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=h,h=l.child;h!==null;)w=h,o=p,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,o=I.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Ze(lt,lt.current&1|2),l.child}o=o.sibling}w.tail!==null&&Je()>Ia&&(l.flags|=128,p=!0,ru(w,!1),l.lanes=4194304)}else{if(!p)if(o=Ih(I),o!==null){if(l.flags|=128,p=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),ru(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!ot)return Qt(l),null}else 2*Je()-w.renderingStartTime>Ia&&h!==1073741824&&(l.flags|=128,p=!0,ru(w,!1),l.lanes=4194304);w.isBackwards?(I.sibling=l.child,l.child=I):(h=w.last,h!==null?h.sibling=I:l.child=I,w.last=I)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Je(),l.sibling=null,h=lt.current,Ze(lt,p?h&1|2:h&1),l):(Qt(l),null);case 22:case 23:return Am(),p=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(kn&1073741824)!==0&&(Qt(l),l.subtreeFlags&6&&(l.flags|=8192)):Qt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function wP(o,l){switch(Vp(l),l.tag){case 1:return mn(l.type)&&fh(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ea(),tt(pn),tt(Yt),Xp(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Gp(l),null;case 13:if(tt(lt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));ya()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return tt(lt),null;case 4:return Ea(),null;case 10:return Up(l.type._context),null;case 22:case 23:return Am(),null;case 24:return null;default:return null}}var Mh=!1,Jt=!1,EP=typeof WeakSet=="function"?WeakSet:Set,de=null;function xa(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){dt(o,l,p)}else h.current=null}function pm(o,l,h){try{h()}catch(p){dt(o,l,p)}}var Y0=!1;function TP(o,l){if(Ap=Fr,o=A_(),vp(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var I=0,V=-1,j=-1,G=0,ne=0,re=o,te=null;t:for(;;){for(var ue;re!==h||y!==0&&re.nodeType!==3||(V=I+y),re!==w||p!==0&&re.nodeType!==3||(j=I+p),re.nodeType===3&&(I+=re.nodeValue.length),(ue=re.firstChild)!==null;)te=re,re=ue;for(;;){if(re===o)break t;if(te===h&&++G===y&&(V=I),te===w&&++ne===p&&(j=I),(ue=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ue}h=V===-1||j===-1?null:{start:V,end:j}}else h=null}h=h||{start:0,end:0}}else h=null;for(bp={focusedElem:o,selectionRange:h},Fr=!1,de=l;de!==null;)if(l=de,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,de=o;else for(;de!==null;){l=de;try{var pe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,mt=pe.memoizedState,H=l.stateNode,z=H.getSnapshotBeforeUpdate(l.elementType===l.type?me:li(l.type,me),mt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=l.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){dt(l,l.return,se)}if(o=l.sibling,o!==null){o.return=l.return,de=o;break}de=l.return}return pe=Y0,Y0=!1,pe}function su(o,l,h){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&pm(l,h,w)}y=y.next}while(y!==p)}}function Oh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var p=h.create;h.destroy=p()}h=h.next}while(h!==l)}}function mm(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function X0(o){var l=o.alternate;l!==null&&(o.alternate=null,X0(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[bi],delete l[Gl],delete l[kp],delete l[rP],delete l[sP])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Q0(o){return o.tag===5||o.tag===3||o.tag===4}function J0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Q0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gm(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=hh));else if(p!==4&&(o=o.child,o!==null))for(gm(o,l,h),o=o.sibling;o!==null;)gm(o,l,h),o=o.sibling}function ym(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(ym(o,l,h),o=o.sibling;o!==null;)ym(o,l,h),o=o.sibling}var Ut=null,ui=!1;function Kr(o,l,h){for(h=h.child;h!==null;)Z0(o,l,h),h=h.sibling}function Z0(o,l,h){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(js,h)}catch{}switch(h.tag){case 5:Jt||xa(h,l);case 6:var p=Ut,y=ui;Ut=null,Kr(o,l,h),Ut=p,ui=y,Ut!==null&&(ui?(o=Ut,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Ut.removeChild(h.stateNode));break;case 18:Ut!==null&&(ui?(o=Ut,h=h.stateNode,o.nodeType===8?Rp(o.parentNode,h):o.nodeType===1&&Rp(o,h),ri(o)):Rp(Ut,h.stateNode));break;case 4:p=Ut,y=ui,Ut=h.stateNode.containerInfo,ui=!0,Kr(o,l,h),Ut=p,ui=y;break;case 0:case 11:case 14:case 15:if(!Jt&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&pm(h,l,I),y=y.next}while(y!==p)}Kr(o,l,h);break;case 1:if(!Jt&&(xa(h,l),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(V){dt(h,l,V)}Kr(o,l,h);break;case 21:Kr(o,l,h);break;case 22:h.mode&1?(Jt=(p=Jt)||h.memoizedState!==null,Kr(o,l,h),Jt=p):Kr(o,l,h);break;default:Kr(o,l,h)}}function ew(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new EP),l.forEach(function(p){var y=kP.bind(null,o,p);h.has(p)||(h.add(p),p.then(y,y))})}}function ci(o,l){var h=l.deletions;if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];try{var w=o,I=l,V=I;e:for(;V!==null;){switch(V.tag){case 5:Ut=V.stateNode,ui=!1;break e;case 3:Ut=V.stateNode.containerInfo,ui=!0;break e;case 4:Ut=V.stateNode.containerInfo,ui=!0;break e}V=V.return}if(Ut===null)throw Error(t(160));Z0(w,I,y),Ut=null,ui=!1;var j=y.alternate;j!==null&&(j.return=null),y.return=null}catch(G){dt(y,l,G)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)tw(l,o),l=l.sibling}function tw(o,l){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ci(l,o),Ri(o),p&4){try{su(3,o,o.return),Oh(3,o)}catch(me){dt(o,o.return,me)}try{su(5,o,o.return)}catch(me){dt(o,o.return,me)}}break;case 1:ci(l,o),Ri(o),p&512&&h!==null&&xa(h,h.return);break;case 5:if(ci(l,o),Ri(o),p&512&&h!==null&&xa(h,h.return),o.flags&32){var y=o.stateNode;try{Rr(y,"")}catch(me){dt(o,o.return,me)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,I=h!==null?h.memoizedProps:w,V=o.type,j=o.updateQueue;if(o.updateQueue=null,j!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&gl(y,w),Il(V,I);var G=Il(V,w);for(I=0;I<j.length;I+=2){var ne=j[I],re=j[I+1];ne==="style"?Tl(y,re):ne==="dangerouslySetInnerHTML"?wl(y,re):ne==="children"?Rr(y,re):B(y,ne,re,G)}switch(V){case"input":yl(y,w);break;case"textarea":jo(y,w);break;case"select":var te=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var ue=w.value;ue!=null?qi(y,!!w.multiple,ue,!1):te!==!!w.multiple&&(w.defaultValue!=null?qi(y,!!w.multiple,w.defaultValue,!0):qi(y,!!w.multiple,w.multiple?[]:"",!1))}y[Gl]=w}catch(me){dt(o,o.return,me)}}break;case 6:if(ci(l,o),Ri(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(me){dt(o,o.return,me)}}break;case 3:if(ci(l,o),Ri(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{ri(l.containerInfo)}catch(me){dt(o,o.return,me)}break;case 4:ci(l,o),Ri(o);break;case 13:ci(l,o),Ri(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(wm=Je())),p&4&&ew(o);break;case 22:if(ne=h!==null&&h.memoizedState!==null,o.mode&1?(Jt=(G=Jt)||ne,ci(l,o),Jt=G):ci(l,o),Ri(o),p&8192){if(G=o.memoizedState!==null,(o.stateNode.isHidden=G)&&!ne&&(o.mode&1)!==0)for(de=o,ne=o.child;ne!==null;){for(re=de=ne;de!==null;){switch(te=de,ue=te.child,te.tag){case 0:case 11:case 14:case 15:su(4,te,te.return);break;case 1:xa(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){p=te,h=te.return;try{l=p,pe.props=l.memoizedProps,pe.state=l.memoizedState,pe.componentWillUnmount()}catch(me){dt(p,h,me)}}break;case 5:xa(te,te.return);break;case 22:if(te.memoizedState!==null){rw(re);continue}}ue!==null?(ue.return=te,de=ue):rw(re)}ne=ne.sibling}e:for(ne=null,re=o;;){if(re.tag===5){if(ne===null){ne=re;try{y=re.stateNode,G?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=re.stateNode,j=re.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,V.style.display=El("display",I))}catch(me){dt(o,o.return,me)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(me){dt(o,o.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===o)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===o)break e;for(;re.sibling===null;){if(re.return===null||re.return===o)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:ci(l,o),Ri(o),p&4&&ew(o);break;case 21:break;default:ci(l,o),Ri(o)}}function Ri(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(Q0(h)){var p=h;break e}h=h.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Rr(y,""),p.flags&=-33);var w=J0(o);ym(o,w,y);break;case 3:case 4:var I=p.stateNode.containerInfo,V=J0(o);gm(o,V,I);break;default:throw Error(t(161))}}catch(j){dt(o,o.return,j)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function xP(o,l,h){de=o,nw(o)}function nw(o,l,h){for(var p=(o.mode&1)!==0;de!==null;){var y=de,w=y.child;if(y.tag===22&&p){var I=y.memoizedState!==null||Mh;if(!I){var V=y.alternate,j=V!==null&&V.memoizedState!==null||Jt;V=Mh;var G=Jt;if(Mh=I,(Jt=j)&&!G)for(de=y;de!==null;)I=de,j=I.child,I.tag===22&&I.memoizedState!==null?sw(y):j!==null?(j.return=I,de=j):sw(y);for(;w!==null;)de=w,nw(w),w=w.sibling;de=y,Mh=V,Jt=G}iw(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,de=w):iw(o)}}function iw(o){for(;de!==null;){var l=de;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Jt||Oh(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Jt)if(h===null)p.componentDidMount();else{var y=l.elementType===l.type?h.memoizedProps:li(l.type,h.memoizedProps);p.componentDidUpdate(y,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&e0(l,w,p);break;case 3:var I=l.updateQueue;if(I!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}e0(l,I,h)}break;case 5:var V=l.stateNode;if(h===null&&l.flags&4){h=V;var j=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&h.focus();break;case"img":j.src&&(h.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var G=l.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&ri(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||l.flags&512&&mm(l)}catch(te){dt(l,l.return,te)}}if(l===o){de=null;break}if(h=l.sibling,h!==null){h.return=l.return,de=h;break}de=l.return}}function rw(o){for(;de!==null;){var l=de;if(l===o){de=null;break}var h=l.sibling;if(h!==null){h.return=l.return,de=h;break}de=l.return}}function sw(o){for(;de!==null;){var l=de;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Oh(4,l)}catch(j){dt(l,h,j)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(j){dt(l,y,j)}}var w=l.return;try{mm(l)}catch(j){dt(l,w,j)}break;case 5:var I=l.return;try{mm(l)}catch(j){dt(l,I,j)}}}catch(j){dt(l,l.return,j)}if(l===o){de=null;break}var V=l.sibling;if(V!==null){V.return=l.return,de=V;break}de=l.return}}var SP=Math.ceil,Vh=q.ReactCurrentDispatcher,vm=q.ReactCurrentOwner,Wn=q.ReactCurrentBatchConfig,Ue=0,Ot=null,wt=null,zt=0,kn=0,Sa=zr(0),Ct=0,ou=null,Zs=0,Lh=0,_m=0,au=null,yn=null,wm=0,Ia=1/0,ar=null,Nh=!1,Em=null,Gr=null,Fh=!1,Yr=null,jh=0,lu=0,Tm=null,Bh=-1,Uh=0;function cn(){return(Ue&6)!==0?Je():Bh!==-1?Bh:Bh=Je()}function Xr(o){return(o.mode&1)===0?1:(Ue&2)!==0&&zt!==0?zt&-zt:aP.transition!==null?(Uh===0&&(Uh=Us()),Uh):(o=Fe,o!==0||(o=window.event,o=o===void 0?16:Ll(o.type)),o)}function hi(o,l,h,p){if(50<lu)throw lu=0,Tm=null,Error(t(185));Or(o,h,p),((Ue&2)===0||o!==Ot)&&(o===Ot&&((Ue&2)===0&&(Lh|=h),Ct===4&&Qr(o,zt)),vn(o,p),h===1&&Ue===0&&(l.mode&1)===0&&(Ia=Je()+500,mh&&Wr()))}function vn(o,l){var h=o.callbackNode;Yi(o,l);var p=Bs(o,o===Ot?zt:0);if(p===0)h!==null&&kl(h),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(h!=null&&kl(h),l===1)o.tag===0?oP(aw.bind(null,o)):H_(aw.bind(null,o)),nP(function(){(Ue&6)===0&&Wr()}),h=null;else{switch(Lr(p)){case 1:h=Fs;break;case 4:h=kr;break;case 16:h=Nn;break;case 536870912:h=Uc;break;default:h=Nn}h=mw(h,ow.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function ow(o,l){if(Bh=-1,Uh=0,(Ue&6)!==0)throw Error(t(327));var h=o.callbackNode;if(Aa()&&o.callbackNode!==h)return null;var p=Bs(o,o===Ot?zt:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||l)l=zh(o,p);else{l=p;var y=Ue;Ue|=2;var w=uw();(Ot!==o||zt!==l)&&(ar=null,Ia=Je()+500,to(o,l));do try{bP();break}catch(V){lw(o,V)}while(!0);Bp(),Vh.current=w,Ue=y,wt!==null?l=0:(Ot=null,zt=0,l=Ct)}if(l!==0){if(l===2&&(y=An(o),y!==0&&(p=y,l=xm(o,y))),l===1)throw h=ou,to(o,0),Qr(o,p),vn(o,Je()),h;if(l===6)Qr(o,p);else{if(y=o.current.alternate,(p&30)===0&&!IP(y)&&(l=zh(o,p),l===2&&(w=An(o),w!==0&&(p=w,l=xm(o,w))),l===1))throw h=ou,to(o,0),Qr(o,p),vn(o,Je()),h;switch(o.finishedWork=y,o.finishedLanes=p,l){case 0:case 1:throw Error(t(345));case 2:no(o,yn,ar);break;case 3:if(Qr(o,p),(p&130023424)===p&&(l=wm+500-Je(),10<l)){if(Bs(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){cn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Pp(no.bind(null,o,yn,ar),l);break}no(o,yn,ar);break;case 4:if(Qr(o,p),(p&4194240)===p)break;for(l=o.eventTimes,y=-1;0<p;){var I=31-an(p);w=1<<I,I=l[I],I>y&&(y=I),p&=~w}if(p=y,p=Je()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*SP(p/1960))-p,10<p){o.timeoutHandle=Pp(no.bind(null,o,yn,ar),p);break}no(o,yn,ar);break;case 5:no(o,yn,ar);break;default:throw Error(t(329))}}}return vn(o,Je()),o.callbackNode===h?ow.bind(null,o):null}function xm(o,l){var h=au;return o.current.memoizedState.isDehydrated&&(to(o,l).flags|=256),o=zh(o,l),o!==2&&(l=yn,yn=h,l!==null&&Sm(l)),o}function Sm(o){yn===null?yn=o:yn.push.apply(yn,o)}function IP(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var y=h[p],w=y.getSnapshot;y=y.value;try{if(!oi(w(),y))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Qr(o,l){for(l&=~_m,l&=~Lh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-an(l),p=1<<h;o[h]=-1,l&=~p}}function aw(o){if((Ue&6)!==0)throw Error(t(327));Aa();var l=Bs(o,0);if((l&1)===0)return vn(o,Je()),null;var h=zh(o,l);if(o.tag!==0&&h===2){var p=An(o);p!==0&&(l=p,h=xm(o,p))}if(h===1)throw h=ou,to(o,0),Qr(o,l),vn(o,Je()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,no(o,yn,ar),vn(o,Je()),null}function Im(o,l){var h=Ue;Ue|=1;try{return o(l)}finally{Ue=h,Ue===0&&(Ia=Je()+500,mh&&Wr())}}function eo(o){Yr!==null&&Yr.tag===0&&(Ue&6)===0&&Aa();var l=Ue;Ue|=1;var h=Wn.transition,p=Fe;try{if(Wn.transition=null,Fe=1,o)return o()}finally{Fe=p,Wn.transition=h,Ue=l,(Ue&6)===0&&Wr()}}function Am(){kn=Sa.current,tt(Sa)}function to(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,tP(h)),wt!==null)for(h=wt.return;h!==null;){var p=h;switch(Vp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&fh();break;case 3:Ea(),tt(pn),tt(Yt),Xp();break;case 5:Gp(p);break;case 4:Ea();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:Up(p.type._context);break;case 22:case 23:Am()}h=h.return}if(Ot=o,wt=o=Jr(o.current,null),zt=kn=l,Ct=0,ou=null,_m=Lh=Zs=0,yn=au=null,Xs!==null){for(l=0;l<Xs.length;l++)if(h=Xs[l],p=h.interleaved,p!==null){h.interleaved=null;var y=p.next,w=h.pending;if(w!==null){var I=w.next;w.next=y,p.next=I}h.pending=p}Xs=null}return o}function lw(o,l){do{var h=wt;try{if(Bp(),Ah.current=Rh,bh){for(var p=ut.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}bh=!1}if(Js=0,Mt=bt=ut=null,eu=!1,tu=0,vm.current=null,h===null||h.return===null){Ct=1,ou=l,wt=null;break}e:{var w=o,I=h.return,V=h,j=l;if(l=zt,V.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,ne=V,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=M0(I);if(ue!==null){ue.flags&=-257,O0(ue,I,V,w,l),ue.mode&1&&D0(w,G,l),l=ue,j=G;var pe=l.updateQueue;if(pe===null){var me=new Set;me.add(j),l.updateQueue=me}else pe.add(j);break e}else{if((l&1)===0){D0(w,G,l),bm();break e}j=Error(t(426))}}else if(ot&&V.mode&1){var mt=M0(I);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),O0(mt,I,V,w,l),Fp(Ta(j,V));break e}}w=j=Ta(j,V),Ct!==4&&(Ct=2),au===null?au=[w]:au.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var H=R0(w,j,l);Z_(w,H);break e;case 1:V=j;var z=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Gr===null||!Gr.has(K)))){w.flags|=65536,l&=-l,w.lanes|=l;var se=k0(w,V,l);Z_(w,se);break e}}w=w.return}while(w!==null)}hw(h)}catch(ge){l=ge,wt===h&&h!==null&&(wt=h=h.return);continue}break}while(!0)}function uw(){var o=Vh.current;return Vh.current=Rh,o===null?Rh:o}function bm(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ot===null||(Zs&268435455)===0&&(Lh&268435455)===0||Qr(Ot,zt)}function zh(o,l){var h=Ue;Ue|=2;var p=uw();(Ot!==o||zt!==l)&&(ar=null,to(o,l));do try{AP();break}catch(y){lw(o,y)}while(!0);if(Bp(),Ue=h,Vh.current=p,wt!==null)throw Error(t(261));return Ot=null,zt=0,Ct}function AP(){for(;wt!==null;)cw(wt)}function bP(){for(;wt!==null&&!jc();)cw(wt)}function cw(o){var l=pw(o.alternate,o,kn);o.memoizedProps=o.pendingProps,l===null?hw(o):wt=l,vm.current=null}function hw(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=_P(h,l,kn),h!==null){wt=h;return}}else{if(h=wP(h,l),h!==null){h.flags&=32767,wt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ct=6,wt=null;return}}if(l=l.sibling,l!==null){wt=l;return}wt=l=o}while(l!==null);Ct===0&&(Ct=5)}function no(o,l,h){var p=Fe,y=Wn.transition;try{Wn.transition=null,Fe=1,CP(o,l,h,p)}finally{Wn.transition=y,Fe=p}return null}function CP(o,l,h,p){do Aa();while(Yr!==null);if((Ue&6)!==0)throw Error(t(327));h=o.finishedWork;var y=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=h.lanes|h.childLanes;if(Qe(o,w),o===Ot&&(wt=Ot=null,zt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Fh||(Fh=!0,mw(Nn,function(){return Aa(),null})),w=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||w){w=Wn.transition,Wn.transition=null;var I=Fe;Fe=1;var V=Ue;Ue|=4,vm.current=null,TP(o,h),tw(h,o),GC(bp),Fr=!!Ap,bp=Ap=null,o.current=h,xP(h),cp(),Ue=V,Fe=I,Wn.transition=w}else o.current=h;if(Fh&&(Fh=!1,Yr=o,jh=y),w=o.pendingLanes,w===0&&(Gr=null),zc(h.stateNode),vn(o,Je()),l!==null)for(p=o.onRecoverableError,h=0;h<l.length;h++)y=l[h],p(y.value,{componentStack:y.stack,digest:y.digest});if(Nh)throw Nh=!1,o=Em,Em=null,o;return(jh&1)!==0&&o.tag!==0&&Aa(),w=o.pendingLanes,(w&1)!==0?o===Tm?lu++:(lu=0,Tm=o):lu=0,Wr(),null}function Aa(){if(Yr!==null){var o=Lr(jh),l=Wn.transition,h=Fe;try{if(Wn.transition=null,Fe=16>o?16:o,Yr===null)var p=!1;else{if(o=Yr,Yr=null,jh=0,(Ue&6)!==0)throw Error(t(331));var y=Ue;for(Ue|=4,de=o.current;de!==null;){var w=de,I=w.child;if((de.flags&16)!==0){var V=w.deletions;if(V!==null){for(var j=0;j<V.length;j++){var G=V[j];for(de=G;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:su(8,ne,w)}var re=ne.child;if(re!==null)re.return=ne,de=re;else for(;de!==null;){ne=de;var te=ne.sibling,ue=ne.return;if(X0(ne),ne===G){de=null;break}if(te!==null){te.return=ue,de=te;break}de=ue}}}var pe=w.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var mt=me.sibling;me.sibling=null,me=mt}while(me!==null)}}de=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,de=I;else e:for(;de!==null;){if(w=de,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:su(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,de=H;break e}de=w.return}}var z=o.current;for(de=z;de!==null;){I=de;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,de=K;else e:for(I=z;de!==null;){if(V=de,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Oh(9,V)}}catch(ge){dt(V,V.return,ge)}if(V===I){de=null;break e}var se=V.sibling;if(se!==null){se.return=V.return,de=se;break e}de=V.return}}if(Ue=y,Wr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(js,o)}catch{}p=!0}return p}finally{Fe=h,Wn.transition=l}}return!1}function dw(o,l,h){l=Ta(h,l),l=R0(o,l,1),o=qr(o,l,1),l=cn(),o!==null&&(Or(o,1,l),vn(o,l))}function dt(o,l,h){if(o.tag===3)dw(o,o,h);else for(;l!==null;){if(l.tag===3){dw(l,o,h);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Gr===null||!Gr.has(p))){o=Ta(h,o),o=k0(l,o,1),l=qr(l,o,1),o=cn(),l!==null&&(Or(l,1,o),vn(l,o));break}}l=l.return}}function PP(o,l,h){var p=o.pingCache;p!==null&&p.delete(l),l=cn(),o.pingedLanes|=o.suspendedLanes&h,Ot===o&&(zt&h)===h&&(Ct===4||Ct===3&&(zt&130023424)===zt&&500>Je()-wm?to(o,0):_m|=h),vn(o,l)}function fw(o,l){l===0&&((o.mode&1)===0?l=1:(l=Yo,Yo<<=1,(Yo&130023424)===0&&(Yo=4194304)));var h=cn();o=rr(o,l),o!==null&&(Or(o,l,h),vn(o,h))}function RP(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),fw(o,h)}function kP(o,l){var h=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(h=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(l),fw(o,h)}var pw;pw=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||pn.current)gn=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return gn=!1,vP(o,l,h);gn=(o.flags&131072)!==0}else gn=!1,ot&&(l.flags&1048576)!==0&&q_(l,yh,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Dh(o,l),o=l.pendingProps;var y=pa(l,Yt.current);_a(l,h),y=Zp(null,l,p,o,y,h);var w=em();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,mn(p)?(w=!0,ph(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Wp(l),y.updater=xh,l.stateNode=y,y._reactInternals=l,qp(l,p,o,h),l=lm(null,l,p,!0,w,h)):(l.tag=0,ot&&w&&Op(l),un(null,l,y,h),l=l.child),l;case 16:p=l.elementType;e:{switch(Dh(o,l),o=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=MP(p),o=li(p,o),y){case 0:l=am(null,l,p,o,h);break e;case 1:l=B0(null,l,p,o,h);break e;case 11:l=V0(null,l,p,o,h);break e;case 14:l=L0(null,l,p,li(p.type,o),h);break e}throw Error(t(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:li(p,y),am(o,l,p,y,h);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:li(p,y),B0(o,l,p,y,h);case 3:e:{if(U0(l),o===null)throw Error(t(387));p=l.pendingProps,w=l.memoizedState,y=w.element,J_(o,l),Th(l,p,null,h);var I=l.memoizedState;if(p=I.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Ta(Error(t(423)),l),l=z0(o,l,p,h,y);break e}else if(p!==y){y=Ta(Error(t(424)),l),l=z0(o,l,p,h,y);break e}else for(Rn=Ur(l.stateNode.containerInfo.firstChild),Pn=l,ot=!0,ai=null,h=a0(l,null,p,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ya(),p===y){l=or(o,l,h);break e}un(o,l,p,h)}l=l.child}return l;case 5:return l0(l),o===null&&Np(l),p=l.type,y=l.pendingProps,w=o!==null?o.memoizedProps:null,I=y.children,Cp(p,y)?I=null:w!==null&&Cp(p,w)&&(l.flags|=32),j0(o,l),un(o,l,I,h),l.child;case 6:return o===null&&Np(l),null;case 13:return $0(o,l,h);case 4:return Kp(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=wa(l,null,p,h):un(o,l,p,h),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:li(p,y),V0(o,l,p,y,h);case 7:return un(o,l,l.pendingProps,h),l.child;case 8:return un(o,l,l.pendingProps.children,h),l.child;case 12:return un(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,w=l.memoizedProps,I=y.value,Ze(_h,p._currentValue),p._currentValue=I,w!==null)if(oi(w.value,I)){if(w.children===y.children&&!pn.current){l=or(o,l,h);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var V=w.dependencies;if(V!==null){I=w.child;for(var j=V.firstContext;j!==null;){if(j.context===p){if(w.tag===1){j=sr(-1,h&-h),j.tag=2;var G=w.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),G.pending=j}}w.lanes|=h,j=w.alternate,j!==null&&(j.lanes|=h),zp(w.return,h,l),V.lanes|=h;break}j=j.next}}else if(w.tag===10)I=w.type===l.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(t(341));I.lanes|=h,V=I.alternate,V!==null&&(V.lanes|=h),zp(I,h,l),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===l){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}un(o,l,y.children,h),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,_a(l,h),y=zn(y),p=p(y),l.flags|=1,un(o,l,p,h),l.child;case 14:return p=l.type,y=li(p,l.pendingProps),y=li(p.type,y),L0(o,l,p,y,h);case 15:return N0(o,l,l.type,l.pendingProps,h);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:li(p,y),Dh(o,l),l.tag=1,mn(p)?(o=!0,ph(l)):o=!1,_a(l,h),i0(l,p,y),qp(l,p,y,h),lm(null,l,p,!0,o,h);case 19:return H0(o,l,h);case 22:return F0(o,l,h)}throw Error(t(156,l.tag))};function mw(o,l){return Ko(o,l)}function DP(o,l,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(o,l,h,p){return new DP(o,l,h,p)}function Cm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function MP(o){if(typeof o=="function")return Cm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===Se)return 14}return 2}function Jr(o,l){var h=o.alternate;return h===null?(h=Hn(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function $h(o,l,h,p,y,w){var I=2;if(p=o,typeof o=="function")Cm(o)&&(I=1);else if(typeof o=="string")I=5;else e:switch(o){case D:return io(h.children,y,w,l);case b:I=8,y|=8;break;case C:return o=Hn(12,h,l,y|2),o.elementType=C,o.lanes=w,o;case O:return o=Hn(13,h,l,y),o.elementType=O,o.lanes=w,o;case ke:return o=Hn(19,h,l,y),o.elementType=ke,o.lanes=w,o;case he:return Wh(h,y,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:I=10;break e;case L:I=9;break e;case F:I=11;break e;case Se:I=14;break e;case Pe:I=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Hn(I,h,l,y),l.elementType=o,l.type=p,l.lanes=w,l}function io(o,l,h,p){return o=Hn(7,o,p,l),o.lanes=h,o}function Wh(o,l,h,p){return o=Hn(22,o,p,l),o.elementType=he,o.lanes=h,o.stateNode={isHidden:!1},o}function Pm(o,l,h){return o=Hn(6,o,null,l),o.lanes=h,o}function Rm(o,l,h){return l=Hn(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function OP(o,l,h,p,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mr(0),this.expirationTimes=Mr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function km(o,l,h,p,y,w,I,V,j){return o=new OP(o,l,h,V,j),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Hn(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wp(w),o}function VP(o,l,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:p==null?null:""+p,children:o,containerInfo:l,implementation:h}}function gw(o){if(!o)return $r;o=o._reactInternals;e:{if(Zn(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(mn(h))return $_(o,h,l)}return l}function yw(o,l,h,p,y,w,I,V,j){return o=km(h,p,!0,o,y,w,I,V,j),o.context=gw(null),h=o.current,p=cn(),y=Xr(h),w=sr(p,y),w.callback=l??null,qr(h,w,y),o.current.lanes=y,Or(o,y,p),vn(o,p),o}function Hh(o,l,h,p){var y=l.current,w=cn(),I=Xr(y);return h=gw(h),l.context===null?l.context=h:l.pendingContext=h,l=sr(w,I),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=qr(y,l,I),o!==null&&(hi(o,y,I,w),Eh(o,y,I)),I}function qh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function vw(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Dm(o,l){vw(o,l),(o=o.alternate)&&vw(o,l)}function LP(){return null}var _w=typeof reportError=="function"?reportError:function(o){console.error(o)};function Mm(o){this._internalRoot=o}Kh.prototype.render=Mm.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Hh(o,l,null,null)},Kh.prototype.unmount=Mm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;eo(function(){Hh(null,o,null,null)}),l[er]=null}};function Kh(o){this._internalRoot=o}Kh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Kc();o={blockedOn:null,target:o,priority:l};for(var h=0;h<xi.length&&l!==0&&l<xi[h].priority;h++);xi.splice(h,0,o),h===0&&Xc(o)}};function Om(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Gh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ww(){}function NP(o,l,h,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var G=qh(I);w.call(G)}}var I=yw(l,p,o,0,null,!1,!1,"",ww);return o._reactRootContainer=I,o[er]=I.current,ql(o.nodeType===8?o.parentNode:o),eo(),I}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var G=qh(j);V.call(G)}}var j=km(o,0,!1,null,null,!1,!1,"",ww);return o._reactRootContainer=j,o[er]=j.current,ql(o.nodeType===8?o.parentNode:o),eo(function(){Hh(l,j,h,p)}),j}function Yh(o,l,h,p,y){var w=h._reactRootContainer;if(w){var I=w;if(typeof y=="function"){var V=y;y=function(){var j=qh(I);V.call(j)}}Hh(l,I,o,y)}else I=NP(h,l,o,y,p);return qh(I)}Hc=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=Dr(l.pendingLanes);h!==0&&(Vr(l,h|1),vn(l,Je()),(Ue&6)===0&&(Ia=Je()+500,Wr()))}break;case 13:eo(function(){var p=rr(o,1);if(p!==null){var y=cn();hi(p,o,1,y)}}),Dm(o,1)}},Xo=function(o){if(o.tag===13){var l=rr(o,134217728);if(l!==null){var h=cn();hi(l,o,134217728,h)}Dm(o,134217728)}},qc=function(o){if(o.tag===13){var l=Xr(o),h=rr(o,l);if(h!==null){var p=cn();hi(h,o,l,p)}Dm(o,l)}},Kc=function(){return Fe},Gc=function(o,l){var h=Fe;try{return Fe=o,l()}finally{Fe=h}},Uo=function(o,l,h){switch(l){case"input":if(yl(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var p=h[l];if(p!==o&&p.form===o.form){var y=dh(p);if(!y)throw Error(t(90));Vo(p),yl(p,y)}}}break;case"textarea":jo(o,h);break;case"select":l=h.value,l!=null&&qi(o,!!h.multiple,l,!1)}},Os=Im,bl=eo;var FP={usingClientEntryPoint:!1,Events:[Yl,da,dh,Ei,Al,Im]},uu={findFiberByHostInstance:qs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jP={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Rl(o),o===null?null:o.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||LP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{js=Xh.inject(jP),In=Xh}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FP,_n.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(l))throw Error(t(200));return VP(o,l,null,h)},_n.createRoot=function(o,l){if(!Om(o))throw Error(t(299));var h=!1,p="",y=_w;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=km(o,1,!1,null,null,h,!1,p,y),o[er]=l.current,ql(o.nodeType===8?o.parentNode:o),new Mm(l)},_n.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Rl(l),o=o===null?null:o.stateNode,o},_n.flushSync=function(o){return eo(o)},_n.hydrate=function(o,l,h){if(!Gh(l))throw Error(t(200));return Yh(null,o,l,!0,h)},_n.hydrateRoot=function(o,l,h){if(!Om(o))throw Error(t(405));var p=h!=null&&h.hydratedSources||null,y=!1,w="",I=_w;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),l=yw(l,null,o,1,h??null,y,!1,w,I),o[er]=l.current,ql(o),p)for(o=0;o<p.length;o++)h=p[o],y=h._getVersion,y=y(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,y]:l.mutableSourceEagerHydrationData.push(h,y);return new Kh(l)},_n.render=function(o,l,h){if(!Gh(l))throw Error(t(200));return Yh(null,o,l,!1,h)},_n.unmountComponentAtNode=function(o){if(!Gh(o))throw Error(t(40));return o._reactRootContainer?(eo(function(){Yh(null,null,o,!1,function(){o._reactRootContainer=null,o[er]=null})}),!0):!1},_n.unstable_batchedUpdates=Im,_n.unstable_renderSubtreeIntoContainer=function(o,l,h,p){if(!Gh(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Yh(o,l,h,!1,p)},_n.version="18.2.0-next-9e3b772b8-20220608",_n}var Cw;function YP(){if(Cw)return Nm.exports;Cw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nm.exports=GP(),Nm.exports}var Pw;function XP(){if(Pw)return Qh;Pw=1;var n=YP();return Qh.createRoot=n.createRoot,Qh.hydrateRoot=n.hydrateRoot,Qh}var QP=XP();const JP=OS(QP);var hu={},Rw;function ZP(){if(Rw)return hu;Rw=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.parse=a,hu.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,E){const x=new s,A=v.length;if(A<2)return x;const S=(E==null?void 0:E.decode)||m;let R=0;do{const M=v.indexOf("=",R);if(M===-1)break;const B=v.indexOf(";",R),q=B===-1?A:B;if(M>q){R=v.lastIndexOf(";",M-1)+1;continue}const Y=u(v,R,M),Q=c(v,M,Y),D=v.slice(Y,Q);if(x[D]===void 0){let b=u(v,M+1,q),C=c(v,q,b);const k=S(v.slice(b,C));x[D]=k}R=q+1}while(R<A);return x}function u(v,E,x){do{const A=v.charCodeAt(E);if(A!==32&&A!==9)return E}while(++E<x);return x}function c(v,E,x){for(;E>x;){const A=v.charCodeAt(--E);if(A!==32&&A!==9)return E+1}return x}function d(v,E,x){const A=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=A(E);if(!e.test(S))throw new TypeError(`argument val is invalid: ${E}`);let R=v+"="+S;if(!x)return R;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);R+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);R+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);R+="; Path="+x.path}if(x.expires){if(!g(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);R+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(R+="; HttpOnly"),x.secure&&(R+="; Secure"),x.partitioned&&(R+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return R}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return r.call(v)==="[object Date]"}return hu}ZP();var kw="popstate";function eR(n={}){function e(r,s){let{pathname:a="/",search:u="",hash:c=""}=Co(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),wg("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=r.location.href,d=c.indexOf("#");u=d===-1?c:c.slice(0,d)}return u+"#"+(typeof s=="string"?s:Yu(s))}function i(r,s){Xn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return nR(e,t,i,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tR(){return Math.random().toString(36).substring(2,10)}function Dw(n,e){return{usr:n.state,key:n.key,idx:e}}function wg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:t,key:e&&e.key||i||tR()}}function Yu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Co(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function nR(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,u="POP",c=null,d=m();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function m(){return(a.state||{idx:null}).idx}function g(){u="POP";let S=m(),R=S==null?null:S-d;d=S,c&&c({action:u,location:A.location,delta:R})}function v(S,R){u="PUSH";let M=wg(A.location,S,R);t&&t(M,S),d=m()+1;let B=Dw(M,d),q=A.createHref(M);try{a.pushState(B,"",q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(q)}s&&c&&c({action:u,location:A.location,delta:1})}function E(S,R){u="REPLACE";let M=wg(A.location,S,R);t&&t(M,S),d=m();let B=Dw(M,d),q=A.createHref(M);a.replaceState(B,"",q),s&&c&&c({action:u,location:A.location,delta:0})}function x(S){return iR(S)}let A={get action(){return u},get location(){return n(r,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(kw,g),c=S,()=>{r.removeEventListener(kw,g),c=null}},createHref(S){return e(r,S)},createURL:x,encodeLocation(S){let R=x(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:E,go(S){return a.go(S)}};return A}function iR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Yu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function VS(n,e,t="/"){return rR(n,e,t,!1)}function rR(n,e,t,i){let r=typeof e=="string"?Co(e):e,s=_r(r.pathname||"/",t);if(s==null)return null;let a=LS(n);sR(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=gR(s);u=pR(a[c],d,i)}return u}function LS(n,e=[],t=[],i=""){let r=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let d=mr([i,c.relativePath]),m=t.concat(c);s.children&&s.children.length>0&&(at(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),LS(s.children,e,m,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:dR(d,s.index),routesMeta:m})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,a);else for(let c of NS(s.path))r(s,a,c)}),e}function NS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=NS(i.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function sR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var oR=/^:[\w-]+$/,aR=3,lR=2,uR=1,cR=10,hR=-2,Mw=n=>n==="*";function dR(n,e){let t=n.split("/"),i=t.length;return t.some(Mw)&&(i+=hR),e&&(i+=lR),t.filter(r=>!Mw(r)).reduce((r,s)=>r+(oR.test(s)?aR:s===""?uR:cR),i)}function fR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function pR(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let u=0;u<i.length;++u){let c=i[u],d=u===i.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=Bd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),v=c.route;if(!g&&d&&t&&!i[i.length-1].route.index&&(g=Bd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:mr([s,g.pathname]),pathnameBase:wR(mr([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=mr([s,g.pathnameBase]))}return a}function Bd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=mR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:g},v)=>{if(m==="*"){let x=u[v]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const E=u[v];return g&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function mR(n,e=!1,t=!0){Xn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function gR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _r(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function yR(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Co(n):n;return{pathname:t?t.startsWith("/")?t:vR(t,e):e,search:ER(i),hash:TR(r)}}function vR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Bm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _R(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wy(n){let e=_R(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ey(n,e,t,i=!1){let r;typeof n=="string"?r=Co(n):(r={...n},at(!r.pathname||!r.pathname.includes("?"),Bm("?","pathname","search",r)),at(!r.pathname||!r.pathname.includes("#"),Bm("#","pathname","hash",r)),at(!r.search||!r.search.includes("#"),Bm("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=yR(r,u),d=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}var mr=n=>n.join("/").replace(/\/\/+/g,"/"),wR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ER=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,TR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var FS=["POST","PUT","PATCH","DELETE"];new Set(FS);var SR=["GET",...FS];new Set(SR);var il=U.createContext(null);il.displayName="DataRouter";var Rf=U.createContext(null);Rf.displayName="DataRouterState";var jS=U.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var IR=U.createContext(new Map);IR.displayName="Fetchers";var AR=U.createContext(null);AR.displayName="Await";var vi=U.createContext(null);vi.displayName="Navigation";var pc=U.createContext(null);pc.displayName="Location";var $i=U.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Ty=U.createContext(null);Ty.displayName="RouteError";function bR(n,{relative:e}={}){at(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(vi),{hash:r,pathname:s,search:a}=mc(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:mr([t,s])),i.createHref({pathname:u,search:a,hash:r})}function rl(){return U.useContext(pc)!=null}function _i(){return at(rl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(pc).location}var BS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function US(n){U.useContext(vi).static||U.useLayoutEffect(n)}function Po(){let{isDataRoute:n}=U.useContext($i);return n?BR():CR()}function CR(){at(rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(il),{basename:e,navigator:t}=U.useContext(vi),{matches:i}=U.useContext($i),{pathname:r}=_i(),s=JSON.stringify(wy(i)),a=U.useRef(!1);return US(()=>{a.current=!0}),U.useCallback((c,d={})=>{if(Xn(a.current,BS),!a.current)return;if(typeof c=="number"){t.go(c);return}let m=Ey(c,JSON.parse(s),r,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:mr([e,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[e,t,s,r,n])}U.createContext(null);function mc(n,{relative:e}={}){let{matches:t}=U.useContext($i),{pathname:i}=_i(),r=JSON.stringify(wy(t));return U.useMemo(()=>Ey(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function PR(n,e){return zS(n,e)}function zS(n,e,t,i){var R;at(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=U.useContext(vi),{matches:s}=U.useContext($i),a=s[s.length-1],u=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",m=a&&a.route;{let M=m&&m.path||"";$S(c,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let g=_i(),v;if(e){let M=typeof e=="string"?Co(e):e;at(d==="/"||((R=M.pathname)==null?void 0:R.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=g;let E=v.pathname||"/",x=E;if(d!=="/"){let M=d.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=VS(n,{pathname:x});Xn(m||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Xn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=OR(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:mr([d,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:mr([d,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,t,i);return e&&S?U.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function RR(){let n=jR(),e=xR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:s},"ErrorBoundary")," or"," ",U.createElement("code",{style:s},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,a)}var kR=U.createElement(RR,null),DR=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement($i.Provider,{value:this.props.routeContext},U.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MR({routeContext:n,match:e,children:t}){let i=U.useContext(il);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement($i.Provider,{value:n},t)}function OR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let c=r.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);at(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let a=!1,u=-1;if(t)for(let c=0;c<r.length;c++){let d=r[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:m,errors:g}=t,v=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){a=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((c,d,m)=>{let g,v=!1,E=null,x=null;t&&(g=s&&d.route.id?s[d.route.id]:void 0,E=d.route.errorElement||kR,a&&(u<0&&m===0?($S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):u===m&&(v=!0,x=d.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,m+1)),S=()=>{let R;return g?R=E:v?R=x:d.route.Component?R=U.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=c,U.createElement(MR,{match:d,routeContext:{outlet:c,matches:A,isDataRoute:t!=null},children:R})};return t&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?U.createElement(DR,{location:t.location,revalidation:t.revalidation,component:E,error:g,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):S()},null)}function xy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(n){let e=U.useContext(il);return at(e,xy(n)),e}function LR(n){let e=U.useContext(Rf);return at(e,xy(n)),e}function NR(n){let e=U.useContext($i);return at(e,xy(n)),e}function Sy(n){let e=NR(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FR(){return Sy("useRouteId")}function jR(){var i;let n=U.useContext(Ty),e=LR("useRouteError"),t=Sy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function BR(){let{router:n}=VR("useNavigate"),e=Sy("useNavigate"),t=U.useRef(!1);return US(()=>{t.current=!0}),U.useCallback(async(r,s={})=>{Xn(t.current,BS),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var Ow={};function $S(n,e,t){!e&&!Ow[n]&&(Ow[n]=!0,Xn(!1,t))}U.memo(UR);function UR({routes:n,future:e,state:t}){return zS(n,void 0,t,e)}function WS({to:n,replace:e,state:t,relative:i}){at(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=U.useContext(vi);Xn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=U.useContext($i),{pathname:a}=_i(),u=Po(),c=Ey(n,wy(s),a,i==="path"),d=JSON.stringify(c);return U.useEffect(()=>{u(JSON.parse(d),{replace:e,state:t,relative:i})},[u,d,i,e,t]),null}function uo(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){at(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof t=="string"&&(t=Co(t));let{pathname:c="/",search:d="",hash:m="",state:g=null,key:v="default"}=t,E=U.useMemo(()=>{let x=_r(c,a);return x==null?null:{location:{pathname:x,search:d,hash:m,state:g,key:v},navigationType:i}},[a,c,d,m,g,v,i]);return Xn(E!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:U.createElement(vi.Provider,{value:u},U.createElement(pc.Provider,{children:e,value:E}))}function $R({children:n,location:e}){return PR(Eg(n),e)}function Eg(n,e=[]){let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;let s=[...e,r];if(i.type===U.Fragment){t.push.apply(t,Eg(i.props.children,s));return}at(i.type===uo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Eg(i.props.children,s)),t.push(a)}),t}var xd="get",Sd="application/x-www-form-urlencoded";function kf(n){return n!=null&&typeof n.tagName=="string"}function WR(n){return kf(n)&&n.tagName.toLowerCase()==="button"}function HR(n){return kf(n)&&n.tagName.toLowerCase()==="form"}function qR(n){return kf(n)&&n.tagName.toLowerCase()==="input"}function KR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GR(n,e){return n.button===0&&(!e||e==="_self")&&!KR(n)}var Jh=null;function YR(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var XR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(n){return n!=null&&!XR.has(n)?(Xn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):n}function QR(n,e){let t,i,r,s,a;if(HR(n)){let u=n.getAttribute("action");i=u?_r(u,e):null,t=n.getAttribute("method")||xd,r=Um(n.getAttribute("enctype"))||Sd,s=new FormData(n)}else if(WR(n)||qR(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(i=c?_r(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||xd,r=Um(n.getAttribute("formenctype"))||Um(u.getAttribute("enctype"))||Sd,s=new FormData(u,n),!YR()){let{name:d,type:m,value:g}=n;if(m==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,g)}}else{if(kf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xd,i=null,r=Sd,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}function Iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ek(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await JR(s,t);return a.links?a.links():[]}return[]}));return rk(i.flat(1).filter(ZR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Vw(n,e,t,i,r,s){let a=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,u=(c,d)=>{var m;return t[d].pathname!==c.pathname||((m=t[d].route.path)==null?void 0:m.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>a(c,d)||u(c,d)):s==="data"?e.filter((c,d)=>{var g;let m=i.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(a(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function tk(n,e,{includeHydrateFallback:t}={}){return nk(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function nk(n){return[...new Set(n)]}function ik(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function rk(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(ik(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sk=new Set([100,101,204,205]);function ok(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&_r(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function HS(){let n=U.useContext(il);return Iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ak(){let n=U.useContext(Rf);return Iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ay=U.createContext(void 0);Ay.displayName="FrameworkContext";function qS(){let n=U.useContext(Ay);return Iy(n,"You must render this element inside a <HydratedRouter> element"),n}function lk(n,e){let t=U.useContext(Ay),[i,r]=U.useState(!1),[s,a]=U.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,v=U.useRef(null);U.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let A=R=>{R.forEach(M=>{a(M.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[n]),U.useEffect(()=>{if(i){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},x=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:du(u,E),onBlur:du(c,x),onMouseEnter:du(d,E),onMouseLeave:du(m,x),onTouchStart:du(g,E)}]:[!1,v,{}]}function du(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uk({page:n,...e}){let{router:t}=HS(),i=U.useMemo(()=>VS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(hk,{page:n,matches:i,...e}):null}function ck(n){let{manifest:e,routeModules:t}=qS(),[i,r]=U.useState([]);return U.useEffect(()=>{let s=!1;return ek(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function hk({page:n,matches:e,...t}){let i=_i(),{manifest:r,routeModules:s}=qS(),{basename:a}=HS(),{loaderData:u,matches:c}=ak(),d=U.useMemo(()=>Vw(n,e,c,r,i,"data"),[n,e,c,r,i]),m=U.useMemo(()=>Vw(n,e,c,r,i,"assets"),[n,e,c,r,i]),g=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,A=!1;if(e.forEach(R=>{var B;let M=r.routes[R.route.id];!M||!M.hasLoader||(!d.some(q=>q.route.id===R.route.id)&&R.route.id in u&&((B=s[R.route.id])!=null&&B.shouldRevalidate)||M.hasClientLoader?A=!0:x.add(R.route.id))}),x.size===0)return[];let S=ok(n,a);return A&&x.size>0&&S.searchParams.set("_routes",e.filter(R=>x.has(R.route.id)).map(R=>R.route.id).join(",")),[S.pathname+S.search]},[a,u,i,r,d,e,n,s]),v=U.useMemo(()=>tk(m,r),[m,r]),E=ck(m);return U.createElement(U.Fragment,null,g.map(x=>U.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),v.map(x=>U.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),E.map(({key:x,link:A})=>U.createElement("link",{key:x,...A})))}function dk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KS&&(window.__reactRouterVersion="7.6.2")}catch{}function fk({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=eR({window:t,v5Compat:!0}));let r=i.current,[s,a]=U.useState({action:r.action,location:r.location}),u=U.useCallback(c=>{U.startTransition(()=>a(c))},[a]);return U.useLayoutEffect(()=>r.listen(u),[r,u]),U.createElement(zR,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YS=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:u,target:c,to:d,preventScrollReset:m,viewTransition:g,...v},E){let{basename:x}=U.useContext(vi),A=typeof d=="string"&&GS.test(d),S,R=!1;if(typeof d=="string"&&A&&(S=d,KS))try{let C=new URL(window.location.href),k=d.startsWith("//")?new URL(C.protocol+d):new URL(d),L=_r(k.pathname,x);k.origin===C.origin&&L!=null?d=L+k.search+k.hash:R=!0}catch{Xn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=bR(d,{relative:r}),[B,q,Y]=lk(i,v),Q=yk(d,{replace:a,state:u,target:c,preventScrollReset:m,relative:r,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||Q(C)}let b=U.createElement("a",{...v,...Y,href:S||M,onClick:R||s?e:D,ref:dk(E,q),target:c,"data-discover":!A&&t==="render"?"true":void 0});return B&&!A?U.createElement(U.Fragment,null,b,U.createElement(uk,{page:M})):b});YS.displayName="Link";var pk=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:u,children:c,...d},m){let g=mc(a,{relative:d.relative}),v=_i(),E=U.useContext(Rf),{navigator:x,basename:A}=U.useContext(vi),S=E!=null&&Tk(g)&&u===!0,R=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,M=v.pathname,B=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(M=M.toLowerCase(),B=B?B.toLowerCase():null,R=R.toLowerCase()),B&&A&&(B=_r(B,A)||B);const q=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let Y=M===R||!r&&M.startsWith(R)&&M.charAt(q)==="/",Q=B!=null&&(B===R||!r&&B.startsWith(R)&&B.charAt(R.length)==="/"),D={isActive:Y,isPending:Q,isTransitioning:S},b=Y?e:void 0,C;typeof i=="function"?C=i(D):C=[i,Y?"active":null,Q?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(D):s;return U.createElement(YS,{...d,"aria-current":b,className:C,ref:m,style:k,to:a,viewTransition:u},typeof c=="function"?c(D):c)});pk.displayName="NavLink";var mk=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=xd,action:u,onSubmit:c,relative:d,preventScrollReset:m,viewTransition:g,...v},E)=>{let x=wk(),A=Ek(u,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&GS.test(u),M=B=>{if(c&&c(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,Y=(q==null?void 0:q.getAttribute("formmethod"))||a;x(q||B.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:r,state:s,relative:d,preventScrollReset:m,viewTransition:g})};return U.createElement("form",{ref:E,method:S,action:A,onSubmit:i?c:M,...v,"data-discover":!R&&n==="render"?"true":void 0})});mk.displayName="Form";function gk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(n){let e=U.useContext(il);return at(e,gk(n)),e}function yk(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let u=Po(),c=_i(),d=mc(n,{relative:s});return U.useCallback(m=>{if(GR(m,e)){m.preventDefault();let g=t!==void 0?t:Yu(c)===Yu(d);u(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[c,u,d,t,i,e,n,r,s,a])}var vk=0,_k=()=>`__${String(++vk)}__`;function wk(){let{router:n}=XS("useSubmit"),{basename:e}=U.useContext(vi),t=FR();return U.useCallback(async(i,r={})=>{let{action:s,method:a,encType:u,formData:c,body:d}=QR(i,e);if(r.navigate===!1){let m=r.fetcherKey||_k();await n.fetch(m,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||a,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||a,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Ek(n,{relative:e}={}){let{basename:t}=U.useContext(vi),i=U.useContext($i);at(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...mc(n||".",{relative:e})},a=_i();if(n==null){s.search=a.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(m=>m==="")){u.delete("index"),c.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:mr([t,s.pathname])),Yu(s)}function Tk(n,e={}){let t=U.useContext(jS);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XS("useViewTransitionState"),r=mc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=_r(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=_r(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Bd(r.pathname,a)!=null||Bd(r.pathname,s)!=null}[...sk];const QS=U.createContext(),xk=({children:n})=>{const[e,t]=U.useState(()=>localStorage.getItem("theme")==="dark");U.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),document.body.style.backgroundColor=e?"#1a1a1a":"#f5f7ff"},[e]);const r={isDarkMode:e,toggleTheme:()=>{t(!e)},colors:{background:e?"#1a1a1a":"#f5f7ff",cardBackground:e?"#2d2d2d":"#ffffff",text:e?"#ffffff":"#1a237e",textSecondary:e?"#b0b0b0":"#546e7a",border:e?"#404040":"#e0e0e0",inputBackground:e?"#404040":"#f8f9fa"}};return $.jsx(QS.Provider,{value:r,children:n})},br=()=>{const n=U.useContext(QS);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},Sk=()=>{};var Lw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Ik=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],u=n[t++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},ZS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,u=a?n[r+1]:0,c=r+2<n.length,d=c?n[r+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;c||(E=64,a||(v=64)),i.push(t[m],t[g],t[v],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ik(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const g=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||u==null||d==null||g==null)throw new Ak;const v=s<<2|u>>4;if(i.push(v),d!==64){const E=u<<4&240|d>>2;if(i.push(E),g!==64){const x=d<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bk=function(n){const e=JS(n);return ZS.encodeByteArray(e,!0)},Ud=function(n){return bk(n).replace(/\./g,"")},e1=function(n){try{return ZS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=()=>Ck().__FIREBASE_DEFAULTS__,Rk=()=>{if(typeof process>"u"||typeof Lw>"u")return;const n=Lw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&e1(n[1]);return e&&JSON.parse(e)},Df=()=>{try{return Sk()||Pk()||Rk()||kk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},t1=n=>{var e,t;return(t=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Dk=n=>{const e=t1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},n1=()=>{var n;return(n=Df())===null||n===void 0?void 0:n.config},i1=n=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){return n.endsWith(".cloudworkstations.dev")}async function r1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ud(JSON.stringify(t)),Ud(JSON.stringify(a)),""].join(".")}const Ou={};function Vk(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?n.emulator.push(e):n.prod.push(e);return n}function Lk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Nw=!1;function s1(n,e){if(typeof window>"u"||typeof document>"u"||!gc(window.location.host)||Ou[n]===e||Ou[n]||Nw)return;Ou[n]=e;function t(v){return`__firebase__banner__${v}`}const i="__firebase__banner",s=Vk().prod.length>0;function a(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Nw=!0,a()},v}function m(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=Lk(i),E=t("text"),x=document.getElementById(E)||document.createElement("span"),A=t("learnmore"),S=document.getElementById(A)||document.createElement("a"),R=t("preprendIcon"),M=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const B=v.element;u(B),m(S,A);const q=d();c(M,R),B.append(M,x,S,q),document.body.appendChild(B)}s?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Fk(){var n;const e=(n=Df())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zk(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $k(){return!Fk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wk(){try{return typeof indexedDB=="object"}catch{return!1}}function Hk(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="FirebaseError";class Cr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=qk,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?Kk(s,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new Cr(r,u,i)}}function Kk(n,e){return n.replace(Gk,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Gk=/\{\$([^}]+)}/g;function Yk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function To(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(Fw(s)&&Fw(a)){if(!To(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Fw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Xk(n,e){const t=new Qk(n,e);return t.subscribe.bind(t)}class Qk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Jk(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=zm),r.error===void 0&&(r.error=zm),r.complete===void 0&&(r.complete=zm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n){return n&&n._delegate?n._delegate:n}class xo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Mk;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tD(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eD(n){return n===co?void 0:n}function tD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const iD={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},rD=Le.INFO,sD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},oD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=sD[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=rD,this._logHandler=oD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const aD=(n,e)=>e.some(t=>n instanceof t);let jw,Bw;function lD(){return jw||(jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uD(){return Bw||(Bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,Tg=new WeakMap,a1=new WeakMap,$m=new WeakMap,Cy=new WeakMap;function cD(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(cs(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&o1.set(t,n)}).catch(()=>{}),Cy.set(e,n),e}function hD(n){if(Tg.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Tg.set(n,e)}let xg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||a1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dD(n){xg=n(xg)}function fD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Wm(this),e,...t);return a1.set(i,e.sort?e.sort():[e]),cs(i)}:uD().includes(n)?function(...e){return n.apply(Wm(this),e),cs(o1.get(this))}:function(...e){return cs(n.apply(Wm(this),e))}}function pD(n){return typeof n=="function"?fD(n):(n instanceof IDBTransaction&&hD(n),aD(n,lD())?new Proxy(n,xg):n)}function cs(n){if(n instanceof IDBRequest)return cD(n);if($m.has(n))return $m.get(n);const e=pD(n);return e!==n&&($m.set(n,e),Cy.set(e,n)),e}const Wm=n=>Cy.get(n);function mD(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),u=cs(a);return i&&a.addEventListener("upgradeneeded",c=>{i(cs(a.result),c.oldVersion,c.newVersion,cs(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const gD=["get","getKey","getAll","getAllKeys","count"],yD=["put","add","delete","clear"],Hm=new Map;function Uw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=yD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gD.includes(t)))return;const s=async function(a,...u){const c=this.transaction(a,r?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),r&&c.done]))[0]};return Hm.set(e,s),s}dD(n=>({...n,get:(e,t,i)=>Uw(e,t)||n.get(e,t,i),has:(e,t)=>!!Uw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_D(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function _D(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sg="@firebase/app",zw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new by("@firebase/app"),wD="@firebase/app-compat",ED="@firebase/analytics-compat",TD="@firebase/analytics",xD="@firebase/app-check-compat",SD="@firebase/app-check",ID="@firebase/auth",AD="@firebase/auth-compat",bD="@firebase/database",CD="@firebase/data-connect",PD="@firebase/database-compat",RD="@firebase/functions",kD="@firebase/functions-compat",DD="@firebase/installations",MD="@firebase/installations-compat",OD="@firebase/messaging",VD="@firebase/messaging-compat",LD="@firebase/performance",ND="@firebase/performance-compat",FD="@firebase/remote-config",jD="@firebase/remote-config-compat",BD="@firebase/storage",UD="@firebase/storage-compat",zD="@firebase/firestore",$D="@firebase/ai",WD="@firebase/firestore-compat",HD="firebase",qD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",KD={[Sg]:"fire-core",[wD]:"fire-core-compat",[TD]:"fire-analytics",[ED]:"fire-analytics-compat",[SD]:"fire-app-check",[xD]:"fire-app-check-compat",[ID]:"fire-auth",[AD]:"fire-auth-compat",[bD]:"fire-rtdb",[CD]:"fire-data-connect",[PD]:"fire-rtdb-compat",[RD]:"fire-fn",[kD]:"fire-fn-compat",[DD]:"fire-iid",[MD]:"fire-iid-compat",[OD]:"fire-fcm",[VD]:"fire-fcm-compat",[LD]:"fire-perf",[ND]:"fire-perf-compat",[FD]:"fire-rc",[jD]:"fire-rc-compat",[BD]:"fire-gcs",[UD]:"fire-gcs-compat",[zD]:"fire-fst",[WD]:"fire-fst-compat",[$D]:"fire-vertex","fire-js":"fire-js",[HD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,GD=new Map,Ag=new Map;function $w(n,e){try{n.container.addComponent(e)}catch(t){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wa(n){const e=n.name;if(Ag.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,n);for(const t of zd.values())$w(t,n);for(const t of GD.values())$w(t,n);return!0}function Py(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new yc("app","Firebase",YD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=qD;function l1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ig,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw hs.create("bad-app-name",{appName:String(r)});if(t||(t=n1()),!t)throw hs.create("no-options");const s=zd.get(r);if(s){if(To(t,s.options)&&To(i,s.config))return s;throw hs.create("duplicate-app",{appName:r})}const a=new nD(r);for(const c of Ag.values())a.addComponent(c);const u=new XD(t,i,a);return zd.set(r,u),u}function u1(n=Ig){const e=zd.get(n);if(!e&&n===Ig&&n1())return l1();if(!e)throw hs.create("no-app",{appName:n});return e}function ds(n,e,t){var i;let r=(i=KD[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(u.join(" "));return}Wa(new xo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firebase-heartbeat-database",JD=1,Xu="firebase-heartbeat-store";let qm=null;function c1(){return qm||(qm=mD(QD,JD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xu)}catch(t){console.warn(t)}}}}).catch(n=>{throw hs.create("idb-open",{originalErrorMessage:n.message})})),qm}async function ZD(n){try{const t=(await c1()).transaction(Xu),i=await t.objectStore(Xu).get(h1(n));return await t.done,i}catch(e){if(e instanceof Cr)wr.warn(e.message);else{const t=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(t.message)}}}async function Ww(n,e){try{const i=(await c1()).transaction(Xu,"readwrite");await i.objectStore(Xu).put(e,h1(n)),await i.done}catch(t){if(t instanceof Cr)wr.warn(t.message);else{const i=hs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wr.warn(i.message)}}}function h1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1024,t2=30;class n2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new r2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>t2){const a=s2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){wr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hw(),{heartbeatsToSend:i,unsentEntries:r}=i2(this._heartbeatsCache.heartbeats),s=Ud(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return wr.warn(t),""}}}function Hw(){return new Date().toISOString().substring(0,10)}function i2(n,e=e2){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),qw(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),qw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class r2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wk()?Hk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ww(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ww(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qw(n){return Ud(JSON.stringify({version:2,heartbeats:n})).length}function s2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){Wa(new xo("platform-logger",e=>new vD(e),"PRIVATE")),Wa(new xo("heartbeat",e=>new n2(e),"PRIVATE")),ds(Sg,zw,n),ds(Sg,zw,"esm2017"),ds("fire-js","")}o2("");function Ry(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function d1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a2=d1,f1=new yc("auth","Firebase",d1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new by("@firebase/auth");function l2(n,...e){$d.logLevel<=Le.WARN&&$d.warn(`Auth (${sl}): ${n}`,...e)}function Id(n,...e){$d.logLevel<=Le.ERROR&&$d.error(`Auth (${sl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n,...e){throw ky(n,...e)}function Vi(n,...e){return ky(n,...e)}function p1(n,e,t){const i=Object.assign(Object.assign({},a2()),{[e]:t});return new yc("auth","Firebase",i).create(e,{appName:n.name})}function fs(n){return p1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ky(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return f1.create(n,...e)}function Te(n,e,...t){if(!n)throw ky(e,...t)}function fr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Id(e),new Error(e)}function Er(n,e){n||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function u2(){return Kw()==="http:"||Kw()==="https:"}function Kw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u2()||Bk()||"connection"in navigator)?navigator.onLine:!0}function h2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=Nk()||Uk()}get(){return c2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e){Er(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new _c(3e4,6e4);function Ro(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function As(n,e,t,i,r={}){return g1(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const u=vc(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:c},s);return jk()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&gc(n.emulatorConfig.host)&&(d.credentials="include"),m1.fetch()(await y1(n,n.config.apiHost,t,u),d)})}async function g1(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},d2),e);try{const r=new g2(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Zh(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Zh(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw Zh(n,"user-disabled",a);const m=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw p1(n,m,d);mi(n,m)}}catch(r){if(r instanceof Cr)throw r;mi(n,"network-request-failed",{message:String(r)})}}async function Mf(n,e,t,i,r={}){const s=await As(n,e,t,i,r);return"mfaPendingCredential"in s&&mi(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function y1(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?Dy(n.config,r):`${n.config.apiScheme}://${r}`;return f2.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function m2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vi(this.auth,"network-request-failed")),p2.get())})}}function Zh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Vi(n,e,i);return r.customData._tokenResponse=t,r}function Gw(n){return n!==void 0&&n.enterprise!==void 0}class y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return m2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v2(n,e){return As(n,"GET","/v2/recaptchaConfig",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,e){return As(n,"POST","/v1/accounts:delete",e)}async function Wd(n,e){return As(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w2(n,e=!1){const t=Ft(n),i=await t.getIdToken(e),r=My(i);Te(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Vu(Km(r.auth_time)),issuedAtTime:Vu(Km(r.iat)),expirationTime:Vu(Km(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Km(n){return Number(n)*1e3}function My(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Id("JWT malformed, contained fewer than 3 sections"),null;try{const r=e1(t);return r?JSON.parse(r):(Id("Failed to decode base64 JWT payload"),null)}catch(r){return Id("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Yw(n){const e=My(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Cr&&E2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function E2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Qu(n,Wd(t,{idToken:i}));Te(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?v1(s.providerUserInfo):[],u=S2(n.providerData,a),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Cg(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function x2(n){const e=Ft(n);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S2(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function v1(n){return n.map(e=>{var{providerId:t}=e,i=Ry(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,e){const t=await g1(n,{},async()=>{const i=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await y1(n,r,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",m1.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function A2(n,e){return As(n,"POST","/v2/accounts:revokeToken",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await I2(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new ja;return i&&(Te(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Te(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(Te(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return w2(this,e)}reload(){return x2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await Qu(this,_2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,u,c,d,m;const g=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(r=t.email)!==null&&r!==void 0?r:void 0,E=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=t.photoURL)!==null&&a!==void 0?a:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,R=(d=t.createdAt)!==null&&d!==void 0?d:void 0,M=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:B,emailVerified:q,isAnonymous:Y,providerData:Q,stsTokenManager:D}=t;Te(B&&D,e,"internal-error");const b=ja.fromJSON(this.name,D);Te(typeof B=="string",e,"internal-error"),es(g,e.name),es(v,e.name),Te(typeof q=="boolean",e,"internal-error"),Te(typeof Y=="boolean",e,"internal-error"),es(E,e.name),es(x,e.name),es(A,e.name),es(S,e.name),es(R,e.name),es(M,e.name);const C=new pi({uid:B,auth:e,email:v,emailVerified:q,displayName:g,isAnonymous:Y,photoURL:x,phoneNumber:E,tenantId:A,stsTokenManager:b,createdAt:R,lastLoginAt:M});return Q&&Array.isArray(Q)&&(C.providerData=Q.map(k=>Object.assign({},k))),S&&(C._redirectEventId=S),C}static async _fromIdTokenResponse(e,t,i=!1){const r=new ja;r.updateFromServerResponse(t);const s=new pi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Hd(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Te(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?v1(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),u=new ja;u.updateFromIdToken(i);const c=new pi({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Cg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;function pr(n){Er(n instanceof Function,"Expected a class definition");let e=Xw.get(n);return e?(Er(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Xw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_1.type="NONE";const Qw=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n,e,t){return`firebase:${n}:${e}:${t}`}class Ba{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ad(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ad("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wd(this.auth,{idToken:e}).catch(()=>{});return t?pi._fromGetAccountInfoResponse(this.auth,t,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ba(pr(Qw),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||pr(Qw);const a=Ad(i,e.config.apiKey,e.name);let u=null;for(const d of t)try{const m=await d._get(a);if(m){let g;if(typeof m=="string"){const v=await Wd(e,{idToken:m}).catch(()=>{});if(!v)break;g=await pi._fromGetAccountInfoResponse(e,v,m)}else g=pi._fromJSON(e,m);d!==s&&(u=g),s=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ba(s,e,i):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Ba(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I1(e))return"Blackberry";if(A1(e))return"Webos";if(E1(e))return"Safari";if((e.includes("chrome/")||T1(e))&&!e.includes("edge/"))return"Chrome";if(S1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function w1(n=on()){return/firefox\//i.test(n)}function E1(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T1(n=on()){return/crios\//i.test(n)}function x1(n=on()){return/iemobile/i.test(n)}function S1(n=on()){return/android/i.test(n)}function I1(n=on()){return/blackberry/i.test(n)}function A1(n=on()){return/webos/i.test(n)}function Oy(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function b2(n=on()){var e;return Oy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C2(){return zk()&&document.documentMode===10}function b1(n=on()){return Oy(n)||S1(n)||A1(n)||I1(n)||/windows phone/i.test(n)||x1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(n,e=[]){let t;switch(n){case"Browser":t=Jw(on());break;case"Worker":t=`${Jw(on())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(n,e={}){return As(n,"GET","/v2/passwordPolicy",Ro(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=6;class D2{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:k2,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zw(this),this.idTokenSubscription=new Zw(this),this.beforeStateQueue=new P2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pr(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wd(this,{idToken:e}),i=await pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(fs(this));const t=e?Ft(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R2(this),t=new D2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await A2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&l2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ol(n){return Ft(n)}class Zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xk(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(n){Of=n}function P1(n){return Of.loadJS(n)}function V2(){return Of.recaptchaEnterpriseScript}function L2(){return Of.gapiScript}function N2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class F2{constructor(){this.enterprise=new j2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class j2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const B2="recaptcha-enterprise",R1="NO_RECAPTCHA";class U2{constructor(e){this.type=B2,this.auth=ol(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{v2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new y2(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function r(s,a,u){const c=window.grecaptcha;Gw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(R1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F2().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(u=>{if(!t&&Gw(window.grecaptcha))r(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=V2();c.length!==0&&(c+=u),P1(c).then(()=>{r(u,s,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function eE(n,e,t,i=!1,r=!1){const s=new U2(n);let a;if(r)a=R1;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function tE(n,e,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await eE(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await eE(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n,e){const t=Py(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(To(s,e??{}))return r;mi(r,"already-initialized")}return t.initialize({options:e})}function $2(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(pr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function W2(n,e,t){const i=ol(n);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=k1(e),{host:a,port:u}=H2(e),c=u===null?"":`:${u}`,d={url:`${s}//${a}${c}/`},m=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(To(d,i.config.emulator)&&To(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,gc(a)?(r1(`${s}//${a}${c}`),s1("Auth",!0)):q2()}function k1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function H2(n){const e=k1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:nE(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:nE(a)}}}function nE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function q2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function K2(n,e){return As(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,e){return Mf(n,"POST","/v1/accounts:signInWithPassword",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n,e){return Mf(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}async function X2(n,e){return Mf(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Vy{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ju(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ju(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tE(e,t,"signInWithPassword",G2);case"emailLink":return Y2(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tE(e,i,"signUpPassword",K2);case"emailLink":return X2(e,{idToken:t,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n,e){return Mf(n,"POST","/v1/accounts:signInWithIdp",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="http://localhost";class So extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=Ry(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new So(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Ua(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ua(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ua(e,t)}buildRequest(){const e={requestUri:Q2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z2(n){const e=_u(wu(n)).link,t=e?_u(wu(e)).deep_link_id:null,i=_u(wu(n)).deep_link_id;return(i?_u(wu(i)).link:null)||i||t||e||n}class Ly{constructor(e){var t,i,r,s,a,u;const c=_u(wu(e)),d=(t=c.apiKey)!==null&&t!==void 0?t:null,m=(i=c.oobCode)!==null&&i!==void 0?i:null,g=J2((r=c.mode)!==null&&r!==void 0?r:null);Te(d&&m&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=m,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=Z2(e);try{return new Ly(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,t){return Ju._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ly.parseLink(t);return Te(i,"argument-error"),Ju._fromEmailAndCode(e,i.code,i.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends D1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends wc{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return So._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return rs.credential(t,i)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends wc{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends wc{constructor(){super("twitter.com")}static credential(e,t){return So._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return os.credential(t,i)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await pi._fromIdTokenResponse(e,i,r),a=iE(i);return new Ha({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=iE(i);return new Ha({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function iE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Cr{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new qd(e,t,i,r)}}function M1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(n,s,e,i):s})}async function eM(n,e,t=!1){const i=await Qu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ha._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(n,e,t=!1){const{auth:i}=n;if(fi(i.app))return Promise.reject(fs(i));const r="reauthenticate";try{const s=await Qu(n,M1(i,r,e,n),t);Te(s.idToken,i,"internal-error");const a=My(s.idToken);Te(a,i,"internal-error");const{sub:u}=a;return Te(n.uid===u,i,"user-mismatch"),Ha._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(n,e,t=!1){if(fi(n.app))return Promise.reject(fs(n));const i="signIn",r=await M1(n,i,e),s=await Ha._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function nM(n,e){return O1(ol(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(n){const e=ol(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rM(n,e,t){return fi(n.app)?Promise.reject(fs(n)):nM(Ft(n),al.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&iM(n),i})}function sM(n,e,t,i){return Ft(n).onIdTokenChanged(e,t,i)}function oM(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function V1(n,e,t,i){return Ft(n).onAuthStateChanged(e,t,i)}function aM(n){return Ft(n).signOut()}const Kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=1e3,uM=10;class N1 extends L1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);C2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,uM):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}N1.type="LOCAL";const cM=N1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends L1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}F1.type="SESSION";const j1=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Vf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async d=>d(t.origin,s)),c=await hM(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=Ny("",20);r.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(v.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function fM(n){Li().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function pM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gM(){return B1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebaseLocalStorageDb",yM=1,Gd="firebaseLocalStorage",z1="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lf(n,e){return n.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function vM(){const n=indexedDB.deleteDatabase(U1);return new Ec(n).toPromise()}function Pg(){const n=indexedDB.open(U1,yM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Gd,{keyPath:z1})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Gd)?e(i):(i.close(),await vM(),e(await Pg()))})})}async function rE(n,e,t){const i=Lf(n,!0).put({[z1]:e,value:t});return new Ec(i).toPromise()}async function _M(n,e){const t=Lf(n,!1).get(e),i=await new Ec(t).toPromise();return i===void 0?null:i.value}function sE(n,e){const t=Lf(n,!0).delete(e);return new Ec(t).toPromise()}const wM=800,EM=3;class $1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>EM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(gM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pM(),!this.activeServiceWorker)return;this.sender=new dM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await rE(e,Kd,"1"),await sE(e,Kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>_M(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Lf(r,!1).getAll();return new Ec(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$1.type="LOCAL";const TM=$1;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(n,e){return e?pr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ua(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ua(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SM(n){return O1(n.auth,new Fy(n),n.bypassAuthState)}function IM(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),tM(t,new Fy(n),n.bypassAuthState)}async function AM(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),eM(t,new Fy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SM;case"linkViaPopup":case"linkViaRedirect":return AM;case"reauthViaPopup":case"reauthViaRedirect":return IM;default:mi(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new _c(2e3,1e4);class Ma extends W1{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bM.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="pendingRedirect",bd=new Map;class PM extends W1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=bd.get(this.auth._key());if(!e){try{const i=await RM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RM(n,e){const t=MM(e),i=DM(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function kM(n,e){bd.set(n._key(),e)}function DM(n){return pr(n._redirectPersistence)}function MM(n){return Ad(CM,n.config.apiKey,n.name)}async function OM(n,e,t=!1){if(fi(n.app))return Promise.reject(fs(n));const i=ol(n),r=xM(i,e),a=await new PM(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=10*60*1e3;class LM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!H1(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VM&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function H1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(n,e={}){return As(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BM=/^https?/;async function UM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FM(n);for(const t of e)try{if(zM(t))return}catch{}mi(n,"unauthorized-domain")}function zM(n){const e=bg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!BM.test(t))return!1;if(jM.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new _c(3e4,6e4);function aE(){const n=Li().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WM(n){return new Promise((e,t)=>{var i,r,s;function a(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),t(Vi(n,"network-request-failed"))},timeout:$M.get()})}if(!((r=(i=Li().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Li().gapi)===null||s===void 0)&&s.load)a();else{const u=N2("iframefcb");return Li()[u]=()=>{gapi.load?a():t(Vi(n,"network-request-failed"))},P1(`${L2()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Cd=null,e})}let Cd=null;function HM(n){return Cd=Cd||WM(n),Cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new _c(5e3,15e3),KM="__/auth/iframe",GM="emulator/auth/iframe",YM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QM(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dy(e,GM):`https://${n.config.authDomain}/${KM}`,i={apiKey:e.apiKey,appName:n.name,v:sl},r=XM.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${vc(i).slice(1)}`}async function JM(n){const e=await HM(n),t=Li().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:QM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YM,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Vi(n,"network-request-failed"),u=Li().setTimeout(()=>{s(a)},qM.get());function c(){Li().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eO=500,tO=600,nO="_blank",iO="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rO(n,e,t,i=eO,r=tO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ZM),{width:i.toString(),height:r.toString(),top:s,left:a}),d=on().toLowerCase();t&&(u=T1(d)?nO:t),w1(d)&&(e=e||iO,c.scrollbars="yes");const m=Object.entries(c).reduce((v,[E,x])=>`${v}${E}=${x},`,"");if(b2(d)&&u!=="_self")return sO(e||"",u),new lE(null);const g=window.open(e||"",u,m);Te(g,n,"popup-blocked");try{g.focus()}catch{}return new lE(g)}function sO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="__/auth/handler",aO="emulator/auth/handler",lO=encodeURIComponent("fac");async function uE(n,e,t,i,r,s){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:sl,eventId:r};if(e instanceof D1){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Yk(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))a[m]=g}if(e instanceof wc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await n._getAppCheckToken(),d=c?`#${lO}=${encodeURIComponent(c)}`:"";return`${uO(n)}?${vc(u).slice(1)}${d}`}function uO({config:n}){return n.emulator?Dy(n,aO):`https://${n.authDomain}/${oO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class cO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j1,this._completeRedirectFn=OM,this._overrideRedirectResult=kM}async _openPopup(e,t,i,r){var s;Er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await uE(e,t,i,bg(),r);return rO(e,a,Ny())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await uE(e,t,i,bg(),r);return fM(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Er(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await JM(e),i=new LM(e);return t.register("authEvent",r=>(Te(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gm,{type:Gm},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Gm];a!==void 0&&t(!!a),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b1()||E1()||Oy()}}const hO=cO;var cE="@firebase/auth",hE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pO(n){Wa(new xo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;Te(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C1(n)},d=new M2(i,r,s,c);return $2(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wa(new xo("auth-internal",e=>{const t=ol(e.getProvider("auth").getImmediate());return(i=>new dO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(cE,hE,fO(n)),ds(cE,hE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=5*60,gO=i1("authIdTokenMaxAge")||mO;let dE=null;const yO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>gO)return;const r=t==null?void 0:t.token;dE!==r&&(dE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function vO(n=u1()){const e=Py(n,"auth");if(e.isInitialized())return e.getImmediate();const t=z2(n,{popupRedirectResolver:hO,persistence:[TM,cM,j1]}),i=i1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=yO(s.toString());oM(t,a,()=>a(t.currentUser)),sM(t,u=>a(u))}}const r=t1("auth");return r&&W2(t,`http://${r}`),t}function _O(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}O2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Vi("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",_O().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pO("Browser");var wO="firebase",EO="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(wO,EO,"app");var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,q1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function C(){}C.prototype=b.prototype,D.D=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(k,L,F){for(var O=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)O[ke-2]=arguments[ke];return b.prototype[L].apply(k,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,b,C){C||(C=0);var k=Array(16);if(typeof b=="string")for(var L=0;16>L;++L)k[L]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(L=0;16>L;++L)k[L]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],L=D.g[2];var F=D.g[3],O=b+(F^C&(L^F))+k[0]+3614090360&4294967295;b=C+(O<<7&4294967295|O>>>25),O=F+(L^b&(C^L))+k[1]+3905402710&4294967295,F=b+(O<<12&4294967295|O>>>20),O=L+(C^F&(b^C))+k[2]+606105819&4294967295,L=F+(O<<17&4294967295|O>>>15),O=C+(b^L&(F^b))+k[3]+3250441966&4294967295,C=L+(O<<22&4294967295|O>>>10),O=b+(F^C&(L^F))+k[4]+4118548399&4294967295,b=C+(O<<7&4294967295|O>>>25),O=F+(L^b&(C^L))+k[5]+1200080426&4294967295,F=b+(O<<12&4294967295|O>>>20),O=L+(C^F&(b^C))+k[6]+2821735955&4294967295,L=F+(O<<17&4294967295|O>>>15),O=C+(b^L&(F^b))+k[7]+4249261313&4294967295,C=L+(O<<22&4294967295|O>>>10),O=b+(F^C&(L^F))+k[8]+1770035416&4294967295,b=C+(O<<7&4294967295|O>>>25),O=F+(L^b&(C^L))+k[9]+2336552879&4294967295,F=b+(O<<12&4294967295|O>>>20),O=L+(C^F&(b^C))+k[10]+4294925233&4294967295,L=F+(O<<17&4294967295|O>>>15),O=C+(b^L&(F^b))+k[11]+2304563134&4294967295,C=L+(O<<22&4294967295|O>>>10),O=b+(F^C&(L^F))+k[12]+1804603682&4294967295,b=C+(O<<7&4294967295|O>>>25),O=F+(L^b&(C^L))+k[13]+4254626195&4294967295,F=b+(O<<12&4294967295|O>>>20),O=L+(C^F&(b^C))+k[14]+2792965006&4294967295,L=F+(O<<17&4294967295|O>>>15),O=C+(b^L&(F^b))+k[15]+1236535329&4294967295,C=L+(O<<22&4294967295|O>>>10),O=b+(L^F&(C^L))+k[1]+4129170786&4294967295,b=C+(O<<5&4294967295|O>>>27),O=F+(C^L&(b^C))+k[6]+3225465664&4294967295,F=b+(O<<9&4294967295|O>>>23),O=L+(b^C&(F^b))+k[11]+643717713&4294967295,L=F+(O<<14&4294967295|O>>>18),O=C+(F^b&(L^F))+k[0]+3921069994&4294967295,C=L+(O<<20&4294967295|O>>>12),O=b+(L^F&(C^L))+k[5]+3593408605&4294967295,b=C+(O<<5&4294967295|O>>>27),O=F+(C^L&(b^C))+k[10]+38016083&4294967295,F=b+(O<<9&4294967295|O>>>23),O=L+(b^C&(F^b))+k[15]+3634488961&4294967295,L=F+(O<<14&4294967295|O>>>18),O=C+(F^b&(L^F))+k[4]+3889429448&4294967295,C=L+(O<<20&4294967295|O>>>12),O=b+(L^F&(C^L))+k[9]+568446438&4294967295,b=C+(O<<5&4294967295|O>>>27),O=F+(C^L&(b^C))+k[14]+3275163606&4294967295,F=b+(O<<9&4294967295|O>>>23),O=L+(b^C&(F^b))+k[3]+4107603335&4294967295,L=F+(O<<14&4294967295|O>>>18),O=C+(F^b&(L^F))+k[8]+1163531501&4294967295,C=L+(O<<20&4294967295|O>>>12),O=b+(L^F&(C^L))+k[13]+2850285829&4294967295,b=C+(O<<5&4294967295|O>>>27),O=F+(C^L&(b^C))+k[2]+4243563512&4294967295,F=b+(O<<9&4294967295|O>>>23),O=L+(b^C&(F^b))+k[7]+1735328473&4294967295,L=F+(O<<14&4294967295|O>>>18),O=C+(F^b&(L^F))+k[12]+2368359562&4294967295,C=L+(O<<20&4294967295|O>>>12),O=b+(C^L^F)+k[5]+4294588738&4294967295,b=C+(O<<4&4294967295|O>>>28),O=F+(b^C^L)+k[8]+2272392833&4294967295,F=b+(O<<11&4294967295|O>>>21),O=L+(F^b^C)+k[11]+1839030562&4294967295,L=F+(O<<16&4294967295|O>>>16),O=C+(L^F^b)+k[14]+4259657740&4294967295,C=L+(O<<23&4294967295|O>>>9),O=b+(C^L^F)+k[1]+2763975236&4294967295,b=C+(O<<4&4294967295|O>>>28),O=F+(b^C^L)+k[4]+1272893353&4294967295,F=b+(O<<11&4294967295|O>>>21),O=L+(F^b^C)+k[7]+4139469664&4294967295,L=F+(O<<16&4294967295|O>>>16),O=C+(L^F^b)+k[10]+3200236656&4294967295,C=L+(O<<23&4294967295|O>>>9),O=b+(C^L^F)+k[13]+681279174&4294967295,b=C+(O<<4&4294967295|O>>>28),O=F+(b^C^L)+k[0]+3936430074&4294967295,F=b+(O<<11&4294967295|O>>>21),O=L+(F^b^C)+k[3]+3572445317&4294967295,L=F+(O<<16&4294967295|O>>>16),O=C+(L^F^b)+k[6]+76029189&4294967295,C=L+(O<<23&4294967295|O>>>9),O=b+(C^L^F)+k[9]+3654602809&4294967295,b=C+(O<<4&4294967295|O>>>28),O=F+(b^C^L)+k[12]+3873151461&4294967295,F=b+(O<<11&4294967295|O>>>21),O=L+(F^b^C)+k[15]+530742520&4294967295,L=F+(O<<16&4294967295|O>>>16),O=C+(L^F^b)+k[2]+3299628645&4294967295,C=L+(O<<23&4294967295|O>>>9),O=b+(L^(C|~F))+k[0]+4096336452&4294967295,b=C+(O<<6&4294967295|O>>>26),O=F+(C^(b|~L))+k[7]+1126891415&4294967295,F=b+(O<<10&4294967295|O>>>22),O=L+(b^(F|~C))+k[14]+2878612391&4294967295,L=F+(O<<15&4294967295|O>>>17),O=C+(F^(L|~b))+k[5]+4237533241&4294967295,C=L+(O<<21&4294967295|O>>>11),O=b+(L^(C|~F))+k[12]+1700485571&4294967295,b=C+(O<<6&4294967295|O>>>26),O=F+(C^(b|~L))+k[3]+2399980690&4294967295,F=b+(O<<10&4294967295|O>>>22),O=L+(b^(F|~C))+k[10]+4293915773&4294967295,L=F+(O<<15&4294967295|O>>>17),O=C+(F^(L|~b))+k[1]+2240044497&4294967295,C=L+(O<<21&4294967295|O>>>11),O=b+(L^(C|~F))+k[8]+1873313359&4294967295,b=C+(O<<6&4294967295|O>>>26),O=F+(C^(b|~L))+k[15]+4264355552&4294967295,F=b+(O<<10&4294967295|O>>>22),O=L+(b^(F|~C))+k[6]+2734768916&4294967295,L=F+(O<<15&4294967295|O>>>17),O=C+(F^(L|~b))+k[13]+1309151649&4294967295,C=L+(O<<21&4294967295|O>>>11),O=b+(L^(C|~F))+k[4]+4149444226&4294967295,b=C+(O<<6&4294967295|O>>>26),O=F+(C^(b|~L))+k[11]+3174756917&4294967295,F=b+(O<<10&4294967295|O>>>22),O=L+(b^(F|~C))+k[2]+718787259&4294967295,L=F+(O<<15&4294967295|O>>>17),O=C+(F^(L|~b))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var C=b-this.blockSize,k=this.B,L=this.h,F=0;F<b;){if(L==0)for(;F<=C;)r(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<b;)if(k[L++]=D.charCodeAt(F++),L==this.blockSize){r(this,k),L=0;break}}else for(;F<b;)if(k[L++]=D[F++],L==this.blockSize){r(this,k),L=0;break}}this.h=L,this.o+=b},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var C=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=C&255,C/=256;for(this.u(D),D=Array(16),b=C=0;4>b;++b)for(var k=0;32>k;k+=8)D[C++]=this.g[b]>>>k&255;return D};function s(D,b){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function a(D,b){this.h=b;for(var C=[],k=!0,L=D.length-1;0<=L;L--){var F=D[L]|0;k&&F==b||(C[L]=F,k=!1)}this.g=C}var u={};function c(D){return-128<=D&&128>D?s(D,function(b){return new a([b|0],0>b?-1:0)}):new a([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return S(d(-D));for(var b=[],C=1,k=0;D>=C;k++)b[k]=D/C|0,C*=4294967296;return new a(b,0)}function m(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return S(m(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(b,8)),k=g,L=0;L<D.length;L+=8){var F=Math.min(8,D.length-L),O=parseInt(D.substring(L,L+F),b);8>F?(F=d(Math.pow(b,F)),k=k.j(F).add(d(O))):(k=k.j(C),k=k.add(d(O)))}return k}var g=c(0),v=c(1),E=c(16777216);n=a.prototype,n.m=function(){if(A(this))return-S(this).m();for(var D=0,b=1,C=0;C<this.g.length;C++){var k=this.i(C);D+=(0<=k?k:4294967296+k)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(A(this))return"-"+S(this).toString(D);for(var b=d(Math.pow(D,6)),C=this,k="";;){var L=q(C,b).g;C=R(C,L.j(b));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=L,x(C))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=R(this,D),A(D)?-1:x(D)?0:1};function S(D){for(var b=D.g.length,C=[],k=0;k<b;k++)C[k]=~D.g[k];return new a(C,~D.h).add(v)}n.abs=function(){return A(this)?S(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],k=0,L=0;L<=b;L++){var F=k+(this.i(L)&65535)+(D.i(L)&65535),O=(F>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);k=O>>>16,F&=65535,O&=65535,C[L]=O<<16|F}return new a(C,C[C.length-1]&-2147483648?-1:0)};function R(D,b){return D.add(S(b))}n.j=function(D){if(x(this)||x(D))return g;if(A(this))return A(D)?S(this).j(S(D)):S(S(this).j(D));if(A(D))return S(this.j(S(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var b=this.g.length+D.g.length,C=[],k=0;k<2*b;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<D.g.length;L++){var F=this.i(k)>>>16,O=this.i(k)&65535,ke=D.i(L)>>>16,Se=D.i(L)&65535;C[2*k+2*L]+=O*Se,M(C,2*k+2*L),C[2*k+2*L+1]+=F*Se,M(C,2*k+2*L+1),C[2*k+2*L+1]+=O*ke,M(C,2*k+2*L+1),C[2*k+2*L+2]+=F*ke,M(C,2*k+2*L+2)}for(k=0;k<b;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=b;k<2*b;k++)C[k]=0;return new a(C,0)};function M(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function B(D,b){this.g=D,this.h=b}function q(D,b){if(x(b))throw Error("division by zero");if(x(D))return new B(g,g);if(A(D))return b=q(S(D),b),new B(S(b.g),S(b.h));if(A(b))return b=q(D,S(b)),new B(S(b.g),b.h);if(30<D.g.length){if(A(D)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var C=v,k=b;0>=k.l(D);)C=Y(C),k=Y(k);var L=Q(C,1),F=Q(k,1);for(k=Q(k,2),C=Q(C,2);!x(k);){var O=F.add(k);0>=O.l(D)&&(L=L.add(C),F=O),k=Q(k,1),C=Q(C,1)}return b=R(D,L.j(b)),new B(L,b)}for(L=g;0<=D.l(b);){for(C=Math.max(1,Math.floor(D.m()/b.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=d(C),O=F.j(b);A(O)||0<O.l(D);)C-=k,F=d(C),O=F.j(b);x(F)&&(F=v),L=L.add(F),D=R(D,O)}return new B(L,D)}n.A=function(D){return q(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],k=0;k<b;k++)C[k]=this.i(k)&D.i(k);return new a(C,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],k=0;k<b;k++)C[k]=this.i(k)|D.i(k);return new a(C,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],k=0;k<b;k++)C[k]=this.i(k)^D.i(k);return new a(C,this.h^D.h)};function Y(D){for(var b=D.g.length+1,C=[],k=0;k<b;k++)C[k]=D.i(k)<<1|D.i(k-1)>>>31;return new a(C,D.h)}function Q(D,b){var C=b>>5;b%=32;for(var k=D.g.length-C,L=[],F=0;F<k;F++)L[F]=0<b?D.i(F+C)>>>b|D.i(F+C+1)<<32-b:D.i(F+C);return new a(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,q1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=m,ps=a}).apply(typeof fE<"u"?fE:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K1,Eu,G1,Pd,Rg,Y1,X1,Q1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,T){return f==Array.prototype||f==Object.prototype||(f[_]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var _=0;_<f.length;++_){var T=f[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function r(f,_){if(_)e:{var T=i;f=f.split(".");for(var P=0;P<f.length-1;P++){var W=f[P];if(!(W in T))break e;T=T[W]}f=f[f.length-1],P=T[f],_=_(P),_!=P&&_!=null&&e(T,f,{configurable:!0,writable:!0,value:_})}}function s(f,_){f instanceof String&&(f+="");var T=0,P=!1,W={next:function(){if(!P&&T<f.length){var X=T++;return{value:_(X,f[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(f){return f||function(){return s(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function d(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,T){return f.call.apply(f.bind,arguments)}function g(f,_,T){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,P),f.apply(_,W)}}return function(){return f.apply(_,arguments)}}function v(f,_,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function E(f,_){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function x(f,_){function T(){}T.prototype=_.prototype,f.aa=_.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(P,W,X){for(var oe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)oe[Ge-2]=arguments[Ge];return _.prototype[W].apply(P,oe)}}function A(f){const _=f.length;if(0<_){const T=Array(_);for(let P=0;P<_;P++)T[P]=f[P];return T}return[]}function S(f,_){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(c(P)){const W=f.length||0,X=P.length||0;f.length=W+X;for(let oe=0;oe<X;oe++)f[W+oe]=P[oe]}else f.push(P)}}class R{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function q(f){return q[" "](f),f}q[" "]=function(){};var Y=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Q(f,_,T){for(const P in f)_.call(T,f[P],P,f)}function D(f,_){for(const T in f)_.call(void 0,f[T],T,f)}function b(f){const _={};for(const T in f)_[T]=f[T];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,_){let T,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(T in P)f[T]=P[T];for(let X=0;X<C.length;X++)T=C[X],Object.prototype.hasOwnProperty.call(P,T)&&(f[T]=P[T])}}function L(f){var _=1;f=f.split(":");const T=[];for(;0<_&&f.length;)T.push(f.shift()),_--;return f.length&&T.push(f.join(":")),T}function F(f){u.setTimeout(()=>{throw f},0)}function O(){var f=ae;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ke{constructor(){this.h=this.g=null}add(_,T){const P=Se.get();P.set(_,T),this.h?this.h.next=P:this.g=P,this.h=P}}var Se=new R(()=>new Pe,f=>f.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ie=!1,ae=new ke,N=()=>{const f=u.Promise.resolve(void 0);he=()=>{f.then(ee)}};var ee=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(T){F(T)}var _=Se;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}ie=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return f}();function Oe(f,_){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(Y){e:{try{q(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else T=="mouseover"?_=f.fromElement:T=="mouseout"&&(_=f.toElement);this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Oe.aa.h.call(this)}}x(Oe,ye);var Re={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Gt(f,_,T,P,W){this.listener=f,this.proxy=null,this.src=_,this.type=T,this.capture=!!P,this.ha=W,this.key=++$e,this.da=this.fa=!1}function Oo(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Wi(f){this.src=f,this.g={},this.h=0}Wi.prototype.add=function(f,_,T,P,W){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var oe=Pr(f,_,P,W);return-1<oe?(_=f[oe],T||(_.fa=!1)):(_=new Gt(_,this.src,X,!!P,W),_.fa=T,f.push(_)),_};function Vo(f,_){var T=_.type;if(T in f.g){var P=f.g[T],W=Array.prototype.indexOf.call(P,_,void 0),X;(X=0<=W)&&Array.prototype.splice.call(P,W,1),X&&(Oo(_),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Pr(f,_,T,P){for(var W=0;W<f.length;++W){var X=f[W];if(!X.da&&X.listener==_&&X.capture==!!T&&X.ha==P)return W}return-1}var Rs="closure_lm_"+(1e6*Math.random()|0),Lo={};function gl(f,_,T,P,W){if(Array.isArray(_)){for(var X=0;X<_.length;X++)gl(f,_[X],T,P,W);return null}return T=_l(T),f&&f[ze]?f.K(_,T,d(P)?!!P.capture:!1,W):yl(f,_,T,!1,P,W)}function yl(f,_,T,P,W,X){if(!_)throw Error("Invalid event type");var oe=d(W)?!!W.capture:!!W,Ge=Fo(f);if(Ge||(f[Rs]=Ge=new Wi(f)),T=Ge.add(_,T,P,oe,X),T.proxy)return T;if(P=Lc(),T.proxy=P,P.src=f,P.listener=T,f.addEventListener)Ie||(W=oe),W===void 0&&(W=!1),f.addEventListener(_.toString(),P,W);else if(f.attachEvent)f.attachEvent(qi(_.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Lc(){function f(T){return _.call(f.src,f.listener,T)}const _=vl;return f}function No(f,_,T,P,W){if(Array.isArray(_))for(var X=0;X<_.length;X++)No(f,_[X],T,P,W);else P=d(P)?!!P.capture:!!P,T=_l(T),f&&f[ze]?(f=f.i,_=String(_).toString(),_ in f.g&&(X=f.g[_],T=Pr(X,T,P,W),-1<T&&(Oo(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete f.g[_],f.h--)))):f&&(f=Fo(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Pr(_,T,P,W)),(T=-1<f?_[f]:null)&&Hi(T))}function Hi(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ze])Vo(_.i,f);else{var T=f.type,P=f.proxy;_.removeEventListener?_.removeEventListener(T,P,f.capture):_.detachEvent?_.detachEvent(qi(T),P):_.addListener&&_.removeListener&&_.removeListener(P),(T=Fo(_))?(Vo(T,f),T.h==0&&(T.src=null,_[Rs]=null)):Oo(f)}}}function qi(f){return f in Lo?Lo[f]:Lo[f]="on"+f}function vl(f,_){if(f.da)f=!0;else{_=new Oe(_,this);var T=f.listener,P=f.ha||f.src;f.fa&&Hi(f),f=T.call(P,_)}return f}function Fo(f){return f=f[Rs],f instanceof Wi?f:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function _l(f){return typeof f=="function"?f:(f[jo]||(f[jo]=function(_){return f.handleEvent(_)}),f[jo])}function St(){le.call(this),this.i=new Wi(this),this.M=this,this.F=null}x(St,le),St.prototype[ze]=!0,St.prototype.removeEventListener=function(f,_,T,P){No(this,f,_,T,P)};function It(f,_){var T,P=f.F;if(P)for(T=[];P;P=P.F)T.push(P);if(f=f.M,P=_.type||_,typeof _=="string")_=new ye(_,f);else if(_ instanceof ye)_.target=_.target||f;else{var W=_;_=new ye(P,f),k(_,W)}if(W=!0,T)for(var X=T.length-1;0<=X;X--){var oe=_.g=T[X];W=Ki(oe,P,!0,_)&&W}if(oe=_.g=f,W=Ki(oe,P,!0,_)&&W,W=Ki(oe,P,!1,_)&&W,T)for(X=0;X<T.length;X++)oe=_.g=T[X],W=Ki(oe,P,!1,_)&&W}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var T=f.g[_],P=0;P<T.length;P++)Oo(T[P]);delete f.g[_],f.h--}}this.F=null},St.prototype.K=function(f,_,T,P){return this.i.add(String(f),_,!1,T,P)},St.prototype.L=function(f,_,T,P){return this.i.add(String(f),_,!0,T,P)};function Ki(f,_,T,P){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,X=0;X<_.length;++X){var oe=_[X];if(oe&&!oe.da&&oe.capture==T){var Ge=oe.listener,At=oe.ha||oe.src;oe.fa&&Vo(f.i,oe),W=Ge.call(At,P)!==!1&&W}}return W&&!P.defaultPrevented}function wl(f,_,T){if(typeof f=="function")T&&(f=v(f,T));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(f,_||0)}function Rr(f){f.g=wl(()=>{f.g=null,f.i&&(f.i=!1,Rr(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class ks extends le{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(f){le.call(this),this.h=f,this.g={}}x(Ds,le);var El=[];function Tl(f){Q(f.g,function(_,T){this.g.hasOwnProperty(T)&&Hi(_)},f),f.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),Tl(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xl=u.JSON.stringify,Sl=u.JSON.parse,Il=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Ms(){}Ms.prototype.h=null;function Bo(f){return f.h||(f.h=f.i())}function Uo(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){ye.call(this,"d")}x(wi,ye);function zo(){ye.call(this,"c")}x(zo,ye);var Ei={},Al=null;function Os(){return Al=Al||new St}Ei.La="serverreachability";function bl(f){ye.call(this,Ei.La,f)}x(bl,ye);function Gi(f){const _=Os();It(_,new bl(_))}Ei.STAT_EVENT="statevent";function Cl(f,_){ye.call(this,Ei.STAT_EVENT,f),this.stat=_}x(Cl,ye);function pt(f){const _=Os();It(_,new Cl(_,f))}Ei.Ma="timingevent";function $o(f,_){ye.call(this,Ei.Ma,f),this.size=_}x($o,ye);function Qn(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function Ls(f,_,T,P,W,X){f.info(function(){if(f.g)if(X)for(var oe="",Ge=X.split("&"),At=0;At<Ge.length;At++){var je=Ge[At].split("=");if(1<je.length){var Dt=je[0];je=je[1];var _t=Dt.split("_");oe=2<=_t.length&&_t[1]=="type"?oe+(Dt+"="+je+"&"):oe+(Dt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+_+`
`+T+`
`+oe})}function Wo(f,_,T,P,W,X,oe){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+_+`
`+T+`
`+X+" "+oe})}function Jn(f,_,T,P){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+up(f,T)+(P?" "+P:"")})}function Pl(f,_){f.info(function(){return"TIMEOUT: "+_})}Vs.prototype.info=function(){};function up(f,_){if(!f.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var P=T[f];if(!(2>P.length)){var W=P[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<W.length;oe++)W[oe]=""}}}}return xl(T)}catch{return _}}var Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Ns(){}x(Ns,Ms),Ns.prototype.g=function(){return new XMLHttpRequest},Ns.prototype.i=function(){return{}},Zn=new Ns;function ei(f,_,T,P){this.j=f,this.i=_,this.l=T,this.R=P||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fc}function Fc(){this.i=null,this.g="",this.h=!1}var Rl={},qo={};function Ko(f,_,T){f.L=1,f.v=Vr(An(_)),f.m=T,f.P=!0,kl(f,null)}function kl(f,_){f.F=Date.now(),Je(f),f.A=An(f.v);var T=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),Nr(T.i,"t",P),f.C=0,T=f.j.J,f.h=new Fc,f.g=nh(f.j,T?_:null,!f.m),0<f.O&&(f.M=new ks(v(f.Y,f,f.g),f.O)),_=f.U,T=f.g,P=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(El[0]=W.toString()),W=El);for(var X=0;X<W.length;X++){var oe=gl(T,W[X],P||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=f.H?b(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Gi(),Ls(f.i,f.u,f.A,f.l,f.R,f.m)}ei.prototype.ca=function(f){f=f.target;const _=this.M;_&&fn(f)==3?_.j():this.Y(f)},ei.prototype.Y=function(f){try{if(f==this.g)e:{const _t=fn(this.g);var _=this.g.Ba();const jn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Nl(this.g)))){this.J||_t!=4||_==7||(_==8||0>=jn?Gi(3):Gi(2)),Fs(this);var T=this.g.Z();this.X=T;t:if(jc(this)){var P=Nl(this.g);f="";var W=P.length,X=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),kr(this);var oe="";break t}this.h.i=new u.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,f+=this.h.i.decode(P[_],{stream:!(X&&_==W-1)});P.length=0,this.h.g+=f,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=T==200,Wo(this.i,this.u,this.A,this.l,this.R,_t,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,At=this.g;if((Ge=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ge)){var je=Ge;break t}}je=null}if(T=je)Jn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,T);else{this.o=!1,this.s=3,pt(12),Nn(this),kr(this);break e}}if(this.P){T=!0;let Cn;for(;!this.J&&this.C<oe.length;)if(Cn=cp(this,oe),Cn==qo){_t==4&&(this.s=4,pt(14),T=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Rl){this.s=4,pt(15),Jn(this.i,this.l,oe,"[Invalid Chunk]"),T=!1;break}else Jn(this.i,this.l,Cn,null),Dl(this,Cn);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),T=!1),this.o=this.o&&T,!T)Jn(this.i,this.l,oe,"[Invalid Chunked Response]"),Nn(this),kr(this);else if(0<oe.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),jl(Dt),Dt.M=!0,pt(11))}}else Jn(this.i,this.l,oe,null),Dl(this,oe);_t==4&&Nn(this),this.o&&!this.J&&(_t==4?ra(this.j,this):(this.o=!1,Je(this)))}else Zo(this.g),T==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Nn(this),kr(this)}}}catch{}finally{}};function jc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function cp(f,_){var T=f.C,P=_.indexOf(`
`,T);return P==-1?qo:(T=Number(_.substring(T,P)),isNaN(T)?Rl:(P+=1,P+T>_.length?qo:(_=_.slice(P,P+T),f.C=P+T,_)))}ei.prototype.cancel=function(){this.J=!0,Nn(this)};function Je(f){f.S=Date.now()+f.I,Bc(f,f.I)}function Bc(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Qn(v(f.ba,f),_)}function Fs(f){f.B&&(u.clearTimeout(f.B),f.B=null)}ei.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Pl(this.i,this.A),this.L!=2&&(Gi(),pt(17)),Nn(this),this.s=2,kr(this)):Bc(this,this.S-f)};function kr(f){f.j.G==0||f.J||ra(f.j,f)}function Nn(f){Fs(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Tl(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Dl(f,_){try{var T=f.j;if(T.G!=0&&(T.g==f||an(T.h,f))){if(!f.K&&an(T.h,f)&&T.G==3){try{var P=T.Da.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)ia(T),si(T);else break e;na(T),pt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=Qn(v(T.Za,T),6e3));if(1>=zc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Zi(T,11)}else if((f.K||T.g==f)&&ia(T),!M(_))for(W=T.Da.g.parse(_),_=0;_<W.length;_++){let je=W[_];if(T.T=je[0],je=je[1],T.G==2)if(je[0]=="c"){T.K=je[1],T.ia=je[2];const Dt=je[3];Dt!=null&&(T.la=Dt,T.j.info("VER="+T.la));const _t=je[4];_t!=null&&(T.Aa=_t,T.j.info("SVER="+T.Aa));const jn=je[5];jn!=null&&typeof jn=="number"&&0<jn&&(P=1.5*jn,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const Cn=f.g;if(Cn){const Hs=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var X=P.h;X.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ml(X,X.h),X.h=null))}if(P.D){const oa=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(P.ya=oa,Qe(P.I,P.D,oa))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var oe=f;if(P.qa=th(P,P.J?P.ia:null,P.W),oe.K){$c(P.h,oe);var Ge=oe,At=P.L;At&&(Ge.I=At),Ge.B&&(Fs(Ge),Je(Ge)),P.g=oe}else Ws(P);0<T.i.length&&Ii(T)}else je[0]!="stop"&&je[0]!="close"||Zi(T,7);else T.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Zi(T,7):Bt(T):je[0]!="noop"&&T.l&&T.l.ta(je),T.v=0)}}Gi(4)}catch{}}var Uc=class{constructor(f,_){this.g=f,this.map=_}};function js(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function zc(f){return f.h?1:f.g?f.g.size:0}function an(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ml(f,_){f.g?f.g.add(_):f.h=_}function $c(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}js.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Wc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const T of f.g.values())_=_.concat(T.D);return _}return A(f.i)}function Go(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var _=[],T=f.length,P=0;P<T;P++)_.push(f[P]);return _}_=[],T=0;for(P in f)_[T++]=f[P];return _}function Yo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var _=[];f=f.length;for(var T=0;T<f;T++)_.push(T);return _}_=[],T=0;for(const P in f)_[T++]=P;return _}}}function Dr(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var T=Yo(f),P=Go(f),W=P.length,X=0;X<W;X++)_.call(void 0,P[X],T&&T[X],f)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hp(f,_){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var P=f[T].indexOf("="),W=null;if(0<=P){var X=f[T].substring(0,P);W=f[T].substring(P+1)}else X=f[T];_(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Yi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Yi){this.h=f.h,Us(this,f.j),this.o=f.o,this.g=f.g,Mr(this,f.s),this.l=f.l;var _=f.i,T=new Ti;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Or(this,T),this.m=f.m}else f&&(_=String(f).match(Bs))?(this.h=!1,Us(this,_[1]||"",!0),this.o=Fe(_[2]||""),this.g=Fe(_[3]||"",!0),Mr(this,_[4]),this.l=Fe(_[5]||"",!0),Or(this,_[6]||"",!0),this.m=Fe(_[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Yi.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Lr(_,Xo,!0),":");var T=this.g;return(T||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Lr(_,Xo,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Lr(T,T.charAt(0)=="/"?Kc:qc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Lr(T,Ol)),f.join("")};function An(f){return new Yi(f)}function Us(f,_,T){f.j=T?Fe(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Mr(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Or(f,_,T){_ instanceof Ti?(f.i=_,xi(f.i,f.h)):(T||(_=Lr(_,Gc)),f.i=new Ti(_,f.h))}function Qe(f,_,T){f.i.set(_,T)}function Vr(f){return Qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Fe(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Lr(f,_,T){return typeof f=="string"?(f=encodeURI(f).replace(_,Hc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Hc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Xo=/[#\/\?@]/g,qc=/[#\?:]/g,Kc=/[#\?]/g,Gc=/[#\?@]/g,Ol=/#/g;function Ti(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function jt(f){f.g||(f.g=new Map,f.h=0,f.i&&hp(f.i,function(_,T){f.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Ti.prototype,n.add=function(f,_){jt(this),this.i=null,f=Fn(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(_),this.h+=1,this};function ti(f,_){jt(f),_=Fn(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ni(f,_){return jt(f),_=Fn(f,_),f.g.has(_)}n.forEach=function(f,_){jt(this),this.g.forEach(function(T,P){T.forEach(function(W){f.call(_,W,P,this)},this)},this)},n.na=function(){jt(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let P=0;P<_.length;P++){const W=f[P];for(let X=0;X<W.length;X++)T.push(_[P])}return T},n.V=function(f){jt(this);let _=[];if(typeof f=="string")ni(this,f)&&(_=_.concat(this.g.get(Fn(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)_=_.concat(f[T])}return _},n.set=function(f,_){return jt(this),this.i=null,f=Fn(this,f),ni(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Nr(f,_,T){ti(f,_),0<T.length&&(f.i=null,f.g.set(Fn(f,_),A(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var P=_[T];const X=encodeURIComponent(String(P)),oe=this.V(P);for(P=0;P<oe.length;P++){var W=X;oe[P]!==""&&(W+="="+encodeURIComponent(String(oe[P]))),f.push(W)}}return this.i=f.join("&")};function Fn(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function xi(f,_){_&&!f.j&&(jt(f),f.i=null,f.g.forEach(function(T,P){var W=P.toLowerCase();P!=W&&(ti(this,P),Nr(this,W,T))},f)),f.j=_}function dp(f,_){const T=new Vs;if(u.Image){const P=new Image;P.onload=E(dn,T,"TestLoadImage: loaded",!0,_,P),P.onerror=E(dn,T,"TestLoadImage: error",!1,_,P),P.onabort=E(dn,T,"TestLoadImage: abort",!1,_,P),P.ontimeout=E(dn,T,"TestLoadImage: timeout",!1,_,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else _(!1)}function Yc(f,_){const T=new Vs,P=new AbortController,W=setTimeout(()=>{P.abort(),dn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:P.signal}).then(X=>{clearTimeout(W),X.ok?dn(T,"TestPingServer: ok",!0,_):dn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),dn(T,"TestPingServer: error",!1,_)})}function dn(f,_,T,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(T)}catch{}}function fp(){this.g=new Il}function Xc(f,_,T){const P=T||"";try{Dr(f,function(W,X){let oe=W;d(W)&&(oe=xl(W)),_.push(P+X+"="+encodeURIComponent(oe))})}catch(W){throw _.push(P+"type="+encodeURIComponent("_badmap")),W}}function Xi(f){this.l=f.Ub||null,this.j=f.eb||!1}x(Xi,Ms),Xi.prototype.g=function(){return new zs(this.l,this.j)},Xi.prototype.i=function(f){return function(){return f}}({});function zs(f,_){St.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(zs,St),n=zs.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,ri(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ii(this):ri(this),this.readyState==3&&Qc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ii(this))},n.Qa=function(f){this.g&&(this.response=f,ii(this))},n.ga=function(){this.g&&ii(this)};function ii(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ri(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=_.next();return f.join(`\r
`)};function ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qi(f){let _="";return Q(f,function(T,P){_+=P,_+=":",_+=T,_+=`\r
`}),_}function Fr(f,_,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Qi(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Qe(f,_,T))}function st(f){St.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(st,St);var pp=/^https?$/i,Vl=["POST","PUT"];n=st.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Bo(this.o):Bo(Zn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(X){$s(this,X);return}if(f=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)T.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())T.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),W=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vl,_,void 0))||P||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of T)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jo(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){$s(this,X)}};function $s(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Qo(f),bn(f)}function Qo(f){f.A||(f.A=!0,It(f,"complete"),It(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,It(this,"complete"),It(this,"abort"),bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bn(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ll(this):this.bb())},n.bb=function(){Ll(this)};function Ll(f){if(f.h&&typeof a<"u"&&(!f.v[1]||fn(f)!=4||f.Z()!=2)){if(f.u&&fn(f)==4)wl(f.Ea,0,f);else if(It(f,"readystatechange"),fn(f)==4){f.h=!1;try{const oe=f.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var P;if(P=oe===0){var W=String(f.D).match(Bs)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),P=!pp.test(W?W.toLowerCase():"")}T=P}if(T)It(f,"complete"),It(f,"success");else{f.m=6;try{var X=2<fn(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",Qo(f)}}finally{bn(f)}}}}function bn(f,_){if(f.g){Jo(f);const T=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||It(f,"ready");try{T.onreadystatechange=P}catch{}}}function Jo(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function fn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Sl(_)}};function Nl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Zo(f){const _={};f=(f.g&&2<=fn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(M(f[P]))continue;var T=L(f[P]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=_[W]||[];_[W]=X,X.push(T)}D(_,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(f,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||_}function Fl(f){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Si("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Si("baseRetryDelayMs",5e3,f),this.cb=Si("retryDelaySeedMs",1e4,f),this.Wa=Si("forwardChannelMaxRetries",2,f),this.wa=Si("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new js(f&&f.concurrentRequestLimit),this.Da=new fp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fl.prototype,n.la=8,n.G=1,n.connect=function(f,_,T,P){pt(0),this.W=f,this.H=_||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=th(this,null,this.W),Ii(this)};function Bt(f){if(ea(f),f.G==3){var _=f.U++,T=An(f.I);if(Qe(T,"SID",f.K),Qe(T,"RID",_),Qe(T,"TYPE","terminate"),Ji(f,T),_=new ei(f,f.j,_),_.L=2,_.v=Vr(An(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.v,T=!0),T||(_.g=nh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Je(_)}eh(f)}function si(f){f.g&&(jl(f),f.g.cancel(),f.g=null)}function ea(f){si(f),f.u&&(u.clearTimeout(f.u),f.u=null),ia(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Ii(f){if(!In(f.h)&&!f.s){f.s=!0;var _=f.Ga;he||N(),ie||(he(),ie=!0),ae.add(_,f),f.B=0}}function mp(f,_){return zc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Qn(v(f.Ga,f,_),Zc(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new ei(this,this.j,f);let X=this.o;if(this.S&&(X?(X=b(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=jr(this,W,_),T=An(this.I),Qe(T,"RID",f),Qe(T,"CVER",22),this.D&&Qe(T,"X-HTTP-Session-Id",this.D),Ji(this,T),X&&(this.O?_="headers="+encodeURIComponent(String(Qi(X)))+"&"+_:this.m&&Fr(T,this.m,X)),Ml(this.h,W),this.Ua&&Qe(T,"TYPE","init"),this.P?(Qe(T,"$req",_),Qe(T,"SID","null"),W.T=!0,Ko(W,T,null)):Ko(W,T,_),this.G=2}}else this.G==3&&(f?ta(this,f):this.i.length==0||In(this.h)||ta(this))};function ta(f,_){var T;_?T=_.l:T=f.U++;const P=An(f.I);Qe(P,"SID",f.K),Qe(P,"RID",T),Qe(P,"AID",f.T),Ji(f,P),f.m&&f.o&&Fr(P,f.m,f.o),T=new ei(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),_&&(f.i=_.D.concat(f.i)),_=jr(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ml(f.h,T),Ko(T,P,_)}function Ji(f,_){f.H&&Q(f.H,function(T,P){Qe(_,P,T)}),f.l&&Dr({},function(T,P){Qe(_,P,T)})}function jr(f,_,T){T=Math.min(f.i.length,T);var P=f.l?v(f.l.Na,f.l,f):null;e:{var W=f.i;let X=-1;for(;;){const oe=["count="+T];X==-1?0<T?(X=W[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Ge=!0;for(let At=0;At<T;At++){let je=W[At].g;const Dt=W[At].map;if(je-=X,0>je)X=Math.max(0,W[At].g-100),Ge=!1;else try{Xc(Dt,oe,"req"+je+"_")}catch{P&&P(Dt)}}if(Ge){P=oe.join("&");break e}}}return f=f.i.splice(0,T),_.D=f,P}function Ws(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;he||N(),ie||(he(),ie=!0),ae.add(_,f),f.v=0}}function na(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Qn(v(f.Fa,f),Zc(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Qn(v(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),si(this),Jc(this))};function jl(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Jc(f){f.g=new ei(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=An(f.qa);Qe(_,"RID","rpc"),Qe(_,"SID",f.K),Qe(_,"AID",f.T),Qe(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Qe(_,"TO",f.ja),Qe(_,"TYPE","xmlhttp"),Ji(f,_),f.m&&f.o&&Fr(_,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Vr(An(_)),T.m=null,T.P=!0,kl(T,f)}n.Za=function(){this.C!=null&&(this.C=null,si(this),na(this),pt(19))};function ia(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ra(f,_){var T=null;if(f.g==_){ia(f),jl(f),f.g=null;var P=2}else if(an(f.h,_))T=_.D,$c(f.h,_),P=1;else return;if(f.G!=0){if(_.o)if(P==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var W=f.B;P=Os(),It(P,new $o(P,T)),Ii(f)}else Ws(f);else if(W=_.s,W==3||W==0&&0<_.X||!(P==1&&mp(f,_)||P==2&&na(f)))switch(T&&0<T.length&&(_=f.h,_.i=_.i.concat(T)),W){case 1:Zi(f,5);break;case 4:Zi(f,10);break;case 3:Zi(f,6);break;default:Zi(f,2)}}}function Zc(f,_){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*_}function Zi(f,_){if(f.j.info("Error code "+_),_==2){var T=v(f.fb,f),P=f.Xa;const W=!P;P=new Yi(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Us(P,"https"),Vr(P),W?dp(P.toString(),T):Yc(P.toString(),T)}else pt(2);f.G=0,f.l&&f.l.sa(_),eh(f),ea(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function eh(f){if(f.G=0,f.ka=[],f.l){const _=Wc(f.h);(_.length!=0||f.i.length!=0)&&(S(f.ka,_),S(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function th(f,_,T){var P=T instanceof Yi?An(T):new Yi(T);if(P.g!="")_&&(P.g=_+"."+P.g),Mr(P,P.s);else{var W=u.location;P=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var X=new Yi(null);P&&Us(X,P),_&&(X.g=_),W&&Mr(X,W),T&&(X.l=T),P=X}return T=f.D,_=f.ya,T&&_&&Qe(P,T,_),Qe(P,"VER",f.la),Ji(f,P),P}function nh(f,_,T){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new st(new Xi({eb:T})):new st(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bl(){}n=Bl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sa(){}sa.prototype.g=function(f,_){return new ln(f,_)};function ln(f,_){St.call(this),this.g=new Fl(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!M(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ai(this)}x(ln,St),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Bt(this.g)},ln.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=xl(f),f=T);_.i.push(new Uc(_.Ya++,f)),_.G==3&&Ii(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,ln.aa.N.call(this)};function ih(f){wi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const T in _){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}x(ih,wi);function rh(){zo.call(this),this.status=1}x(rh,zo);function Ai(f){this.g=f}x(Ai,Bl),Ai.prototype.ua=function(){It(this.g,"a")},Ai.prototype.ta=function(f){It(this.g,new ih(f))},Ai.prototype.sa=function(f){It(this.g,new rh)},Ai.prototype.ra=function(){It(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Q1=function(){return new sa},X1=function(){return Os()},Y1=Ei,Rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Pd=Ho,Nc.COMPLETE="complete",G1=Nc,Uo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",St.prototype.listen=St.prototype.K,Eu=Uo,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,K1=st}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",mE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new by("@firebase/firestore");function Pa(){return Io.logLevel}function ce(n,...e){if(Io.logLevel<=Le.DEBUG){const t=e.map(jy);Io.debug(`Firestore (${ll}): ${n}`,...t)}}function Tr(n,...e){if(Io.logLevel<=Le.ERROR){const t=e.map(jy);Io.error(`Firestore (${ll}): ${n}`,...t)}}function qa(n,...e){if(Io.logLevel<=Le.WARN){const t=e.map(jy);Io.warn(`Firestore (${ll}): ${n}`,...t)}}function jy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,J1(n,i,t)}function J1(n,e,t){let i=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Tr(i),new Error(i)}function Ke(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||J1(e,r,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class xO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SO{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},u=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new Z1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class IO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new IO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const i=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=CO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Me(n,e){return n<e?-1:n>e?1:0}function kg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Me(i,r);{const s=eI(),a=PO(s.encode(yE(n,t)),s.encode(yE(e,t)));return a!==0?a:Me(i,r)}}t+=i>65535?2:1}return Me(n.length,e.length)}function yE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function PO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function Ka(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=-62135596800,_E=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*_E);return new Rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vE)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Rt(0,0))}static max(){return new be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__name__";class Oi{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&xe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=Oi.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Me(e.length,t.length)}static compareSegments(e,t){const i=Oi.isNumericId(e),r=Oi.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):kg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class it extends Oi{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new it(t)}static emptyPath(){return new it([])}}const RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Oi{construct(e,t,i){return new Ht(e,t,i)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new Ht([wE])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else u==="`"?(a=!a,r++):u!=="."||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;function kO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=be.fromTimestamp(i===1e9?new Rt(t+1,0):new Rt(t,i));return new ys(r,ve.empty(),e)}function DO(n){return new ys(n.readTime,n.key,Zu)}class ys{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ys(be.min(),ve.empty(),Zu)}static max(){return new ys(be.max(),ve.empty(),Zu)}}function MO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==OO)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let r=0,s=0,a=!1;e.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&t()},c=>i(c))}),a=!0,s===r&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(r=>r?J.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new J((i,r)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;t(e[d]).next(m=>{a[d]=m,++u,u===s&&i(a)},m=>r(m))}})}static doWhile(e,t){return new J((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function LO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Nf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-1;function Ff(n){return n==null}function Yd(n){return n===0&&1/n==-1/0}function NO(n){return typeof n=="number"&&Number.isInteger(n)&&!Yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="";function FO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EE(e)),e=jO(n.get(t),e);return EE(e)}function jO(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case nI:t+="";break;default:t+=s}}return t}function EE(n){return n+nI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}}class td{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Wt.RED,this.left=r??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Wt(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Wt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new kt(Ht.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rI("Invalid base64 string: "+s):s}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const BO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=BO.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _s(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="server_timestamp",oI="__type__",aI="__previous_value__",lI="__local_write_time__";function Uy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oI])===null||t===void 0?void 0:t.stringValue)===sI}function jf(n){const e=n.mapValue.fields[aI];return Uy(e)?jf(e):e}function ec(n){const e=vs(n.mapValue.fields[lI].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,i,r,s,a,u,c,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=m}}const Xd="(default)";class tc{constructor(e,t){this.projectId=e,this.database=t||Xd}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===Xd}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="__type__",zO="__max__",nd={mapValue:{}},cI="__vector__",Qd="value";function ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uy(n)?4:WO(n)?9007199254740991:$O(n)?10:11:xe(28295,{value:n})}function zi(n,e){if(n===e)return!0;const t=ws(n);if(t!==ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ec(n).isEqual(ec(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=vs(r.timestampValue),u=vs(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return _s(r.bytesValue).isEqual(_s(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return yt(r.geoPointValue.latitude)===yt(s.geoPointValue.latitude)&&yt(r.geoPointValue.longitude)===yt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return yt(r.integerValue)===yt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=yt(r.doubleValue),u=yt(s.doubleValue);return a===u?Yd(a)===Yd(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Ka(n.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},u=s.mapValue.fields||{};if(TE(a)!==TE(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!zi(a[c],u[c])))return!1;return!0}(n,e);default:return xe(52216,{left:n})}}function nc(n,e){return(n.values||[]).find(t=>zi(t,e))!==void 0}function Ga(n,e){if(n===e)return 0;const t=ws(n),i=ws(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(s,a){const u=yt(s.integerValue||s.doubleValue),c=yt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return SE(n.timestampValue,e.timestampValue);case 4:return SE(ec(n),ec(e));case 5:return kg(n.stringValue,e.stringValue);case 6:return function(s,a){const u=_s(s),c=_s(a);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let d=0;d<u.length&&d<c.length;d++){const m=Me(u[d],c[d]);if(m!==0)return m}return Me(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const u=Me(yt(s.latitude),yt(a.latitude));return u!==0?u:Me(yt(s.longitude),yt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return IE(n.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,d,m;const g=s.fields||{},v=a.fields||{},E=(u=g[Qd])===null||u===void 0?void 0:u.arrayValue,x=(c=v[Qd])===null||c===void 0?void 0:c.arrayValue,A=Me(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0);return A!==0?A:IE(E,x)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===nd.mapValue&&a===nd.mapValue)return 0;if(s===nd.mapValue)return 1;if(a===nd.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),d=a.fields||{},m=Object.keys(d);c.sort(),m.sort();for(let g=0;g<c.length&&g<m.length;++g){const v=kg(c[g],m[g]);if(v!==0)return v;const E=Ga(u[c[g]],d[m[g]]);if(E!==0)return E}return Me(c.length,m.length)}(n.mapValue,e.mapValue);default:throw xe(23264,{Pe:t})}}function SE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=vs(n),i=vs(e),r=Me(t.seconds,i.seconds);return r!==0?r:Me(t.nanos,i.nanos)}function IE(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=Ga(t[r],i[r]);if(s)return s}return Me(t.length,i.length)}function Ya(n){return Dg(n)}function Dg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=vs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _s(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=Dg(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Dg(t.fields[a])}`;return r+"}"}(n.mapValue):xe(61005,{value:n})}function Rd(n){switch(ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jf(n);return e?16+Rd(e):16;case 5:return 2*n.stringValue.length;case 6:return _s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Rd(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return bs(i.fields,(s,a)=>{r+=s.length+Rd(a)}),r}(n.mapValue);default:throw xe(13486,{value:n})}}function AE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mg(n){return!!n&&"integerValue"in n}function zy(n){return!!n&&"arrayValue"in n}function bE(n){return!!n&&"nullValue"in n}function CE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kd(n){return!!n&&"mapValue"in n}function $O(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uI])===null||t===void 0?void 0:t.stringValue)===cI}function Lu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Lu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!kd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=Ht.emptyPath(),i={},r=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=u.popLast()}a?i[u.lastSegment()]=Lu(a):r.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());kd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];kd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){bs(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Tn(Lu(this.value))}}function hI(n){const e=[];return bs(n.fields,(t,i)=>{const r=new Ht([t]);if(kd(i)){const s=hI(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,i,r,s,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),Tn.empty(),0)}static newFoundDocument(e,t,i,r){return new nn(e,1,t,be.min(),i,r,0)}static newNoDocument(e,t){return new nn(e,2,t,be.min(),be.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,be.min(),be.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t){this.position=e,this.inclusive=t}}function PE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=ve.comparator(ve.fromName(a.referenceValue),t.key):i=Ga(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function RE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function HO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{}class Tt extends dI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new KO(e,t,i):t==="array-contains"?new XO(e,i):t==="in"?new QO(e,i):t==="not-in"?new JO(e,i):t==="array-contains-any"?new ZO(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new GO(e,i):new YO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ga(t,this.value)):t!==null&&ws(this.value)===ws(t)&&this.matchesComparison(Ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends dI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new gi(e,t)}matches(e){return fI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fI(n){return n.op==="and"}function pI(n){return qO(n)&&fI(n)}function qO(n){for(const e of n.filters)if(e instanceof gi)return!1;return!0}function Og(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Ya(n.value);if(pI(n))return n.filters.map(e=>Og(e)).join(",");{const e=n.filters.map(t=>Og(t)).join(",");return`${n.op}(${e})`}}function mI(n,e){return n instanceof Tt?function(i,r){return r instanceof Tt&&i.op===r.op&&i.field.isEqual(r.field)&&zi(i.value,r.value)}(n,e):n instanceof gi?function(i,r){return r instanceof gi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,u)=>s&&mI(a,r.filters[u]),!0):!1}(n,e):void xe(19439)}function gI(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ya(t.value)}`}(n):n instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(gI).join(" ,")+"}"}(n):"Filter"}class KO extends Tt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class GO extends Tt{constructor(e,t){super(e,"in",t),this.keys=yI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YO extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=yI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class XO extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zy(t)&&nc(t.arrayValue,this.value)}}class QO extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nc(this.value.arrayValue,t)}}class JO extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nc(this.value.arrayValue,t)}}class ZO extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>nc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,t=null,i=[],r=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.Ie=null}}function kE(n,e=null,t=[],i=[],r=null,s=null,a=null){return new eV(n,e,t,i,r,s,a)}function $y(n){const e=Ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Og(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ya(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ya(i)).join(",")),e.Ie=t}return e.Ie}function Wy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RE(n.startAt,e.startAt)&&RE(n.endAt,e.endAt)}function Vg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t=null,i=[],r=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function tV(n,e,t,i,r,s,a,u){return new Tc(n,e,t,i,r,s,a,u)}function Hy(n){return new Tc(n)}function DE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vI(n){return n.collectionGroup!==null}function Nu(n){const e=Ce(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new kt(Ht.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Zd(s,i))}),t.has(Ht.keyField().canonicalString())||e.Ee.push(new Zd(Ht.keyField(),i))}return e.Ee}function Ni(n){const e=Ce(n);return e.de||(e.de=nV(e,Nu(n))),e.de}function nV(n,e){if(n.limitType==="F")return kE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Zd(r.field,s)});const t=n.endAt?new Jd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jd(n.startAt.position,n.startAt.inclusive):null;return kE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Lg(n,e){const t=n.filters.concat([e]);return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ng(n,e,t){return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bf(n,e){return Wy(Ni(n),Ni(e))&&n.limitType===e.limitType}function _I(n){return`${$y(Ni(n))}|lt:${n.limitType}`}function Ra(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>gI(r)).join(", ")}]`),Ff(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ya(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ya(r)).join(",")),`Target(${i})`}(Ni(n))}; limitType=${n.limitType})`}function Uf(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ve.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of Nu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(a,u,c){const d=PE(a,u,c);return a.inclusive?d<=0:d<0}(i.startAt,Nu(i),r)||i.endAt&&!function(a,u,c){const d=PE(a,u,c);return a.inclusive?d>=0:d>0}(i.endAt,Nu(i),r))}(n,e)}function iV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wI(n){return(e,t)=>{let i=!1;for(const r of Nu(n)){const s=rV(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function rV(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(s,a,u){const c=a.data.field(s),d=u.data.field(s);return c!==null&&d!==null?Ga(c,d):xe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return iI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new ht(ve.comparator);function xr(){return sV}const EI=new ht(ve.comparator);function Tu(...n){let e=EI;for(const t of n)e=e.insert(t.key,t);return e}function TI(n){let e=EI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function mo(){return Fu()}function xI(){return Fu()}function Fu(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const oV=new ht(ve.comparator),aV=new kt(ve.comparator);function Ne(...n){let e=aV;for(const t of n)e=e.add(t);return e}const lV=new kt(Me);function uV(){return lV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function SI(n){return{integerValue:""+n}}function cV(n,e){return NO(e)?SI(e):qy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function hV(n,e,t){return n instanceof ef?function(r,s){const a={fields:{[oI]:{stringValue:sI},[lI]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Uy(s)&&(s=jf(s)),s&&(a.fields[aI]=s),{mapValue:a}}(t,e):n instanceof ic?AI(n,e):n instanceof rc?bI(n,e):function(r,s){const a=II(r,s),u=ME(a)+ME(r.Re);return Mg(a)&&Mg(r.Re)?SI(u):qy(r.serializer,u)}(n,e)}function dV(n,e,t){return n instanceof ic?AI(n,e):n instanceof rc?bI(n,e):t}function II(n,e){return n instanceof tf?function(i){return Mg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class ef extends zf{}class ic extends zf{constructor(e){super(),this.elements=e}}function AI(n,e){const t=CI(e);for(const i of n.elements)t.some(r=>zi(r,i))||t.push(i);return{arrayValue:{values:t}}}class rc extends zf{constructor(e){super(),this.elements=e}}function bI(n,e){let t=CI(e);for(const i of n.elements)t=t.filter(r=>!zi(r,i));return{arrayValue:{values:t}}}class tf extends zf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function ME(n){return yt(n.integerValue||n.doubleValue)}function CI(n){return zy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fV(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof ic&&r instanceof ic||i instanceof rc&&r instanceof rc?Ka(i.elements,r.elements,zi):i instanceof tf&&r instanceof tf?zi(i.Re,r.Re):i instanceof ef&&r instanceof ef}(n.transform,e.transform)}class pV{constructor(e,t){this.version=e,this.transformResults=t}}class Fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $f{}function PI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kI(n.key,Fi.none()):new xc(n.key,n.data,Fi.none());{const t=n.data,i=Tn.empty();let r=new kt(Ht.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Cs(n.key,i,new Mn(r.toArray()),Fi.none())}}function mV(n,e,t){n instanceof xc?function(r,s,a){const u=r.value.clone(),c=VE(r.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Cs?function(r,s,a){if(!Dd(r.precondition,s))return void s.convertToUnknownDocument(a.version);const u=VE(r.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(RI(r)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function ju(n,e,t,i){return n instanceof xc?function(s,a,u,c){if(!Dd(s.precondition,a))return u;const d=s.value.clone(),m=LE(s.fieldTransforms,c,a);return d.setAll(m),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Cs?function(s,a,u,c){if(!Dd(s.precondition,a))return u;const d=LE(s.fieldTransforms,c,a),m=a.data;return m.setAll(RI(s)),m.setAll(d),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,i):function(s,a,u){return Dd(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function gV(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=II(i.transform,r||null);s!=null&&(t===null&&(t=Tn.empty()),t.set(i.field,s))}return t||null}function OE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ka(i,r,(s,a)=>fV(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xc extends $f{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cs extends $f{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function VE(n,e,t){const i=new Map;Ke(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,u=e.data.field(s.field);i.set(s.field,dV(a,u,t[r]))}return i}function LE(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,hV(s,a,e))}return i}class kI extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yV extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&mV(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ju(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ju(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xI();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=t.has(r.key)?null:u;const c=PI(a,u);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(t,i)=>OE(t,i))&&Ka(this.baseMutations,e.baseMutations,(t,i)=>OE(t,i))}}class Ky{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ke(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return oV}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Ky(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Be;function EV(n){switch(n){case Z.OK:return xe(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function DI(n){if(n===void 0)return Tr("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Et.OK:return Z.OK;case Et.CANCELLED:return Z.CANCELLED;case Et.UNKNOWN:return Z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Z.INTERNAL;case Et.UNAVAILABLE:return Z.UNAVAILABLE;case Et.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Et.NOT_FOUND:return Z.NOT_FOUND;case Et.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Et.ABORTED:return Z.ABORTED;case Et.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Et.DATA_LOSS:return Z.DATA_LOSS;default:return xe(39323,{code:n})}}(Be=Et||(Et={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new ps([4294967295,4294967295],0);function NE(n){const e=eI().encode(n),t=new q1;return t.update(e),new Uint8Array(t.digest())}function FE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([t,i],0),new ps([r,s],0)]}class Gy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new xu(`Invalid padding: ${t}`);if(i<0)throw new xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new xu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ps.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(ps.fromNumber(i)));return r.compare(TV)===1&&(r=new ps([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=NE(e),[i,r]=FE(t);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Gy(s,r,t);return i.forEach(u=>a.insert(u)),a}insert(e){if(this.pe===0)return;const t=NE(e),[i,r]=FE(t);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Wf(be.min(),r,new ht(Me),xr(),Ne())}}class Sc{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Sc(i,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class MI{constructor(e,t){this.targetId=e,this.Ce=t}}class OI{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class jE{constructor(){this.Fe=0,this.Me=BE(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ne(),t=Ne(),i=Ne();return this.Me.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xe(38017,{changeType:s})}}),new Sc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=BE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xV{constructor(e){this.ze=e,this.je=new Map,this.He=xr(),this.Je=id(),this.Ye=id(),this.Ze=new ht(Me)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const s=r.target;if(Vg(s))if(i===0){const a=new ve(s.path);this.tt(t,a,nn.newNoDocument(a,be.min()))}else Ke(i===1,20013,{expectedCount:i});else{const a=this.ut(t);if(a!==i){const u=this.ct(e),c=u?this.lt(u,e,a):1;if(c!==0){this.st(t);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,u;try{a=_s(i).toUint8Array()}catch(c){if(c instanceof rI)return qa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Gy(a,r,s)}catch(c){return qa(c instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,s,null),r++)}),r}It(e){const t=new Map;this.je.forEach((s,a)=>{const u=this._t(a);if(u){if(s.current&&Vg(u.target)){const c=new ve(u.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,nn.newNoDocument(c,e))}s.Le&&(t.set(a,s.qe()),s.Qe())}});let i=Ne();this.Ye.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const r=new Wf(e,t,this.Ze,this.He,i);return this.He=xr(),this.Je=id(),this.Ye=id(),this.Ze=new ht(Me),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new jE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new kt(Me),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new kt(Me),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new jE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function id(){return new ht(ve.comparator)}function BE(){return new ht(ve.comparator)}const SV={asc:"ASCENDING",desc:"DESCENDING"},IV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AV={and:"AND",or:"OR"};class bV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fg(n,e){return n.useProto3Json||Ff(e)?e:{value:e}}function nf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CV(n,e){return nf(n,e.toTimestamp())}function ji(n){return Ke(!!n,49232),be.fromTimestamp(function(t){const i=vs(t);return new Rt(i.seconds,i.nanos)}(n))}function Yy(n,e){return jg(n,e).canonicalString()}function jg(n,e){const t=function(r){return new it(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function LI(n){const e=it.fromString(n);return Ke(UI(e),10190,{key:e.toString()}),e}function Bg(n,e){return Yy(n.databaseId,e.path)}function Ym(n,e){const t=LI(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(FI(t))}function NI(n,e){return Yy(n.databaseId,e)}function PV(n){const e=LI(n);return e.length===4?it.emptyPath():FI(e)}function Ug(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FI(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function UE(n,e,t){return{name:Bg(n,e),fields:t.value.mapValue.fields}}function RV(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(Ke(m===void 0||typeof m=="string",58123),Kt.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Kt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(d){const m=d.code===void 0?Z.UNKNOWN:DI(d.code);return new fe(m,d.message||"")}(a);t=new OI(i,r,s,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ym(n,i.document.name),s=ji(i.document.updateTime),a=i.document.createTime?ji(i.document.createTime):be.min(),u=new Tn({mapValue:{fields:i.document.fields}}),c=nn.newFoundDocument(r,s,a,u),d=i.targetIds||[],m=i.removedTargetIds||[];t=new Md(d,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ym(n,i.document),s=i.readTime?ji(i.readTime):be.min(),a=nn.newNoDocument(r,s),u=i.removedTargetIds||[];t=new Md([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ym(n,i.document),s=i.removedTargetIds||[];t=new Md([],s,r,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new wV(r,s),u=i.targetId;t=new MI(u,a)}}return t}function kV(n,e){let t;if(e instanceof xc)t={update:UE(n,e.key,e.value)};else if(e instanceof kI)t={delete:Bg(n,e.key)};else if(e instanceof Cs)t={update:UE(n,e.key,e.data),updateMask:BV(e.fieldMask)};else{if(!(e instanceof yV))return xe(16599,{ft:e.type});t={verify:Bg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const u=a.transform;if(u instanceof ef)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ic)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof rc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof tf)return{fieldPath:a.field.canonicalString(),increment:u.Re};throw xe(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:CV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe(27497)}(n,e.precondition)),t}function DV(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map(t=>function(r,s){let a=r.updateTime?ji(r.updateTime):ji(s);return a.isEqual(be.min())&&(a=ji(s)),new pV(a,r.transformResults||[])}(t,e))):[]}function MV(n,e){return{documents:[NI(n,e.path)]}}function OV(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NI(n,r);const s=function(d){if(d.length!==0)return BI(gi.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:ka(v.field),direction:NV(v.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=Fg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:r}}function VV(n){let e=PV(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ke(i===1,65062);const m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const v=jI(g);return v instanceof gi&&pI(v)?v.getFilters():[v]}(t.where));let a=[];t.orderBy&&(a=function(g){return g.map(v=>function(x){return new Zd(Da(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(g){let v;return v=typeof g=="object"?g.value:g,Ff(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(g){const v=!!g.before,E=g.values||[];return new Jd(E,v)}(t.startAt));let d=null;return t.endAt&&(d=function(g){const v=!g.before,E=g.values||[];return new Jd(E,v)}(t.endAt)),tV(e,r,a,s,u,"F",c,d)}function LV(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Da(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Da(t.unaryFilter.field);return Tt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Da(t.unaryFilter.field);return Tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Da(t.unaryFilter.field);return Tt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(Da(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gi.create(t.compositeFilter.filters.map(i=>jI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(t.compositeFilter.op))}(n):xe(30097,{filter:n})}function NV(n){return SV[n]}function FV(n){return IV[n]}function jV(n){return AV[n]}function ka(n){return{fieldPath:n.canonicalString()}}function Da(n){return Ht.fromServerFormat(n.fieldPath)}function BI(n){return n instanceof Tt?function(t){if(t.op==="=="){if(CE(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NAN"}};if(bE(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CE(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NAN"}};if(bE(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(t.field),op:FV(t.op),value:t.value}}}(n):n instanceof gi?function(t){const i=t.getFilters().map(r=>BI(r));return i.length===1?i[0]:{compositeFilter:{op:jV(t.op),filters:i}}}(n):xe(54877,{filter:n})}function BV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,i,r,s=be.min(),a=be.min(),u=Kt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.wt=e}}function zV(n){const e=VV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.Cn=new WV}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ys.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class WV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new kt(it.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zI=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(zI,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xa(0)}static lr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="LruGarbageCollector",HV=1048576;function WE([n,e],[t,i]){const r=Me(n,t);return r===0?Me(e,i):r}class qV{constructor(e){this.Er=e,this.buffer=new kt(WE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();WE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce($E,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cl(t)?ce($E,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.mr(3e5)})}}class GV{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Nf.le);const i=new qV(t);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(zE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,r,s,a,u,c,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,u=Date.now(),this.removeTargets(e,i,t))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(d=Date.now(),Pa()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${r} in `+(u-a)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function YV(n,e){return new GV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&ju(i.mutation,r,Mn.empty(),Rt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ne()){const r=mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=Tu();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ne()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,u)=>{t.set(a,u)})})}computeViews(e,t,i,r){let s=xr();const a=Fu(),u=function(){return Fu()}();return t.forEach((c,d)=>{const m=i.get(d.key);r.has(d.key)&&(m===void 0||m.mutation instanceof Cs)?s=s.insert(d.key,d):m!==void 0?(a.set(d.key,m.mutation.getFieldMask()),ju(m.mutation,d,m.mutation.getFieldMask(),Rt.now())):a.set(d.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,m)=>a.set(d,m)),t.forEach((d,m)=>{var g;return u.set(d,new QV(m,(g=a.get(d))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const i=Fu();let r=new ht((a,u)=>a-u),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=t.get(c);if(d===null)return;let m=i.get(c)||Mn.empty();m=u.applyToLocalView(d,m),i.set(c,m);const g=(r.get(u.batchId)||Ne()).add(c);r=r.insert(u.batchId,g)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,m=c.value,g=xI();m.forEach(v=>{if(!s.has(v)){const E=PI(t.get(v),i.get(v));E!==null&&g.set(v,E),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return J.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(a){return ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):J.resolve(mo());let u=Zu,c=s;return a.next(d=>J.forEach(d,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{c=c.insert(m,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Ne())).next(m=>({batchId:u,changes:TI(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let r=Tu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=Tu();return this.indexManager.getCollectionParents(e,s).next(u=>J.forEach(u,c=>{const d=function(g,v){return new Tc(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(m=>{m.forEach((g,v)=>{a=a.insert(g,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(a=>{s.forEach((c,d)=>{const m=d.getKey();a.get(m)===null&&(a=a.insert(m,nn.newInvalidDocument(m)))});let u=Tu();return a.forEach((c,d)=>{const m=s.get(c);m!==void 0&&ju(m.mutation,d,Mn.empty(),Rt.now()),Uf(t,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return J.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:ji(r.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(r){return{name:r.name,query:zV(r.bundledQuery),readTime:ji(r.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.overlays=new ht(ve.comparator),this.Qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=mo();return J.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.St(e,t,s)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const r=mo(),s=t.length+1,a=new ve(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return J.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ht((d,m)=>d-m);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let m=s.get(d.largestBatchId);m===null&&(m=mo(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=mo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=r)););return J.resolve(u)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new _V(t,i));let s=this.Qr.get(t);s===void 0&&(s=Ne(),this.Qr.set(t,s)),this.Qr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.$r=new kt(Lt.Ur),this.Kr=new kt(Lt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Lt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Lt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ve(new it([])),i=new Lt(t,e),r=new Lt(t,e+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new it([])),i=new Lt(t,e),r=new Lt(t,e+1);let s=Ne();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Lt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Lt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||Me(e.Zr,t.Zr)}static Wr(e,t){return Me(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new kt(Lt.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new vV(s,t,i,r);this.mutationQueue.push(a);for(const u of r)this.Xr=this.Xr.add(new Lt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return J.resolve(a)}lookupMutationBatch(e,t){return J.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ti(i),s=r<0?0:r;return J.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?By:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lt(t,0),r=new Lt(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const u=this.ei(a.Zr);s.push(u)}),J.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new kt(Me);return t.forEach(r=>{const s=new Lt(r,0),a=new Lt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],u=>{i=i.add(u.Zr)})}),J.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ve.isDocumentKey(s)||(s=s.child(""));const a=new Lt(new ve(s),0);let u=new kt(Me);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(c.Zr)),!0)},a),J.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ke(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return J.forEach(t.mutations,r=>{const s=new Lt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Lt(t,0),r=this.Xr.firstAfterOrEqual(i);return J.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.ii=e,this.docs=function(){return new ht(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let i=xr();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():nn.newInvalidDocument(r))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=xr();const a=t.path,u=new ve(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:m}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||MO(DO(m),i)<=0||(r.has(m.key)||Uf(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return J.resolve(s)}getAllFromCollectionGroup(e,t,i,r){xe(9500)}si(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new rL(this)}getSize(e){return J.resolve(this.size)}}class rL extends XV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.persistence=e,this.oi=new ko(t=>$y(t),Wy),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this._i=0,this.ai=new Xy,this.targetCount=0,this.ui=Xa.cr()}forEachTarget(e,t){return this.oi.forEach((i,r)=>t(r)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),J.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Xa(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Tr(t),J.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.oi.forEach((a,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),J.waitFor(s).next(()=>r)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),J.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.ci={},this.overlays={},this.li=new Nf(0),this.hi=!1,this.hi=!0,this.Pi=new tL,this.referenceDelegate=e(this),this.Ti=new sL(this),this.indexManager=new $V,this.remoteDocumentCache=function(r){return new iL(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new UV(t),this.Ei=new ZV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new nL(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const r=new oL(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(e,t){return J.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class oL extends VO{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Vi=new Xy,this.mi=null}static fi(e){return new Qy(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,i=>{const r=ve.fromPath(i);return this.pi(e,r).next(s=>{s||t.removeEntry(r,be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return J.or([()=>J.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class rf{constructor(e,t){this.persistence=e,this.yi=new ko(i=>FO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=YV(this,t)}static fi(e,t){return new rf(e,t)}di(){}Ai(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return J.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(s=>s?J.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,a=>this.Dr(e,a,t).next(u=>{u||(i++,s.removeEntry(a,be.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),J.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rd(e.data.value)),t}Dr(e,t,i){return J.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.yi.get(t);return J.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ds=i,this.As=r}static Rs(e,t){let i=Ne(),r=Ne();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Jy(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $k()?8:LO(on())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ws(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,t,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new aL;return this.Ss(e,t,a).next(u=>{if(s.result=u,this.fs)return this.Ds(e,t,a,u.size)})}).next(()=>s.result)}Ds(e,t,i,r){return i.documentReadCount<this.gs?(Pa()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ra(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(Pa()<=Le.DEBUG&&ce("QueryEngine","Query:",Ra(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Pa()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ra(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):J.resolve())}ws(e,t){if(DE(t))return J.resolve(null);let i=Ni(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Ng(t,null,"F"),i=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=Ne(...s);return this.ys.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.vs(t,u);return this.Cs(t,d,a,c.readTime)?this.ws(e,Ng(t,null,"F")):this.Fs(e,d,t,c)}))})))}bs(e,t,i,r){return DE(t)||r.isEqual(be.min())?J.resolve(null):this.ys.getDocuments(e,i).next(s=>{const a=this.vs(t,s);return this.Cs(t,a,i,r)?J.resolve(null):(Pa()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ra(t)),this.Fs(e,a,t,kO(r,Zu)).next(u=>u))})}vs(e,t){let i=new kt(wI(e));return t.forEach((r,s)=>{Uf(e,s)&&(i=i.add(s))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,i){return Pa()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ra(t)),this.ys.getDocumentsMatchingQuery(e,t,ys.min(),i)}Fs(e,t,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LocalStore",uL=3e8;class cL{constructor(e,t,i,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new ht(Me),this.Os=new ko(s=>$y(s),Wy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function hL(n,e,t,i){return new cL(n,e,t,i)}async function WI(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let c=Ne();for(const d of r){a.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}for(const d of s){u.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}return t.localDocuments.getDocuments(i,c).next(d=>({ks:d,removedBatchIds:a,addedBatchIds:u}))})})}function dL(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,d,m){const g=d.batch,v=g.keys();let E=J.resolve();return v.forEach(x=>{E=E.next(()=>m.getEntry(c,x)).next(A=>{const S=d.docVersions.get(x);Ke(S!==null,48541),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),m.addEntry(A)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let c=Ne();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function HI(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function fL(n,e){const t=Ce(n),i=e.snapshotVersion;let r=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Bs.newChangeBuffer({trackRemovals:!0});r=t.xs;const u=[];e.targetChanges.forEach((m,g)=>{const v=r.get(g);if(!v)return;u.push(t.Ti.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(s,m.addedDocuments,g)));let E=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,i)),r=r.insert(g,E),function(A,S,R){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=uL?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(v,E,m)&&u.push(t.Ti.updateTargetData(s,E))});let c=xr(),d=Ne();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(pL(s,a,e.documentUpdates).next(m=>{c=m.qs,d=m.Qs})),!i.isEqual(be.min())){const m=t.Ti.getLastRemoteSnapshotVersion(s).next(g=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(m)}return J.waitFor(u).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(t.xs=r,s))}function pL(n,e,t){let i=Ne(),r=Ne();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=xr();return t.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):ce(Zy,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{qs:a,Qs:r}})}function mL(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=By),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function gL(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ti.getTargetData(i,e).next(s=>s?(r=s,J.resolve(r)):t.Ti.allocateTargetId(i).next(a=>(r=new as(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function zg(n,e,t){const i=Ce(n),r=i.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!cl(a))throw a;ce(Zy,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function HE(n,e,t){const i=Ce(n);let r=be.min(),s=Ne();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,m){const g=Ce(c),v=g.Os.get(m);return v!==void 0?J.resolve(g.xs.get(v)):g.Ti.getTargetData(d,m)}(i,a,Ni(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,t?r:be.min(),t?s:Ne())).next(u=>(yL(i,iV(e),u),{documents:u,$s:s})))}function yL(n,e,t){let i=n.Ns.get(e)||be.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(e,i)}class qE{constructor(){this.activeTargetIds=uV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vL{constructor(){this.xo=new qE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new qE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="ConnectivityMonitor";class GE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(KE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(KE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function $g(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",wL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Xd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,t,i,r,s){const a=$g(),u=this.jo(e,t.toUriEncodedString());ce(Xm,`Sending RPC '${e}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,r,s);const{host:d}=new URL(u),m=gc(d);return this.Jo(e,u,c,i,m).then(g=>(ce(Xm,`Received RPC '${e}' ${a}: `,g),g),g=>{throw qa(Xm,`RPC '${e}' ${a} failed with error: `,g,"url: ",u,"request:",i),g})}Yo(e,t,i,r,s,a){return this.zo(e,t,i,r,s)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}jo(e,t){const i=wL[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class xL extends EL{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,s){const a=$g();return new Promise((u,c)=>{const d=new K1;d.setWithCredentials(!0),d.listenOnce(G1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Pd.NO_ERROR:const g=d.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Pd.TIMEOUT:ce(Zt,`RPC '${e}' ${a} timed out`),c(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const v=d.getStatus();if(ce(Zt,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const A=function(R){const M=R.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(M)>=0?M:Z.UNKNOWN}(x.status);c(new fe(A,x.message))}else c(new fe(Z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{h_:e,streamId:a,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(r);ce(Zt,`RPC '${e}' ${a} sending request:`,r),d.send(t,"POST",m,i,15)})}I_(e,t,i){const r=$g(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Q1(),u=X1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const m=s.join("");ce(Zt,`Creating RPC '${e}' stream ${r}: ${m}`,c);const g=a.createWebChannel(m,c);this.E_(g);let v=!1,E=!1;const x=new TL({Zo:S=>{E?ce(Zt,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(v||(ce(Zt,`Opening RPC '${e}' stream ${r} transport.`),g.open(),v=!0),ce(Zt,`RPC '${e}' stream ${r} sending:`,S),g.send(S))},Xo:()=>g.close()}),A=(S,R,M)=>{S.listen(R,B=>{try{M(B)}catch(q){setTimeout(()=>{throw q},0)}})};return A(g,Eu.EventType.OPEN,()=>{E||(ce(Zt,`RPC '${e}' stream ${r} transport opened.`),x.__())}),A(g,Eu.EventType.CLOSE,()=>{E||(E=!0,ce(Zt,`RPC '${e}' stream ${r} transport closed`),x.u_(),this.d_(g))}),A(g,Eu.EventType.ERROR,S=>{E||(E=!0,qa(Zt,`RPC '${e}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),x.u_(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),A(g,Eu.EventType.MESSAGE,S=>{var R;if(!E){const M=S.data[0];Ke(!!M,16349);const B=M,q=(B==null?void 0:B.error)||((R=B[0])===null||R===void 0?void 0:R.error);if(q){ce(Zt,`RPC '${e}' stream ${r} received error:`,q);const Y=q.status;let Q=function(C){const k=Et[C];if(k!==void 0)return DI(k)}(Y),D=q.message;Q===void 0&&(Q=Z.INTERNAL,D="Unknown error status: "+Y+" with message "+q.message),E=!0,x.u_(new fe(Q,D)),g.close()}else ce(Zt,`RPC '${e}' stream ${r} received:`,M),x.c_(M)}}),A(u,Y1.STAT_EVENT,S=>{S.stat===Rg.PROXY?ce(Zt,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===Rg.NOPROXY&&ce(Zt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){return new bV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,i=1e3,r=1.5,s=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-i);r>0&&ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="PersistentStream";class KI{constructor(e,t,i,r,s,a,u,c){this.xi=e,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new qI(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===t&&this.z_(i,r)},i=>{e(()=>{const r=new fe(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(YE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ce(YE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SL extends KI{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=RV(this.serializer,e),i=function(s){if(!("targetChange"in s))return be.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?ji(a.readTime):be.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=Ug(this.serializer),t.addTarget=function(s,a){let u;const c=a.target;if(u=Vg(c)?{documents:MV(s,c)}:{query:OV(s,c).gt},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=VI(s,a.resumeToken);const d=Fg(s,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(be.min())>0){u.readTime=nf(s,a.snapshotVersion.toTimestamp());const d=Fg(s,a.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const i=LV(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=Ug(this.serializer),t.removeTarget=e,this.Q_(t)}}class IL extends KI{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=DV(e.writeResults,e.commitTime),i=ji(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=Ug(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>kV(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{}class bL extends AL{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,jg(t,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(Z.UNKNOWN,s.toString())})}Yo(e,t,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Yo(e,jg(t,i),r,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Z.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class CL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Tr(t),this.ua=!1):ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class PL{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Do(this)&&(ce(Ao,"Restarting streams for network reachability change."),await async function(c){const d=Ce(c);d.da.add(4),await Ic(d),d.Va.set("Unknown"),d.da.delete(4),await qf(d)}(this))})}),this.Va=new CL(i,r)}}async function qf(n){if(Do(n))for(const e of n.Aa)await e(!0)}async function Ic(n){for(const e of n.Aa)await e(!1)}function GI(n,e){const t=Ce(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),iv(t)?nv(t):hl(t).N_()&&tv(t,e))}function ev(n,e){const t=Ce(n),i=hl(t);t.Ea.delete(e),i.N_()&&YI(t,e),t.Ea.size===0&&(i.N_()?i.k_():Do(t)&&t.Va.set("Unknown"))}function tv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(n).Z_(e)}function YI(n,e){n.ma.Ke(e),hl(n).X_(e)}function nv(n){n.ma=new xV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),hl(n).start(),n.Va.ca()}function iv(n){return Do(n)&&!hl(n).O_()&&n.Ea.size>0}function Do(n){return Ce(n).da.size===0}function XI(n){n.ma=void 0}async function RL(n){n.Va.set("Online")}async function kL(n){n.Ea.forEach((e,t)=>{tv(n,e)})}async function DL(n,e){XI(n),iv(n)?(n.Va.Pa(e),nv(n)):n.Va.set("Unknown")}async function ML(n,e,t){if(n.Va.set("Online"),e instanceof OI&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const u of s.targetIds)r.Ea.has(u)&&(await r.remoteSyncer.rejectListen(u,a),r.Ea.delete(u),r.ma.removeTarget(u))}(n,e)}catch(i){ce(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await sf(n,i)}else if(e instanceof Md?n.ma.Xe(e):e instanceof MI?n.ma.ot(e):n.ma.nt(e),!t.isEqual(be.min()))try{const i=await HI(n.localStore);t.compareTo(i)>=0&&await function(s,a){const u=s.ma.It(a);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.Ea.get(d);m&&s.Ea.set(d,m.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,d)=>{const m=s.Ea.get(c);if(!m)return;s.Ea.set(c,m.withResumeToken(Kt.EMPTY_BYTE_STRING,m.snapshotVersion)),YI(s,c);const g=new as(m.target,c,d,m.sequenceNumber);tv(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){ce(Ao,"Failed to raise snapshot:",i),await sf(n,i)}}async function sf(n,e,t){if(!cl(e))throw e;n.da.add(1),await Ic(n),n.Va.set("Offline"),t||(t=()=>HI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Ao,"Retrying IndexedDB access"),await t(),n.da.delete(1),await qf(n)})}function QI(n,e){return e().catch(t=>sf(n,t,e))}async function Kf(n){const e=Ce(n),t=Es(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:By;for(;OL(e);)try{const r=await mL(e.localStore,i);if(r===null){e.Ia.length===0&&t.k_();break}i=r.batchId,VL(e,r)}catch(r){await sf(e,r)}JI(e)&&ZI(e)}function OL(n){return Do(n)&&n.Ia.length<10}function VL(n,e){n.Ia.push(e);const t=Es(n);t.N_()&&t.ea&&t.ta(e.mutations)}function JI(n){return Do(n)&&!Es(n).O_()&&n.Ia.length>0}function ZI(n){Es(n).start()}async function LL(n){Es(n).ia()}async function NL(n){const e=Es(n);for(const t of n.Ia)e.ta(t.mutations)}async function FL(n,e,t){const i=n.Ia.shift(),r=Ky.from(i,e,t);await QI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Kf(n)}async function jL(n,e){e&&Es(n).ea&&await async function(i,r){if(function(a){return EV(a)&&a!==Z.ABORTED}(r.code)){const s=i.Ia.shift();Es(i).L_(),await QI(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Kf(i)}}(n,e),JI(n)&&ZI(n)}async function XE(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ce(Ao,"RemoteStore received new credentials");const i=Do(t);t.da.add(3),await Ic(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await qf(t)}async function BL(n,e){const t=Ce(n);e?(t.da.delete(2),await qf(t)):e||(t.da.add(2),await Ic(t),t.Va.set("Unknown"))}function hl(n){return n.fa||(n.fa=function(t,i,r){const s=Ce(t);return s.oa(),new SL(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:RL.bind(null,n),n_:kL.bind(null,n),i_:DL.bind(null,n),Y_:ML.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),iv(n)?nv(n):n.Va.set("Unknown")):(await n.fa.stop(),XI(n))})),n.fa}function Es(n){return n.ga||(n.ga=function(t,i,r){const s=Ce(t);return s.oa(),new IL(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:LL.bind(null,n),i_:jL.bind(null,n),na:NL.bind(null,n),ra:FL.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Kf(n)):(await n.ga.stop(),n.Ia.length>0&&(ce(Ao,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,u=new rv(e,t,a,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(n,e){if(Tr("AsyncQueue",`${e}: ${n}`),cl(n))return new fe(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(e){return new za(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Tu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new za;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.pa=new ht(ve.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qa{constructor(e,t,i,r,s,a,u,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Qa(e,t,za.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class zL{constructor(){this.queries=JE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Ce(t),s=r.queries;r.queries=JE(),s.forEach((a,u)=>{for(const c of u.Sa)c.onError(i)})})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function JE(){return new ko(n=>_I(n),Bf)}async function eA(n,e){const t=Ce(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Da()&&e.va()&&(i=2):(s=new UL,i=e.va()?0:1);try{switch(i){case 0:s.ba=await t.onListen(r,!0);break;case 1:s.ba=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const u=sv(a,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,s),s.Sa.push(e),e.Fa(t.onlineState),s.ba&&e.Ma(s.ba)&&ov(t)}async function tA(n,e){const t=Ce(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.va()?0:1:!s.Da()&&e.va()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function $L(n,e){const t=Ce(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const u of a.Sa)u.Ma(r)&&(i=!0);a.ba=r}}i&&ov(t)}function WL(n,e,t){const i=Ce(n),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);i.queries.delete(e)}function ov(n){n.Ca.forEach(e=>{e.next()})}var Wg,ZE;(ZE=Wg||(Wg={})).xa="default",ZE.Cache="cache";class nA{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Qa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class HL{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ne(),this.mutatedKeys=Ne(),this.Za=wI(e),this.Xa=new za(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new QE,r=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,u=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,g)=>{const v=r.get(m),E=Uf(this.query,g)?g:null,x=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let S=!1;v&&E?v.data.isEqual(E.data)?x!==A&&(i.track({type:3,doc:E}),S=!0):this.ru(v,E)||(i.track({type:2,doc:E}),S=!0,(c&&this.Za(E,c)>0||d&&this.Za(E,d)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),S=!0):v&&!E&&(i.track({type:1,doc:v}),S=!0,(c||d)&&(u=!0)),S&&(E?(a=a.add(E),s=A?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{Xa:a,nu:i,Cs:u,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((m,g)=>function(E,x){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:S})}};return A(E)-A(x)}(m.type,g.type)||this.Za(m.doc,g.doc)),this.iu(i),r=r!=null&&r;const u=t&&!r?this.su():[],c=this.Ya.size===0&&this.current&&!r?1:0,d=c!==this.Ja;return this.Ja=c,a.length!==0||d?{snapshot:new Qa(this.query,e.Xa,s,a,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new QE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ne(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new rA(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new iA(i))}),t}au(e){this.Ha=e.$s,this.Ya=Ne();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Qa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const av="SyncEngine";class qL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class KL{constructor(e){this.key=e,this.cu=!1}}class GL{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ko(u=>_I(u),Bf),this.Pu=new Map,this.Tu=new Set,this.Iu=new ht(ve.comparator),this.Eu=new Map,this.du=new Xy,this.Au={},this.Ru=new Map,this.Vu=Xa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function YL(n,e,t=!0){const i=cA(n);let r;const s=i.hu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await sA(i,e,t,!0),r}async function XL(n,e){const t=cA(n);await sA(t,e,!0,!1)}async function sA(n,e,t,i){const r=await gL(n.localStore,Ni(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let u;return i&&(u=await QL(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&GI(n.remoteStore,r),u}async function QL(n,e,t,i,r){n.fu=(g,v,E)=>async function(A,S,R,M){let B=S.view.tu(R);B.Cs&&(B=await HE(A.localStore,S.query,!1).then(({documents:D})=>S.view.tu(D,B)));const q=M&&M.targetChanges.get(S.targetId),Y=M&&M.targetMismatches.get(S.targetId)!=null,Q=S.view.applyChanges(B,A.isPrimaryClient,q,Y);return tT(A,S.targetId,Q.ou),Q.snapshot}(n,g,v,E);const s=await HE(n.localStore,e,!0),a=new HL(e,s.$s),u=a.tu(s.documents),c=Sc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=a.applyChanges(u,n.isPrimaryClient,c);tT(n,t,d.ou);const m=new qL(e,t,a);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),d.snapshot}async function JL(n,e,t){const i=Ce(n),r=i.hu.get(e),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!Bf(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await zg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&ev(i.remoteStore,r.targetId),Hg(i,r.targetId)}).catch(ul)):(Hg(i,r.targetId),await zg(i.localStore,r.targetId,!0))}async function ZL(n,e){const t=Ce(n),i=t.hu.get(e),r=t.Pu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ev(t.remoteStore,i.targetId))}async function eN(n,e,t){const i=aN(n);try{const r=await function(a,u){const c=Ce(a),d=Rt.now(),m=u.reduce((E,x)=>E.add(x.key),Ne());let g,v;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=xr(),A=Ne();return c.Bs.getEntries(E,m).next(S=>{x=S,x.forEach((R,M)=>{M.isValidDocument()||(A=A.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,x)).next(S=>{g=S;const R=[];for(const M of u){const B=gV(M,g.get(M.key).overlayedDocument);B!=null&&R.push(new Cs(M.key,B,hI(B.value.mapValue),Fi.exists(!0)))}return c.mutationQueue.addMutationBatch(E,d,R,u)}).next(S=>{v=S;const R=S.applyToLocalDocumentSet(g,A);return c.documentOverlayCache.saveOverlays(E,S.batchId,R)})}).then(()=>({batchId:v.batchId,changes:TI(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,c){let d=a.Au[a.currentUser.toKey()];d||(d=new ht(Me)),d=d.insert(u,c),a.Au[a.currentUser.toKey()]=d}(i,r.batchId,t),await Ac(i,r.changes),await Kf(i.remoteStore)}catch(r){const s=sv(r,"Failed to persist write");t.reject(s)}}async function oA(n,e){const t=Ce(n);try{const i=await fL(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.Eu.get(s);a&&(Ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?Ke(a.cu,14607):r.removedDocuments.size>0&&(Ke(a.cu,42227),a.cu=!1))}),await Ac(t,i,e)}catch(i){await ul(i)}}function eT(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.hu.forEach((s,a)=>{const u=a.view.Fa(e);u.snapshot&&r.push(u.snapshot)}),function(a,u){const c=Ce(a);c.onlineState=u;let d=!1;c.queries.forEach((m,g)=>{for(const v of g.Sa)v.Fa(u)&&(d=!0)}),d&&ov(c)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tN(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ht(ve.comparator);a=a.insert(s,nn.newNoDocument(s,be.min()));const u=Ne().add(s),c=new Wf(be.min(),new Map,new ht(Me),a,u);await oA(i,c),i.Iu=i.Iu.remove(s),i.Eu.delete(e),lv(i)}else await zg(i.localStore,e,!1).then(()=>Hg(i,e,t)).catch(ul)}async function nN(n,e){const t=Ce(n),i=e.batch.batchId;try{const r=await dL(t.localStore,e);lA(t,i,null),aA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ac(t,r)}catch(r){await ul(r)}}async function iN(n,e,t){const i=Ce(n);try{const r=await function(a,u){const c=Ce(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return c.mutationQueue.lookupMutationBatch(d,u).next(g=>(Ke(g!==null,37113),m=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>c.localDocuments.getDocuments(d,m))})}(i.localStore,e);lA(i,e,t),aA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ac(i,r)}catch(r){await ul(r)}}function aA(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function lA(n,e,t){const i=Ce(n);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function Hg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||uA(n,i)})}function uA(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(ev(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),lv(n))}function tT(n,e,t){for(const i of t)i instanceof iA?(n.du.addReference(i.key,e),rN(n,i)):i instanceof rA?(ce(av,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||uA(n,i.key)):xe(19791,{pu:i})}function rN(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ce(av,"New document in limbo: "+t),n.Tu.add(i),lv(n))}function lv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ve(it.fromString(e)),i=n.Vu.next();n.Eu.set(i,new KL(t)),n.Iu=n.Iu.insert(t,i),GI(n.remoteStore,new as(Ni(Hy(t.path)),i,"TargetPurposeLimboResolution",Nf.le))}}async function Ac(n,e,t){const i=Ce(n),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((u,c)=>{a.push(i.fu(c,e,t).then(d=>{var m;if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:(m=t==null?void 0:t.targetChanges.get(c.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){r.push(d);const g=Jy.Rs(c.targetId,d);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(c,d){const m=Ce(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>J.forEach(d,v=>J.forEach(v.ds,E=>m.persistence.referenceDelegate.addReference(g,v.targetId,E)).next(()=>J.forEach(v.As,E=>m.persistence.referenceDelegate.removeReference(g,v.targetId,E)))))}catch(g){if(!cl(g))throw g;ce(Zy,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const E=m.xs.get(v),x=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(x);m.xs=m.xs.insert(v,A)}}}(i.localStore,s))}async function sN(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ce(av,"User change. New user:",e.toKey());const i=await WI(t.localStore,e);t.currentUser=e,function(s,a){s.Ru.forEach(u=>{u.forEach(c=>{c.reject(new fe(Z.CANCELLED,a))})}),s.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ac(t,i.ks)}}function oN(n,e){const t=Ce(n),i=t.Eu.get(e);if(i&&i.cu)return Ne().add(i.key);{let r=Ne();const s=t.Pu.get(e);if(!s)return r;for(const a of s){const u=t.hu.get(a);r=r.unionWith(u.view.eu)}return r}}function cA(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tN.bind(null,e),e.lu.Y_=$L.bind(null,e.eventManager),e.lu.gu=WL.bind(null,e.eventManager),e}function aN(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return hL(this.persistence,new lL,e.initialUser,this.serializer)}Su(e){return new $I(Qy.fi,this.serializer)}bu(e){return new vL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class lN extends of{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ke(this.persistence.referenceDelegate instanceof rf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new KV(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new $I(i=>rf.fi(i,t),this.serializer)}}class qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await BL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zL}()}createDatastore(e){const t=Hf(e.databaseInfo.databaseId),i=function(s){return new xL(s)}(e.databaseInfo);return function(s,a,u,c){return new bL(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,a,u){return new PL(i,r,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,t=>eT(this.syncEngine,t,0),function(){return GE.C()?new GE:new _L}())}createSyncEngine(e,t){return function(r,s,a,u,c,d,m){const g=new GL(r,s,a,u,c,d);return m&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=Ce(r);ce(Ao,"RemoteStore shutting down."),s.da.add(5),await Ic(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qg.provider={build:()=>new qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class uN{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=tn.UNAUTHENTICATED,this.clientId=tI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{ce(Ts,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(ce(Ts,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=sv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Jm(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Ts,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await WI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cN(n);ce(Ts,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>XE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>XE(e.remoteStore,r)),n._onlineComponents=e}async function cN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Ts,"Using user provided OfflineComponentProvider");try{await Jm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===Z.FAILED_PRECONDITION||r.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;qa("Error using user provided cache. Falling back to memory cache: "+t),await Jm(n,new of)}}else ce(Ts,"Using default OfflineComponentProvider"),await Jm(n,new lN(void 0));return n._offlineComponents}async function dA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Ts,"Using user provided OnlineComponentProvider"),await nT(n,n._uninitializedComponentsProvider._online)):(ce(Ts,"Using default OnlineComponentProvider"),await nT(n,new qg))),n._onlineComponents}function hN(n){return dA(n).then(e=>e.syncEngine)}async function fA(n){const e=await dA(n),t=e.eventManager;return t.onListen=YL.bind(null,e.syncEngine),t.onUnlisten=JL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZL.bind(null,e.syncEngine),t}function dN(n,e,t={}){const i=new gr;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,d){const m=new hA({next:v=>{m.xu(),a.enqueueAndForget(()=>tA(s,g));const E=v.docs.has(u);!E&&v.fromCache?d.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&c&&c.source==="server"?d.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new nA(Hy(u.path),m,{includeMetadataChanges:!0,Qa:!0});return eA(s,g)}(await fA(n),n.asyncQueue,e,t,i)),i.promise}function fN(n,e,t={}){const i=new gr;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,d){const m=new hA({next:v=>{m.xu(),a.enqueueAndForget(()=>tA(s,g)),v.fromCache&&c.source==="server"?d.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new nA(u,m,{includeMetadataChanges:!0,Qa:!0});return eA(s,g)}(await fA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n,e,t){if(!t)throw new fe(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pN(n,e,t,i){if(e===!0&&i===!0)throw new fe(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rT(n){if(!ve.isDocumentKey(n))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sT(n){if(ve.isDocumentKey(n))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function Sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gf(n);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firestore.googleapis.com",oT=!0;class aT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=oT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:oT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HV)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new TO;switch(i.type){case"firstParty":return new AO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iT.get(t);i&&(ce("ComponentProvider","Removing Datastore"),iT.delete(t),i.terminate())}(this),Promise.resolve()}}function mN(n,e,t,i={}){var r;n=Sr(n,Yf);const s=gc(e),a=n._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(r1(`https://${c}`),s1("Firestore",!0)),a.host!==gA&&a.host!==c&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:i});if(!To(d,u)&&(n._setSettings(d),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=tn.MOCK_USER;else{m=Ok(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new tn(v)}n._authCredentials=new xO(new Z1(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new dl(this.firestore,e,this._query)}}class hn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ms extends dl{constructor(e,t,i){super(e,t,Hy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ve(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function af(n,e,...t){if(n=Ft(n),mA("collection","path",e),n instanceof Yf){const i=it.fromString(e,...t);return sT(i),new ms(n,null,i)}{if(!(n instanceof hn||n instanceof ms))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return sT(i),new ms(n.firestore,null,i)}}function Kg(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=tI.newId()),mA("doc","path",e),n instanceof Yf){const i=it.fromString(e,...t);return rT(i),new hn(n,null,new ve(i))}{if(!(n instanceof hn||n instanceof ms))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return rT(i),new hn(n.firestore,n instanceof ms?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new qI(this,"async_queue_retry"),this.rc=()=>{const i=Qm();i&&ce(lT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new gr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!cl(e))throw e;ce(lT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Tr("INTERNAL UNHANDLED ERROR: ",cT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=rv.createAndSchedule(this,e,t,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&xe(47125,{cc:cT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function cT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class bc extends Yf{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new uT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function gN(n,e){const t=typeof n=="object"?n:u1(),i=typeof n=="string"?n:Xd,r=Py(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Dk("firestore");s&&mN(r,...s)}return r}function uv(n){if(n._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yN(n),n._firestoreClient}function yN(n){var e,t,i;const r=n._freezeSettings(),s=function(u,c,d,m){return new UO(u,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,pA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new uN(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(Kt.fromBase64String(e))}catch(t){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ja(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class _N{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class yA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ic:n})}}class fv{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return lf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(vA(this.Ic)&&vN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class wN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hf(e)}bc(e,t,i,r=!1){return new fv({Ic:e,methodName:t,wc:i,path:Ht.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pv(n){const e=n._freezeSettings(),t=Hf(n._databaseId);return new wN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EN(n,e,t,i,r,s={}){const a=n.bc(s.merge||s.mergeFields?2:0,e,t,r);mv("Data must be an object, but it was:",a,i);const u=_A(i,a);let c,d;if(s.merge)c=new Mn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const v=Gg(e,g,t);if(!a.contains(v))throw new fe(Z.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);EA(m,v)||m.push(v)}c=new Mn(m),d=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=a.fieldTransforms;return new _N(new Tn(u),c,d)}class Qf extends cv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function TN(n,e,t,i){const r=n.bc(1,e,t);mv("Data must be an object, but it was:",r,i);const s=[],a=Tn.empty();bs(i,(c,d)=>{const m=gv(e,c,t);d=Ft(d);const g=r.mc(m);if(d instanceof Qf)s.push(m);else{const v=Cc(d,g);v!=null&&(s.push(m),a.set(m,v))}});const u=new Mn(s);return new yA(a,u,r.fieldTransforms)}function xN(n,e,t,i,r,s){const a=n.bc(1,e,t),u=[Gg(e,i,t)],c=[r];if(s.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)u.push(Gg(e,s[v])),c.push(s[v+1]);const d=[],m=Tn.empty();for(let v=u.length-1;v>=0;--v)if(!EA(d,u[v])){const E=u[v];let x=c[v];x=Ft(x);const A=a.mc(E);if(x instanceof Qf)d.push(E);else{const S=Cc(x,A);S!=null&&(d.push(E),m.set(E,S))}}const g=new Mn(d);return new yA(m,g,a.fieldTransforms)}function SN(n,e,t,i=!1){return Cc(t,n.bc(i?4:3,e))}function Cc(n,e){if(wA(n=Ft(n)))return mv("Unsupported field value:",e,n),_A(n,e);if(n instanceof cv)return function(i,r){if(!vA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const u of i){let c=Cc(u,r.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Rt.fromDate(i);return{timestampValue:nf(r.serializer,s)}}if(i instanceof Rt){const s=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nf(r.serializer,s)}}if(i instanceof hv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ja)return{bytesValue:VI(r.serializer,i._byteString)};if(i instanceof hn){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof dv)return function(a,u){return{mapValue:{fields:{[uI]:{stringValue:cI},[Qd]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw u.gc("VectorValues must only contain numeric values.");return qy(u.serializer,d)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${Gf(i)}`)}(n,e)}function _A(n,e){const t={};return iI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(n,(i,r)=>{const s=Cc(r,e.Ac(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function wA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof hv||n instanceof Ja||n instanceof hn||n instanceof cv||n instanceof dv)}function mv(n,e,t){if(!wA(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=Gf(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Gg(n,e,t){if((e=Ft(e))instanceof Xf)return e._internalPath;if(typeof e=="string")return gv(n,e);throw lf("Field path arguments must be of type string or ",n,!1,void 0,t)}const IN=new RegExp("[~\\*/\\[\\]]");function gv(n,e,t){if(e.search(IN)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xf(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lf(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new fe(Z.INVALID_ARGUMENT,u+n+c)}function EA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AN extends TA{data(){return super.data()}}function yv(n,e){return typeof e=="string"?gv(n,e):e instanceof Xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vv{}class CN extends vv{}function uf(n,e,...t){let i=[];e instanceof vv&&i.push(e),i=i.concat(t),function(s){const a=s.filter(c=>c instanceof _v).length,u=s.filter(c=>c instanceof Jf).length;if(a>1||a>0&&u>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Jf extends CN{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Jf(e,t,i)}_apply(e){const t=this._parse(e);return xA(e._query,t),new dl(e.firestore,e.converter,Lg(e._query,t))}_parse(e){const t=pv(e.firestore);return function(s,a,u,c,d,m,g){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){dT(g,m);const x=[];for(const A of g)x.push(hT(c,s,A));v={arrayValue:{values:x}}}else v=hT(c,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||dT(g,m),v=SN(u,a,g,m==="in"||m==="not-in");return Tt.create(d,m,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function go(n,e,t){const i=e,r=yv("where",n);return Jf._create(r,i,t)}class _v extends vv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _v(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let a=r;const u=s.getFlattenedFilters();for(const c of u)xA(a,c),a=Lg(a,c)}(e._query,t),new dl(e.firestore,e.converter,Lg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hT(n,e,t){if(typeof(t=Ft(t))=="string"){if(t==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vI(e)&&t.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!ve.isDocumentKey(i))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return AE(n,new ve(i))}if(t instanceof hn)return AE(n,t._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gf(t)}.`)}function dT(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(n,e){const t=function(r,s){for(const a of r)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class PN{convertValue(e,t="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return bs(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[Qd].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>yt(a.doubleValue));return new dv(s)}convertGeoPoint(e){return new hv(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const t=vs(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Ke(UI(i),9688,{name:e});const r=new tc(i.get(1),i.get(3)),s=new ve(i.popFirst(5));return r.isEqual(t)||Tr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SA extends TA{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(yv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Od extends SA{data(e={}){return super.data(e)}}class kN{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Su(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Od(this._firestore,this._userDataWriter,i.key,i,new Su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>{const c=new Od(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Su(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Od(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Su(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,m=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:DN(u.type),doc:c,oldIndex:d,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){n=Sr(n,hn);const e=Sr(n.firestore,bc);return dN(uv(e),n._key).then(t=>LN(e,n,t))}class IA extends PN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function cf(n){n=Sr(n,dl);const e=Sr(n.firestore,bc),t=uv(e),i=new IA(e);return bN(n._query),fN(t,n._query).then(r=>new kN(e,i,n,r))}function ON(n,e,t){n=Sr(n,hn);const i=Sr(n.firestore,bc),r=RN(n.converter,e);return AA(i,[EN(pv(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Fi.none())])}function VN(n,e,t,...i){n=Sr(n,hn);const r=Sr(n.firestore,bc),s=pv(r);let a;return a=typeof(e=Ft(e))=="string"||e instanceof Xf?xN(s,"updateDoc",n._key,e,t,i):TN(s,"updateDoc",n._key,e),AA(r,[a.toMutation(n._key,Fi.exists(!0))])}function AA(n,e){return function(i,r){const s=new gr;return i.asyncQueue.enqueueAndForget(async()=>eN(await hN(i),r,s)),s.promise}(uv(n),e)}function LN(n,e,t){const i=t.docs.get(e._key),r=new IA(n);return new SA(n,r,e._key,i,new Su(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){ll=r})(sl),Wa(new xo("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),u=new bc(new SO(i.getProvider("auth-internal")),new bO(a,i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(d.options.projectId,m)}(a,r),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),ds(pE,mE,e),ds(pE,mE,"esm2017")})();const NN={apiKey:"AIzaSyCMc039S4o_DUxgt4iKjjFu5sa4NZishX0",authDomain:"ipbeep.firebaseapp.com",projectId:"ipbeep",storageBucket:"ipbeep.firebasestorage.app",messagingSenderId:"430401935725",appId:"1:430401935725:web:ef4af7ecbee326bb6ae264",measurementId:"G-1NXLCLE1EW"},bA=l1(NN),_o=gN(bA),Pc=vO(bA),CA=U.createContext({});function FN(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const wv=U.createContext(null),PA=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function jN(n=!0){const e=U.useContext(wv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=U.useId();U.useEffect(()=>{n&&r(s)},[n]);const a=U.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,a]:[!0]}const Ev=typeof window<"u",BN=Ev?U.useLayoutEffect:U.useEffect,On=n=>n;let RA=On;function Tv(n){let e;return()=>(e===void 0&&(e=n()),e)}const Za=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},yr=n=>n*1e3,vr=n=>n/1e3,UN={useManualTiming:!1};function zN(n){let e=new Set,t=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(d){s.has(d)&&(c.schedule(d),n()),d(a)}const c={schedule:(d,m=!1,g=!1)=>{const E=g&&i?e:t;return m&&s.add(d),E.has(d)||E.add(d),d},cancel:d=>{t.delete(d),s.delete(d)},process:d=>{if(a=d,i){r=!0;return}i=!0,[e,t]=[t,e],e.forEach(u),e.clear(),i=!1,r&&(r=!1,c.process(d))}};return c}const sd=["read","resolveKeyframes","update","preRender","render","postRender"],$N=40;function kA(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=sd.reduce((R,M)=>(R[M]=zN(s),R),{}),{read:u,resolveKeyframes:c,update:d,preRender:m,render:g,postRender:v}=a,E=()=>{const R=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(R-r.timestamp,$N),1),r.timestamp=R,r.isProcessing=!0,u.process(r),c.process(r),d.process(r),m.process(r),g.process(r),v.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(E))},x=()=>{t=!0,i=!0,r.isProcessing||n(E)};return{schedule:sd.reduce((R,M)=>{const B=a[M];return R[M]=(q,Y=!1,Q=!1)=>(t||x(),B.schedule(q,Y,Q)),R},{}),cancel:R=>{for(let M=0;M<sd.length;M++)a[sd[M]].cancel(R)},state:r,steps:a}}const{schedule:rt,cancel:xs,state:$t,steps:Zm}=kA(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0),DA=U.createContext({strict:!1}),fT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const n in fT)el[n]={isEnabled:e=>fT[n].some(t=>!!e[t])};function WN(n){for(const e in n)el[e]={...el[e],...n[e]}}const HN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||HN.has(n)}let MA=n=>!hf(n);function qN(n){n&&(MA=e=>e.startsWith("on")?!hf(e):n(e))}try{qN(require("@emotion/is-prop-valid").default)}catch{}function KN(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(MA(r)||t===!0&&hf(r)||!e&&!hf(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function GN(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const Zf=U.createContext({});function sc(n){return typeof n=="string"||Array.isArray(n)}function ep(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sv=["initial",...xv];function tp(n){return ep(n.animate)||Sv.some(e=>sc(n[e]))}function OA(n){return!!(tp(n)||n.variants)}function YN(n,e){if(tp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||sc(t)?t:void 0,animate:sc(i)?i:void 0}}return n.inherit!==!1?e:{}}function XN(n){const{initial:e,animate:t}=YN(n,U.useContext(Zf));return U.useMemo(()=>({initial:e,animate:t}),[pT(e),pT(t)])}function pT(n){return Array.isArray(n)?n.join(" "):n}const QN=Symbol.for("motionComponentSymbol");function Oa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function JN(n,e,t){return U.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Oa(t)&&(t.current=i))},[e])}const Iv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZN="framerAppearId",VA="data-"+Iv(ZN),{schedule:Av}=kA(queueMicrotask,!1),LA=U.createContext({});function eF(n,e,t,i,r){var s,a;const{visualElement:u}=U.useContext(Zf),c=U.useContext(DA),d=U.useContext(wv),m=U.useContext(PA).reducedMotion,g=U.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:u,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,E=U.useContext(LA);v&&!v.projection&&r&&(v.type==="html"||v.type==="svg")&&tF(g.current,t,r,E);const x=U.useRef(!1);U.useInsertionEffect(()=>{v&&x.current&&v.update(t,d)});const A=t[VA],S=U.useRef(!!A&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,A))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,A)));return BN(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Av.render(v.render),S.current&&v.animationState&&v.animationState.animateChanges())}),U.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,A)}),S.current=!1))}),v}function tF(n,e,t,i){const{layoutId:r,layout:s,drag:a,dragConstraints:u,layoutScroll:c,layoutRoot:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:NA(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||u&&Oa(u),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:c,layoutRoot:d})}function NA(n){if(n)return n.options.allowProjection!==!1?n.projection:NA(n.parent)}function nF({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){var s,a;n&&WN(n);function u(d,m){let g;const v={...U.useContext(PA),...d,layoutId:iF(d)},{isStatic:E}=v,x=XN(d),A=i(d,E);if(!E&&Ev){rF();const S=sF(v);g=S.MeasureLayout,x.visualElement=eF(r,A,v,e,S.ProjectionNode)}return $.jsxs(Zf.Provider,{value:x,children:[g&&x.visualElement?$.jsx(g,{visualElement:x.visualElement,...v}):null,t(r,d,JN(A,x.visualElement,m),A,E,x.visualElement)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${(a=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&a!==void 0?a:""})`}`;const c=U.forwardRef(u);return c[QN]=r,c}function iF({layoutId:n}){const e=U.useContext(CA).id;return e&&n!==void 0?e+"-"+n:n}function rF(n,e){U.useContext(DA).strict}function sF(n){const{drag:e,layout:t}=el;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const oF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bv(n){return typeof n!="string"||n.includes("-")?!1:!!(oF.indexOf(n)>-1||/[A-Z]/u.test(n))}function mT(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Cv(n,e,t,i){if(typeof e=="function"){const[r,s]=mT(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=mT(i);e=e(t!==void 0?t:n.custom,r,s)}return e}const Yg=n=>Array.isArray(n),aF=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),lF=n=>Yg(n)?n[n.length-1]||0:n,rn=n=>!!(n&&n.getVelocity);function Vd(n){const e=rn(n)?n.get():n;return aF(e)?e.toValue():e}function uF({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,s){const a={latestValues:cF(i,r,s,n),renderState:e()};return t&&(a.onMount=u=>t({props:i,current:u,...a}),a.onUpdate=u=>t(u)),a}const FA=n=>(e,t)=>{const i=U.useContext(Zf),r=U.useContext(wv),s=()=>uF(n,e,i,r);return t?s():FN(s)};function cF(n,e,t,i){const r={},s=i(n,{});for(const v in s)r[v]=Vd(s[v]);let{initial:a,animate:u}=n;const c=tp(n),d=OA(n);e&&d&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?u:a;if(g&&typeof g!="boolean"&&!ep(g)){const v=Array.isArray(g)?g:[g];for(let E=0;E<v.length;E++){const x=Cv(n,v[E]);if(x){const{transitionEnd:A,transition:S,...R}=x;for(const M in R){let B=R[M];if(Array.isArray(B)){const q=m?B.length-1:0;B=B[q]}B!==null&&(r[M]=B)}for(const M in A)r[M]=A[M]}}}return r}const fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mo=new Set(fl),jA=n=>e=>typeof e=="string"&&e.startsWith(n),BA=jA("--"),hF=jA("var(--"),Pv=n=>hF(n)?dF.test(n.split("/*")[0].trim()):!1,dF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,UA=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ir=(n,e,t)=>t>e?e:t<n?n:t,pl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},oc={...pl,transform:n=>Ir(0,1,n)},od={...pl,default:1},Rc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ns=Rc("deg"),Bi=Rc("%"),Ee=Rc("px"),fF=Rc("vh"),pF=Rc("vw"),gT={...Bi,parse:n=>Bi.parse(n)/100,transform:n=>Bi.transform(n*100)},mF={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},gF={rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:od,scaleX:od,scaleY:od,scaleZ:od,skew:ns,skewX:ns,skewY:ns,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:oc,originX:gT,originY:gT,originZ:Ee},yT={...pl,transform:Math.round},Rv={...mF,...gF,zIndex:yT,size:Ee,fillOpacity:oc,strokeOpacity:oc,numOctaves:yT},yF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vF=fl.length;function _F(n,e,t){let i="",r=!0;for(let s=0;s<vF;s++){const a=fl[s],u=n[a];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(a.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||t){const d=UA(u,Rv[a]);if(!c){r=!1;const m=yF[a]||a;i+=`${m}(${d}) `}t&&(e[a]=d)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function kv(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let a=!1,u=!1;for(const c in e){const d=e[c];if(Mo.has(c)){a=!0;continue}else if(BA(c)){r[c]=d;continue}else{const m=UA(d,Rv[c]);c.startsWith("origin")?(u=!0,s[c]=m):i[c]=m}}if(e.transform||(a||t?i.transform=_F(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:m=0}=s;i.transformOrigin=`${c} ${d} ${m}`}}const wF={offset:"stroke-dashoffset",array:"stroke-dasharray"},EF={offset:"strokeDashoffset",array:"strokeDasharray"};function TF(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?wF:EF;n[s.offset]=Ee.transform(-i);const a=Ee.transform(e),u=Ee.transform(t);n[s.array]=`${a} ${u}`}function vT(n,e,t){return typeof n=="string"?n:Ee.transform(e+t*n)}function xF(n,e,t){const i=vT(e,n.x,n.width),r=vT(t,n.y,n.height);return`${i} ${r}`}function Dv(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...d},m,g){if(kv(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E,dimensions:x}=n;v.transform&&(x&&(E.transform=v.transform),delete v.transform),x&&(r!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=xF(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&TF(v,a,u,c,!1)}const Mv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zA=()=>({...Mv(),attrs:{}}),Ov=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $A(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const WA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HA(n,e,t,i){$A(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(WA.has(r)?r:Iv(r),e.attrs[r])}const df={};function SF(n){Object.assign(df,n)}function qA(n,{layout:e,layoutId:t}){return Mo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!df[n]||n==="opacity")}function Vv(n,e,t){var i;const{style:r}=n,s={};for(const a in r)(rn(r[a])||e.style&&rn(e.style[a])||qA(a,n)||((i=t==null?void 0:t.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function KA(n,e,t){const i=Vv(n,e,t);for(const r in n)if(rn(n[r])||rn(e[r])){const s=fl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}function IF(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const _T=["x","y","width","height","cx","cy","r"],AF={useVisualState:FA({scrapeMotionValuesFromProps:KA,createRenderState:zA,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let s=!!n.drag;if(!s){for(const u in r)if(Mo.has(u)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let u=0;u<_T.length;u++){const c=_T[u];n[c]!==e[c]&&(a=!0)}a&&rt.read(()=>{IF(t,i),rt.render(()=>{Dv(i,r,Ov(t.tagName),n.transformTemplate),HA(t,i)})})}})},bF={useVisualState:FA({scrapeMotionValuesFromProps:Vv,createRenderState:Mv})};function GA(n,e,t){for(const i in e)!rn(e[i])&&!qA(i,t)&&(n[i]=e[i])}function CF({transformTemplate:n},e){return U.useMemo(()=>{const t=Mv();return kv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function PF(n,e){const t=n.style||{},i={};return GA(i,t,n),Object.assign(i,CF(n,e)),i}function RF(n,e){const t={},i=PF(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function kF(n,e,t,i){const r=U.useMemo(()=>{const s=zA();return Dv(s,e,Ov(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};GA(s,n.style,n),r.style={...s,...r.style}}return r}function DF(n=!1){return(t,i,r,{latestValues:s},a)=>{const c=(bv(t)?kF:RF)(i,s,a,t),d=KN(i,typeof t=="string",n),m=t!==U.Fragment?{...d,...c,ref:r}:{},{children:g}=i,v=U.useMemo(()=>rn(g)?g.get():g,[g]);return U.createElement(t,{...m,children:v})}}function MF(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...bv(i)?AF:bF,preloadedFeatures:n,useRender:DF(r),createVisualElement:e,Component:i};return nF(a)}}function YA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function np(n,e,t){const i=n.getProps();return Cv(i,e,t!==void 0?t:i.custom,n)}const OF=Tv(()=>window.ScrollTimeline!==void 0);class VF{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(OF()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class LF extends VF{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Lv(n,e){return n?n[e]||n.default||n:void 0}const Xg=2e4;function XA(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Xg;)e+=t,i=n.next(e);return e>=Xg?1/0:e}function Nv(n){return typeof n=="function"}function wT(n,e){n.timeline=e,n.onfinish=null}const Fv=n=>Array.isArray(n)&&typeof n[0]=="number",NF={linearEasing:void 0};function FF(n,e){const t=Tv(n);return()=>{var i;return(i=NF[e])!==null&&i!==void 0?i:t()}}const ff=FF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),QA=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=n(Za(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function JA(n){return!!(typeof n=="function"&&ff()||!n||typeof n=="string"&&(n in Qg||ff())||Fv(n)||Array.isArray(n)&&n.every(JA))}const Iu=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Qg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function ZA(n,e){if(n)return typeof n=="function"&&ff()?QA(n,e):Fv(n)?Iu(n):Array.isArray(n)?n.map(t=>ZA(t,e)||Qg.easeOut):Qg[n]}const di={x:!1,y:!1};function eb(){return di.x||di.y}function jF(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function tb(n,e){const t=jF(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function ET(n){return e=>{e.pointerType==="touch"||eb()||n(e)}}function BF(n,e,t={}){const[i,r,s]=tb(n,t),a=ET(u=>{const{target:c}=u,d=e(u);if(typeof d!="function"||!c)return;const m=ET(g=>{d(g),c.removeEventListener("pointerleave",m)});c.addEventListener("pointerleave",m,r)});return i.forEach(u=>{u.addEventListener("pointerenter",a,r)}),s}const nb=(n,e)=>e?n===e?!0:nb(n,e.parentElement):!1,jv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,UF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zF(n){return UF.has(n.tagName)||n.tabIndex!==-1}const Au=new WeakSet;function TT(n){return e=>{e.key==="Enter"&&n(e)}}function eg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $F=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=TT(()=>{if(Au.has(t))return;eg(t,"down");const r=TT(()=>{eg(t,"up")}),s=()=>eg(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function xT(n){return jv(n)&&!eb()}function WF(n,e,t={}){const[i,r,s]=tb(n,t),a=u=>{const c=u.currentTarget;if(!xT(u)||Au.has(c))return;Au.add(c);const d=e(u),m=(E,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!xT(E)||!Au.has(c))&&(Au.delete(c),typeof d=="function"&&d(E,{success:x}))},g=E=>{m(E,t.useGlobalTarget||nb(c,E.target))},v=E=>{m(E,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return i.forEach(u=>{!zF(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",a,r),u.addEventListener("focus",d=>$F(d,r),r)}),s}function HF(n){return n==="x"||n==="y"?di[n]?null:(di[n]=!0,()=>{di[n]=!1}):di.x||di.y?null:(di.x=di.y=!0,()=>{di.x=di.y=!1})}const ib=new Set(["width","height","top","left","right","bottom",...fl]);let Ld;function qF(){Ld=void 0}const Ui={now:()=>(Ld===void 0&&Ui.set($t.isProcessing||UN.useManualTiming?$t.timestamp:performance.now()),Ld),set:n=>{Ld=n,queueMicrotask(qF)}};function Bv(n,e){n.indexOf(e)===-1&&n.push(e)}function Uv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class zv{constructor(){this.subscriptions=[]}add(e){return Bv(this.subscriptions,e),()=>Uv(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function rb(n,e){return e?n*(1e3/e):0}const ST=30,KF=n=>!isNaN(parseFloat(n));class GF{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Ui.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ui.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new zv);const i=this.events[e].add(t);return e==="change"?()=>{i(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ui.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ST)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ST);return rb(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ac(n,e){return new GF(n,e)}function YF(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ac(t))}function XF(n,e){const t=np(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const a in s){const u=lF(s[a]);YF(n,a,u)}}function QF(n){return!!(rn(n)&&n.add)}function Jg(n,e){const t=n.getValue("willChange");if(QF(t))return t.add(e)}function sb(n){return n.props[VA]}const ob=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,JF=1e-7,ZF=12;function e4(n,e,t,i,r){let s,a,u=0;do a=e+(t-e)/2,s=ob(a,i,r)-n,s>0?t=a:e=a;while(Math.abs(s)>JF&&++u<ZF);return a}function kc(n,e,t,i){if(n===e&&t===i)return On;const r=s=>e4(s,0,1,n,t);return s=>s===0||s===1?s:ob(r(s),e,i)}const ab=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,lb=n=>e=>1-n(1-e),ub=kc(.33,1.53,.69,.99),$v=lb(ub),cb=ab($v),hb=n=>(n*=2)<1?.5*$v(n):.5*(2-Math.pow(2,-10*(n-1))),Wv=n=>1-Math.sin(Math.acos(n)),db=lb(Wv),fb=ab(Wv),pb=n=>/^0[^.\s]+$/u.test(n);function t4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||pb(n):!0}const Bu=n=>Math.round(n*1e5)/1e5,Hv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function n4(n){return n==null}const i4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qv=(n,e)=>t=>!!(typeof t=="string"&&i4.test(t)&&t.startsWith(n)||e&&!n4(t)&&Object.prototype.hasOwnProperty.call(t,e)),mb=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,a,u]=i.match(Hv);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},r4=n=>Ir(0,255,n),tg={...pl,transform:n=>Math.round(r4(n))},yo={test:qv("rgb","red"),parse:mb("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+tg.transform(n)+", "+tg.transform(e)+", "+tg.transform(t)+", "+Bu(oc.transform(i))+")"};function s4(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Zg={test:qv("#"),parse:s4,transform:yo.transform},Va={test:qv("hsl","hue"),parse:mb("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Bi.transform(Bu(e))+", "+Bi.transform(Bu(t))+", "+Bu(oc.transform(i))+")"},en={test:n=>yo.test(n)||Zg.test(n)||Va.test(n),parse:n=>yo.test(n)?yo.parse(n):Va.test(n)?Va.parse(n):Zg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?yo.transform(n):Va.transform(n)},o4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a4(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Hv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(o4))===null||t===void 0?void 0:t.length)||0)>0}const gb="number",yb="color",l4="var",u4="var(",IT="${}",c4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const u=e.replace(c4,c=>(en.test(c)?(i.color.push(s),r.push(yb),t.push(en.parse(c))):c.startsWith(u4)?(i.var.push(s),r.push(l4),t.push(c)):(i.number.push(s),r.push(gb),t.push(parseFloat(c))),++s,IT)).split(IT);return{values:t,split:u,indexes:i,types:r}}function vb(n){return lc(n).values}function _b(n){const{split:e,types:t}=lc(n),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const u=t[a];u===gb?s+=Bu(r[a]):u===yb?s+=en.transform(r[a]):s+=r[a]}return s}}const h4=n=>typeof n=="number"?0:n;function d4(n){const e=vb(n);return _b(n)(e.map(h4))}const Ss={test:a4,parse:vb,createTransformer:_b,getAnimatableNone:d4},f4=new Set(["brightness","contrast","saturate","opacity"]);function p4(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Hv)||[];if(!i)return n;const r=t.replace(i,"");let s=f4.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const m4=/\b([a-z-]*)\(.*?\)/gu,ey={...Ss,getAnimatableNone:n=>{const e=n.match(m4);return e?e.map(p4).join(" "):n}},g4={...Rv,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:ey,WebkitFilter:ey},Kv=n=>g4[n];function wb(n,e){let t=Kv(n);return t!==ey&&(t=Ss),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const y4=new Set(["auto","none","0"]);function v4(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!y4.has(s)&&lc(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=wb(t,r)}const AT=n=>n===pl||n===Ee,bT=(n,e)=>parseFloat(n.split(", ")[e]),CT=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return bT(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?bT(s[1],n):0}},_4=new Set(["x","y","z"]),w4=fl.filter(n=>!_4.has(n));function E4(n){const e=[];return w4.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const tl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:CT(4,13),y:CT(5,14)};tl.translateX=tl.x;tl.translateY=tl.y;const wo=new Set;let ty=!1,ny=!1;function Eb(){if(ny){const n=Array.from(wo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=E4(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,a])=>{var u;(u=i.getValue(s))===null||u===void 0||u.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ny=!1,ty=!1,wo.forEach(n=>n.complete()),wo.clear()}function Tb(){wo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ny=!0)})}function T4(){Tb(),Eb()}class Gv{constructor(e,t,i,r,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wo.add(this),ty||(ty=!0,rt.read(Tb),rt.resolveKeyframes(Eb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=r==null?void 0:r.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const c=i.readValue(t,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),r&&a===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),wo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),x4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S4(n){const e=x4.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function Sb(n,e,t=1){const[i,r]=S4(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return xb(a)?parseFloat(a):a}return Pv(r)?Sb(r,e,t+1):r}const Ib=n=>e=>e.test(n),I4={test:n=>n==="auto",parse:n=>n},Ab=[pl,Ee,Bi,ns,pF,fF,I4],PT=n=>Ab.find(Ib(n));class bb extends Gv{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Pv(d))){const m=Sb(d,t.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ib.has(i)||e.length!==2)return;const[r,s]=e,a=PT(r),u=PT(s);if(a!==u)if(AT(a)&&AT(u))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)t4(e[r])&&i.push(r);i.length&&v4(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=tl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const RT=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ss.test(n)||n==="0")&&!n.startsWith("url("));function A4(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function b4(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=RT(r,e),u=RT(s,e);return!a||!u?!1:A4(n)||(t==="spring"||Nv(t))&&i}const C4=n=>n!==null;function ip(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(C4),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const P4=40;class Cb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ui.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:a,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>P4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&T4(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ui.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:a,onComplete:u,onUpdate:c,isGenerator:d}=this.options;if(!d&&!b4(e,i,r,s))if(a)this.options.duration=0;else{c&&c(ip(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(n,e,t)=>n+(e-n)*t;function ng(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function R4({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,c=2*t-u;r=ng(c,u,n+1/3),s=ng(c,u,n),a=ng(c,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function pf(n,e){return t=>t>0?e:n}const ig=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},k4=[Zg,yo,Va],D4=n=>k4.find(e=>e.test(n));function kT(n){const e=D4(n);if(!e)return!1;let t=e.parse(n);return e===Va&&(t=R4(t)),t}const DT=(n,e)=>{const t=kT(n),i=kT(e);if(!t||!i)return pf(n,e);const r={...t};return s=>(r.red=ig(t.red,i.red,s),r.green=ig(t.green,i.green,s),r.blue=ig(t.blue,i.blue,s),r.alpha=ct(t.alpha,i.alpha,s),yo.transform(r))},M4=(n,e)=>t=>e(n(t)),Dc=(...n)=>n.reduce(M4),iy=new Set(["none","hidden"]);function O4(n,e){return iy.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function V4(n,e){return t=>ct(n,e,t)}function Yv(n){return typeof n=="number"?V4:typeof n=="string"?Pv(n)?pf:en.test(n)?DT:F4:Array.isArray(n)?Pb:typeof n=="object"?en.test(n)?DT:L4:pf}function Pb(n,e){const t=[...n],i=t.length,r=n.map((s,a)=>Yv(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)t[a]=r[a](s);return t}}function L4(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=Yv(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function N4(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=n.indexes[a][r[a]],c=(t=n.values[u])!==null&&t!==void 0?t:0;i[s]=c,r[a]++}return i}const F4=(n,e)=>{const t=Ss.createTransformer(e),i=lc(n),r=lc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?iy.has(n)&&!r.values.length||iy.has(e)&&!i.values.length?O4(n,e):Dc(Pb(N4(i,r),r.values),t):pf(n,e)};function Rb(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ct(n,e,t):Yv(n)(n,e)}const j4=5;function kb(n,e,t){const i=Math.max(e-j4,0);return rb(t-n(i),e-i)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},MT=.001;function B4({duration:n=ft.duration,bounce:e=ft.bounce,velocity:t=ft.velocity,mass:i=ft.mass}){let r,s,a=1-e;a=Ir(ft.minDamping,ft.maxDamping,a),n=Ir(ft.minDuration,ft.maxDuration,vr(n)),a<1?(r=d=>{const m=d*a,g=m*n,v=m-t,E=ry(d,a),x=Math.exp(-g);return MT-v/E*x},s=d=>{const g=d*a*n,v=g*t+t,E=Math.pow(a,2)*Math.pow(d,2)*n,x=Math.exp(-g),A=ry(Math.pow(d,2),a);return(-r(d)+MT>0?-1:1)*((v-E)*x)/A}):(r=d=>{const m=Math.exp(-d*n),g=(d-t)*n+1;return-.001+m*g},s=d=>{const m=Math.exp(-d*n),g=(t-d)*(n*n);return m*g});const u=5/n,c=z4(r,s,u);if(n=yr(n),isNaN(c))return{stiffness:ft.stiffness,damping:ft.damping,duration:n};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:a*2*Math.sqrt(i*d),duration:n}}}const U4=12;function z4(n,e,t){let i=t;for(let r=1;r<U4;r++)i=i-n(i)/e(i);return i}function ry(n,e){return n*Math.sqrt(1-e*e)}const $4=["duration","bounce"],W4=["stiffness","damping","mass"];function OT(n,e){return e.some(t=>n[t]!==void 0)}function H4(n){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...n};if(!OT(n,W4)&&OT(n,$4))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*Ir(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:ft.mass,stiffness:r,damping:s}}else{const t=B4(n);e={...e,...t,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function Db(n=ft.visualDuration,e=ft.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],u={done:!1,value:s},{stiffness:c,damping:d,mass:m,duration:g,velocity:v,isResolvedFromDuration:E}=H4({...t,velocity:-vr(t.velocity||0)}),x=v||0,A=d/(2*Math.sqrt(c*m)),S=a-s,R=vr(Math.sqrt(c/m)),M=Math.abs(S)<5;i||(i=M?ft.restSpeed.granular:ft.restSpeed.default),r||(r=M?ft.restDelta.granular:ft.restDelta.default);let B;if(A<1){const Y=ry(R,A);B=Q=>{const D=Math.exp(-A*R*Q);return a-D*((x+A*R*S)/Y*Math.sin(Y*Q)+S*Math.cos(Y*Q))}}else if(A===1)B=Y=>a-Math.exp(-R*Y)*(S+(x+R*S)*Y);else{const Y=R*Math.sqrt(A*A-1);B=Q=>{const D=Math.exp(-A*R*Q),b=Math.min(Y*Q,300);return a-D*((x+A*R*S)*Math.sinh(b)+Y*S*Math.cosh(b))/Y}}const q={calculatedDuration:E&&g||null,next:Y=>{const Q=B(Y);if(E)u.done=Y>=g;else{let D=0;A<1&&(D=Y===0?yr(x):kb(B,Y,Q));const b=Math.abs(D)<=i,C=Math.abs(a-Q)<=r;u.done=b&&C}return u.value=u.done?a:Q,u},toString:()=>{const Y=Math.min(XA(q),Xg),Q=QA(D=>q.next(Y*D).value,Y,30);return Y+"ms "+Q}};return q}function VT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:u,max:c,restDelta:d=.5,restSpeed:m}){const g=n[0],v={done:!1,value:g},E=b=>u!==void 0&&b<u||c!==void 0&&b>c,x=b=>u===void 0?c:c===void 0||Math.abs(u-b)<Math.abs(c-b)?u:c;let A=t*e;const S=g+A,R=a===void 0?S:a(S);R!==S&&(A=R-g);const M=b=>-A*Math.exp(-b/i),B=b=>R+M(b),q=b=>{const C=M(b),k=B(b);v.done=Math.abs(C)<=d,v.value=v.done?R:k};let Y,Q;const D=b=>{E(v.value)&&(Y=b,Q=Db({keyframes:[v.value,x(v.value)],velocity:kb(B,b,v.value),damping:r,stiffness:s,restDelta:d,restSpeed:m}))};return D(0),{calculatedDuration:null,next:b=>{let C=!1;return!Q&&Y===void 0&&(C=!0,q(b),D(b)),Y!==void 0&&b>=Y?Q.next(b-Y):(!C&&q(b),v)}}}const q4=kc(.42,0,1,1),K4=kc(0,0,.58,1),Mb=kc(.42,0,.58,1),G4=n=>Array.isArray(n)&&typeof n[0]!="number",Y4={linear:On,easeIn:q4,easeInOut:Mb,easeOut:K4,circIn:Wv,circInOut:fb,circOut:db,backIn:$v,backInOut:cb,backOut:ub,anticipate:hb},LT=n=>{if(Fv(n)){RA(n.length===4);const[e,t,i,r]=n;return kc(e,t,i,r)}else if(typeof n=="string")return Y4[n];return n};function X4(n,e,t){const i=[],r=t||Rb,s=n.length-1;for(let a=0;a<s;a++){let u=r(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||On:e;u=Dc(c,u)}i.push(u)}return i}function Q4(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(RA(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=X4(e,i,r),c=u.length,d=m=>{if(a&&m<n[0])return e[0];let g=0;if(c>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const v=Za(n[g],n[g+1],m);return u[g](v)};return t?m=>d(Ir(n[0],n[s-1],m)):d}function J4(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Za(0,e,i);n.push(ct(t,1,r))}}function Z4(n){const e=[0];return J4(e,n.length-1),e}function e5(n,e){return n.map(t=>t*e)}function t5(n,e){return n.map(()=>e||Mb).splice(0,n.length-1)}function mf({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=G4(i)?i.map(LT):LT(i),s={done:!1,value:e[0]},a=e5(t&&t.length===e.length?t:Z4(e),n),u=Q4(a,e,{ease:Array.isArray(r)?r:t5(e,r)});return{calculatedDuration:n,next:c=>(s.value=u(c),s.done=c>=n,s)}}const n5=n=>{const e=({timestamp:t})=>n(t);return{start:()=>rt.update(e,!0),stop:()=>xs(e),now:()=>$t.isProcessing?$t.timestamp:Ui.now()}},i5={decay:VT,inertia:VT,tween:mf,keyframes:mf,spring:Db},r5=n=>n/100;class Xv extends Cb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:i,element:r,keyframes:s}=this.options,a=(r==null?void 0:r.KeyframeResolver)||Gv,u=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new a(s,u,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,u=Nv(t)?t:i5[t]||mf;let c,d;u!==mf&&typeof e[0]!="number"&&(c=Dc(r5,Rb(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});s==="mirror"&&(d=u({...this.options,keyframes:[...e].reverse(),velocity:-a})),m.calculatedDuration===null&&(m.calculatedDuration=XA(m));const{calculatedDuration:g}=m,v=g+r,E=v*(i+1)-r;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:g,resolvedDuration:v,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:u,keyframes:c,calculatedDuration:d,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return s.next(0);const{delay:v,repeat:E,repeatType:x,repeatDelay:A,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-v*(this.speed>=0?1:-1),M=this.speed>=0?R<0:R>m;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,q=s;if(E){const b=Math.min(this.currentTime,m)/g;let C=Math.floor(b),k=b%1;!k&&b>=1&&(k=1),k===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(x==="reverse"?(k=1-k,A&&(k-=A/g)):x==="mirror"&&(q=a)),B=Ir(0,1,k)*g}const Y=M?{done:!1,value:c[0]}:q.next(B);u&&(Y.value=u(Y.value));let{done:Q}=Y;!M&&d!==null&&(Q=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return D&&r!==void 0&&(Y.value=ip(c,this.options,r)),S&&S(Y.value),D&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?vr(e.calculatedDuration):0}get time(){return vr(this.currentTime)}set time(e){e=yr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=vr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=n5,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const s5=new Set(["opacity","clipPath","filter","transform"]);function o5(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:u="easeInOut",times:c}={}){const d={[e]:t};c&&(d.offset=c);const m=ZA(u,r);return Array.isArray(m)&&(d.easing=m),n.animate(d,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const a5=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gf=10,l5=2e4;function u5(n){return Nv(n.type)||n.type==="spring"||!JA(n.ease)}function c5(n,e){const t=new Xv({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<l5;)i=t.sample(s),r.push(i.value),s+=gf;return{times:void 0,keyframes:r,duration:s-gf,ease:"linear"}}const Ob={anticipate:hb,backInOut:cb,circInOut:fb};function h5(n){return n in Ob}class NT extends Cb{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new bb(s,(a,u)=>this.onKeyframesResolved(a,u),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:s,type:a,motionValue:u,name:c,startTime:d}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof s=="string"&&ff()&&h5(s)&&(s=Ob[s]),u5(this.options)){const{onComplete:g,onUpdate:v,motionValue:E,element:x,...A}=this.options,S=c5(e,A);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,s=S.ease,a="keyframes"}const m=o5(u.owner.current,c,e,{...this.options,duration:i,times:r,ease:s});return m.startTime=d??this.calcStartTime(),this.pendingTimeline?(wT(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;u.set(ip(e,this.options,t)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:r,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return vr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return vr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=yr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return On;const{animation:i}=t;wT(i,e)}return On}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:a,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:g,element:v,...E}=this.options,x=new Xv({...E,keyframes:i,duration:r,type:s,ease:a,times:u,isGenerator:!0}),A=yr(this.time);d.setWithVelocity(x.sample(A-gf).value,x.sample(A).value,gf)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:a,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return a5()&&i&&s5.has(i)&&!c&&!d&&!r&&s!=="mirror"&&a!==0&&u!=="inertia"}}const d5={type:"spring",stiffness:500,damping:25,restSpeed:10},f5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),p5={type:"keyframes",duration:.8},m5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g5=(n,{keyframes:e})=>e.length>2?p5:Mo.has(n)?n.startsWith("scale")?f5(e[1]):d5:m5;function y5({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const Qv=(n,e,t,i={},r,s)=>a=>{const u=Lv(i,n)||{},c=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-yr(c);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:s?void 0:r};y5(u)||(m={...m,...g5(n,m)}),m.duration&&(m.duration=yr(m.duration)),m.repeatDelay&&(m.repeatDelay=yr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!s&&e.get()!==void 0){const v=ip(m.keyframes,u);if(v!==void 0)return rt.update(()=>{m.onUpdate(v),m.onComplete()}),new LF([])}return!s&&NT.supports(m)?new NT(m):new Xv(m)};function v5({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Vb(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:a=n.getDefaultTransition(),transitionEnd:u,...c}=e;i&&(a=i);const d=[],m=r&&n.animationState&&n.animationState.getState()[r];for(const g in c){const v=n.getValue(g,(s=n.latestValues[g])!==null&&s!==void 0?s:null),E=c[g];if(E===void 0||m&&v5(m,g))continue;const x={delay:t,...Lv(a||{},g)};let A=!1;if(window.MotionHandoffAnimation){const R=sb(n);if(R){const M=window.MotionHandoffAnimation(R,g,rt);M!==null&&(x.startTime=M,A=!0)}}Jg(n,g),v.start(Qv(g,v,E,n.shouldReduceMotion&&ib.has(g)?{type:!1}:x,n,A));const S=v.animation;S&&d.push(S)}return u&&Promise.all(d).then(()=>{rt.update(()=>{u&&XF(n,u)})}),d}function sy(n,e,t={}){var i;const r=np(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(Vb(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=s;return _5(n,e,m+d,g,v,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,m]=c==="beforeChildren"?[a,u]:[u,a];return d().then(()=>m())}else return Promise.all([a(),u(t.delay)])}function _5(n,e,t=0,i=0,r=1,s){const a=[],u=(n.variantChildren.size-1)*i,c=r===1?(d=0)=>d*i:(d=0)=>u-d*i;return Array.from(n.variantChildren).sort(w5).forEach((d,m)=>{d.notify("AnimationStart",e),a.push(sy(d,e,{...s,delay:t+c(m)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function w5(n,e){return n.sortNodePosition(e)}function E5(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>sy(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=sy(n,e,t);else{const r=typeof e=="function"?np(n,e,t.custom):e;i=Promise.all(Vb(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const T5=Sv.length;function Lb(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Lb(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<T5;t++){const i=Sv[t],r=n.props[i];(sc(r)||r===!1)&&(e[i]=r)}return e}const x5=[...xv].reverse(),S5=xv.length;function I5(n){return e=>Promise.all(e.map(({animation:t,options:i})=>E5(n,t,i)))}function A5(n){let e=I5(n),t=FT(),i=!0;const r=c=>(d,m)=>{var g;const v=np(n,m,c==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:E,transitionEnd:x,...A}=v;d={...d,...A,...x}}return d};function s(c){e=c(n)}function a(c){const{props:d}=n,m=Lb(n.parent)||{},g=[],v=new Set;let E={},x=1/0;for(let S=0;S<S5;S++){const R=x5[S],M=t[R],B=d[R]!==void 0?d[R]:m[R],q=sc(B),Y=R===c?M.isActive:null;Y===!1&&(x=S);let Q=B===m[R]&&B!==d[R]&&q;if(Q&&i&&n.manuallyAnimateOnMount&&(Q=!1),M.protectedKeys={...E},!M.isActive&&Y===null||!B&&!M.prevProp||ep(B)||typeof B=="boolean")continue;const D=b5(M.prevProp,B);let b=D||R===c&&M.isActive&&!Q&&q||S>x&&q,C=!1;const k=Array.isArray(B)?B:[B];let L=k.reduce(r(R),{});Y===!1&&(L={});const{prevResolvedValues:F={}}=M,O={...F,...L},ke=he=>{b=!0,v.has(he)&&(C=!0,v.delete(he)),M.needsAnimating[he]=!0;const ie=n.getValue(he);ie&&(ie.liveStyle=!1)};for(const he in O){const ie=L[he],ae=F[he];if(E.hasOwnProperty(he))continue;let N=!1;Yg(ie)&&Yg(ae)?N=!YA(ie,ae):N=ie!==ae,N?ie!=null?ke(he):v.add(he):ie!==void 0&&v.has(he)?ke(he):M.protectedKeys[he]=!0}M.prevProp=B,M.prevResolvedValues=L,M.isActive&&(E={...E,...L}),i&&n.blockInitialAnimation&&(b=!1),b&&(!(Q&&D)||C)&&g.push(...k.map(he=>({animation:he,options:{type:R}})))}if(v.size){const S={};v.forEach(R=>{const M=n.getBaseTarget(R),B=n.getValue(R);B&&(B.liveStyle=!0),S[R]=M??null}),g.push({animation:S})}let A=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(g):Promise.resolve()}function u(c,d){var m;if(t[c].isActive===d)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(v=>{var E;return(E=v.animationState)===null||E===void 0?void 0:E.setActive(c,d)}),t[c].isActive=d;const g=a(c);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:s,getState:()=>t,reset:()=>{t=FT(),i=!0}}}function b5(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!YA(e,n):!1}function ro(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FT(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}class Ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class C5 extends Ps{constructor(e){super(e),e.animationState||(e.animationState=A5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ep(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let P5=0;class R5 extends Ps{constructor(){super(...arguments),this.id=P5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const k5={animation:{Feature:C5},exit:{Feature:R5}};function uc(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Mc(n){return{point:{x:n.pageX,y:n.pageY}}}const D5=n=>e=>jv(e)&&n(e,Mc(e));function Uu(n,e,t,i){return uc(n,e,D5(t),i)}const jT=(n,e)=>Math.abs(n-e);function M5(n,e){const t=jT(n.x,e.x),i=jT(n.y,e.y);return Math.sqrt(t**2+i**2)}class Nb{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=sg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,E=M5(g.offset,{x:0,y:0})>=3;if(!v&&!E)return;const{point:x}=g,{timestamp:A}=$t;this.history.push({...x,timestamp:A});const{onStart:S,onMove:R}=this.handlers;v||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=rg(v,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:E,onSessionEnd:x,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=sg(g.type==="pointercancel"?this.lastMoveEventInfo:rg(v,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,S),x&&x(g,S)},!jv(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const a=Mc(e),u=rg(a,this.transformPagePoint),{point:c}=u,{timestamp:d}=$t;this.history=[{...c,timestamp:d}];const{onSessionStart:m}=t;m&&m(e,sg(u,this.history)),this.removeListeners=Dc(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xs(this.updatePoint)}}function rg(n,e){return e?{point:e(n.point)}:n}function BT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function sg({point:n},e){return{point:n,delta:BT(n,Fb(e)),offset:BT(n,O5(e)),velocity:V5(e,.1)}}function O5(n){return n[0]}function Fb(n){return n[n.length-1]}function V5(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=Fb(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>yr(e)));)t--;if(!i)return{x:0,y:0};const s=vr(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const jb=1e-4,L5=1-jb,N5=1+jb,Bb=.01,F5=0-Bb,j5=0+Bb;function Vn(n){return n.max-n.min}function B5(n,e,t){return Math.abs(n-e)<=t}function UT(n,e,t,i=.5){n.origin=i,n.originPoint=ct(e.min,e.max,n.origin),n.scale=Vn(t)/Vn(e),n.translate=ct(t.min,t.max,n.origin)-n.originPoint,(n.scale>=L5&&n.scale<=N5||isNaN(n.scale))&&(n.scale=1),(n.translate>=F5&&n.translate<=j5||isNaN(n.translate))&&(n.translate=0)}function zu(n,e,t,i){UT(n.x,e.x,t.x,i?i.originX:void 0),UT(n.y,e.y,t.y,i?i.originY:void 0)}function zT(n,e,t){n.min=t.min+e.min,n.max=n.min+Vn(e)}function U5(n,e,t){zT(n.x,e.x,t.x),zT(n.y,e.y,t.y)}function $T(n,e,t){n.min=e.min-t.min,n.max=n.min+Vn(e)}function $u(n,e,t){$T(n.x,e.x,t.x),$T(n.y,e.y,t.y)}function z5(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ct(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ct(t,n,i.max):Math.min(n,t)),n}function WT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function $5(n,{top:e,left:t,bottom:i,right:r}){return{x:WT(n.x,t,r),y:WT(n.y,e,i)}}function HT(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function W5(n,e){return{x:HT(n.x,e.x),y:HT(n.y,e.y)}}function H5(n,e){let t=.5;const i=Vn(n),r=Vn(e);return r>i?t=Za(e.min,e.max-i,n.min):i>r&&(t=Za(n.min,n.max-r,e.min)),Ir(0,1,t)}function q5(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const oy=.35;function K5(n=oy){return n===!1?n=0:n===!0&&(n=oy),{x:qT(n,"left","right"),y:qT(n,"top","bottom")}}function qT(n,e,t){return{min:KT(n,e),max:KT(n,t)}}function KT(n,e){return typeof n=="number"?n:n[e]||0}const GT=()=>({translate:0,scale:1,origin:0,originPoint:0}),La=()=>({x:GT(),y:GT()}),YT=()=>({min:0,max:0}),gt=()=>({x:YT(),y:YT()});function Gn(n){return[n("x"),n("y")]}function Ub({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function G5({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Y5(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function og(n){return n===void 0||n===1}function ay({scale:n,scaleX:e,scaleY:t}){return!og(n)||!og(e)||!og(t)}function ho(n){return ay(n)||zb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zb(n){return XT(n.x)||XT(n.y)}function XT(n){return n&&n!=="0%"}function yf(n,e,t){const i=n-t,r=e*i;return t+r}function QT(n,e,t,i,r){return r!==void 0&&(n=yf(n,r,i)),yf(n,t,i)+e}function ly(n,e=0,t=1,i,r){n.min=QT(n.min,e,t,i,r),n.max=QT(n.max,e,t,i,r)}function $b(n,{x:e,y:t}){ly(n.x,e.translate,e.scale,e.originPoint),ly(n.y,t.translate,t.scale,t.originPoint)}const JT=.999999999999,ZT=1.0000000000001;function X5(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let u=0;u<r;u++){s=t[u],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Fa(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,$b(n,a)),i&&ho(s.latestValues)&&Fa(n,s.latestValues))}e.x<ZT&&e.x>JT&&(e.x=1),e.y<ZT&&e.y>JT&&(e.y=1)}function Na(n,e){n.min=n.min+e,n.max=n.max+e}function ex(n,e,t,i,r=.5){const s=ct(n.min,n.max,r);ly(n,e,t,s,i)}function Fa(n,e){ex(n.x,e.x,e.scaleX,e.scale,e.originX),ex(n.y,e.y,e.scaleY,e.scale,e.originY)}function Wb(n,e){return Ub(Y5(n.getBoundingClientRect(),e))}function Q5(n,e,t){const i=Wb(n,t),{scroll:r}=e;return r&&(Na(i.x,r.offset.x),Na(i.y,r.offset.y)),i}const Hb=({current:n})=>n?n.ownerDocument.defaultView:null,J5=new WeakMap;class Z5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Mc(m).point)},s=(m,g)=>{const{drag:v,dragPropagation:E,onDragStart:x}=this.getProps();if(v&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HF(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(S=>{let R=this.getAxisMotionValue(S).get()||0;if(Bi.test(R)){const{projection:M}=this.visualElement;if(M&&M.layout){const B=M.layout.layoutBox[S];B&&(R=Vn(B)*(parseFloat(R)/100))}}this.originPoint[S]=R}),x&&rt.postRender(()=>x(m,g)),Jg(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:v,dragDirectionLock:E,onDirectionLock:x,onDrag:A}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=g;if(E&&this.currentDirection===null){this.currentDirection=e3(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),A&&A(m,g)},u=(m,g)=>this.stop(m,g),c=()=>Gn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Nb(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Hb(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&rt.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!ad(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=z5(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Oa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=$5(r.layoutBox,t):this.constraints=!1,this.elastic=K5(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=q5(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Oa(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Q5(i,r.root,this.visualElement.getTransformPagePoint());let a=W5(r.layout.layoutBox,s);if(t){const u=t(G5(a));this.hasMutatedConstraints=!!u,u&&(a=Ub(u))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},d=Gn(m=>{if(!ad(m,t,this.currentDirection))return;let g=c&&c[m]||{};a&&(g={min:0,max:0});const v=r?200:1e6,E=r?40:1e7,x={type:"inertia",velocity:i?e[m]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(d).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Jg(this.visualElement,e),i.start(Qv(e,i,0,t,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Gn(t=>{const{drag:i}=this.getProps();if(!ad(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:u}=r.layout.layoutBox[t];s.set(e[t]-ct(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Oa(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Gn(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const c=u.get();r[a]=H5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Gn(a=>{if(!ad(a,e,null))return;const u=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];u.set(ct(c,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;J5.set(this.visualElement,this);const e=this.visualElement.current,t=Uu(e,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();Oa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),rt.read(i);const a=uc(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Gn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=c[m].translate,g.set(g.get()+c[m].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=oy,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:u}}}function ad(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function e3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class t3 extends Ps{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new Z5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const tx=n=>(e,t)=>{n&&rt.postRender(()=>n(e,t))};class n3 extends Ps{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new Nb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:tx(e),onStart:tx(t),onMove:i,onEnd:(s,a)=>{delete this.session,r&&rt.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const fu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const t=nx(n,e.target.x),i=nx(n,e.target.y);return`${t}% ${i}%`}},i3={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Ss.parse(n);if(r.length>5)return i;const s=Ss.createTransformer(n),a=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,c=t.y.scale*e.y;r[0+a]/=u,r[1+a]/=c;const d=ct(u,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=d),typeof r[3+a]=="number"&&(r[3+a]/=d),s(r)}};class r3 extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;SF(s3),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||rt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Av.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qb(n){const[e,t]=jN(),i=U.useContext(CA);return $.jsx(r3,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(LA),isPresent:e,safeToRemove:t})}const s3={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:i3};function o3(n,e,t){const i=rn(n)?n:ac(n);return i.start(Qv("",i,e,t)),i.animation}function a3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const l3=(n,e)=>n.depth-e.depth;class u3{constructor(){this.children=[],this.isDirty=!1}add(e){Bv(this.children,e),this.isDirty=!0}remove(e){Uv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(l3),this.isDirty=!1,this.children.forEach(e)}}function c3(n,e){const t=Ui.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(xs(i),n(s-e))};return rt.read(i,!0),()=>xs(i)}const Kb=["TopLeft","TopRight","BottomLeft","BottomRight"],h3=Kb.length,ix=n=>typeof n=="string"?parseFloat(n):n,rx=n=>typeof n=="number"||Ee.test(n);function d3(n,e,t,i,r,s){r?(n.opacity=ct(0,t.opacity!==void 0?t.opacity:1,f3(i)),n.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,p3(i))):s&&(n.opacity=ct(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let a=0;a<h3;a++){const u=`border${Kb[a]}Radius`;let c=sx(e,u),d=sx(t,u);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||rx(c)===rx(d)?(n[u]=Math.max(ct(ix(c),ix(d),i),0),(Bi.test(d)||Bi.test(c))&&(n[u]+="%")):n[u]=d}(e.rotate||t.rotate)&&(n.rotate=ct(e.rotate||0,t.rotate||0,i))}function sx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const f3=Gb(0,.5,db),p3=Gb(.5,.95,On);function Gb(n,e,t){return i=>i<n?0:i>e?1:t(Za(n,e,i))}function ox(n,e){n.min=e.min,n.max=e.max}function qn(n,e){ox(n.x,e.x),ox(n.y,e.y)}function ax(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function lx(n,e,t,i,r){return n-=e,n=yf(n,1/t,i),r!==void 0&&(n=yf(n,1/r,i)),n}function m3(n,e=0,t=1,i=.5,r,s=n,a=n){if(Bi.test(e)&&(e=parseFloat(e),e=ct(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=ct(s.min,s.max,i);n===s&&(u-=e),n.min=lx(n.min,e,t,u,r),n.max=lx(n.max,e,t,u,r)}function ux(n,e,[t,i,r],s,a){m3(n,e[t],e[i],e[r],e.scale,s,a)}const g3=["x","scaleX","originX"],y3=["y","scaleY","originY"];function cx(n,e,t,i){ux(n.x,e,g3,t?t.x:void 0,i?i.x:void 0),ux(n.y,e,y3,t?t.y:void 0,i?i.y:void 0)}function hx(n){return n.translate===0&&n.scale===1}function Yb(n){return hx(n.x)&&hx(n.y)}function dx(n,e){return n.min===e.min&&n.max===e.max}function v3(n,e){return dx(n.x,e.x)&&dx(n.y,e.y)}function fx(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Xb(n,e){return fx(n.x,e.x)&&fx(n.y,e.y)}function px(n){return Vn(n.x)/Vn(n.y)}function mx(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class _3{constructor(){this.members=[]}add(e){Bv(this.members,e),e.scheduleRender()}remove(e){if(Uv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w3(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:v,skewX:E,skewY:x}=t;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),E&&(i+=`skewX(${E}deg) `),x&&(i+=`skewY(${x}deg) `)}const u=n.x.scale*e.x,c=n.y.scale*e.y;return(u!==1||c!==1)&&(i+=`scale(${u}, ${c})`),i||"none"}const fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bu=typeof window<"u"&&window.MotionDebug!==void 0,ag=["","X","Y","Z"],E3={visibility:"hidden"},gx=1e3;let T3=0;function lg(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Qb(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=sb(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",rt,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Qb(i)}function Jb({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},u=e==null?void 0:e()){this.id=T3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bu&&(fo.totalNodes=fo.resolvedTargetDeltas=fo.recalculatedProjection=0),this.nodes.forEach(I3),this.nodes.forEach(R3),this.nodes.forEach(k3),this.nodes.forEach(A3),bu&&window.MotionDebug.record(fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new u3)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new zv),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const c=this.eventHandlers.get(a);c&&c.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=a3(a),this.instance=a;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(d||c)&&(this.isLayoutDirty=!0),n){let g;const v=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=c3(v,250),Nd.hasAnimatedSinceResize&&(Nd.hasAnimatedSinceResize=!1,this.nodes.forEach(vx))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||L3,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=m.getProps(),M=!this.targetLayout||!Xb(this.targetLayout,x)||E,B=!v&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,B);const q={...Lv(A,"layout"),onPlay:S,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else v||vx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D3),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yx);return}this.isUpdating||this.nodes.forEach(C3),this.isUpdating=!1,this.nodes.forEach(P3),this.nodes.forEach(x3),this.nodes.forEach(S3),this.clearAllSnapshots();const u=Ui.now();$t.delta=Ir(0,1e3/60,u-$t.timestamp),$t.timestamp=u,$t.isProcessing=!0,Zm.update.process($t),Zm.preRender.process($t),Zm.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Av.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b3),this.sharedNodes.forEach(M3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Yb(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;a&&(u||ho(this.latestValues)||m)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return a&&(c=this.removeTransform(c)),N3(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:u}=this.options;if(!u)return gt();const c=u.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(F3))){const{scroll:m}=this.root;m&&(Na(c.x,m.offset.x),Na(c.y,m.offset.y))}return c}removeElementScroll(a){var u;const c=gt();if(qn(c,a),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return c;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&qn(c,a),Na(c.x,g.offset.x),Na(c.y,g.offset.y))}return c}applyTransform(a,u=!1){const c=gt();qn(c,a);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Fa(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ho(m.latestValues)&&Fa(c,m.latestValues)}return ho(this.latestValues)&&Fa(c,this.latestValues),c}removeTransform(a){const u=gt();qn(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ho(d.latestValues))continue;ay(d.latestValues)&&d.updateSnapshot();const m=gt(),g=d.measurePageBox();qn(m,g),cx(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return ho(this.latestValues)&&cx(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),$u(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),$b(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),$u(this.relativeTargetOrigin,this.target,E.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bu&&fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ay(this.parent.latestValues)||zb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;qn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;X5(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ax(this.prevProjectionDelta.x,this.projectionDelta.x),ax(this.prevProjectionDelta.y,this.projectionDelta.y)),zu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),bu&&fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=La(),this.projectionDelta=La(),this.projectionDeltaWithTransform=La()}setAnimationOrigin(a,u=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},g=La();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=gt(),E=c?c.source:void 0,x=this.layout?this.layout.source:void 0,A=E!==x,S=this.getStack(),R=!S||S.members.length<=1,M=!!(A&&!R&&this.options.crossfade===!0&&!this.path.some(V3));this.animationProgress=0;let B;this.mixTargetDelta=q=>{const Y=q/1e3;_x(g.x,a.x,Y),_x(g.y,a.y,Y),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($u(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O3(this.relativeTarget,this.relativeTargetOrigin,v,Y),B&&v3(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=gt()),qn(B,this.relativeTarget)),A&&(this.animationValues=m,d3(m,d,this.latestValues,Y,M,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{Nd.hasAnimatedSinceResize=!0,this.currentAnimation=o3(0,gx,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:c,layout:d,latestValues:m}=a;if(!(!u||!c||!d)){if(this!==a&&this.layout&&d&&Zb(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||gt();const g=Vn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+g;const v=Vn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+v}qn(u,c),Fa(u,m),zu(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new _3),this.sharedNodes.get(a).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const d={};c.z&&lg("z",a,d,this.animationValues);for(let m=0;m<ag.length;m++)lg(`rotate${ag[m]}`,a,d,this.animationValues),lg(`skew${ag[m]}`,a,d,this.animationValues);a.render();for(const m in d)a.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);a.scheduleRender()}getProjectionStyles(a){var u,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return E3;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Vd(a==null?void 0:a.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Vd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=w3(this.projectionDeltaWithTransform,this.treeScale,v),m&&(d.transform=m(v,d.transform));const{x:E,y:x}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,g.animationValues?d.opacity=g===this?(c=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in df){if(v[A]===void 0)continue;const{correct:S,applyTo:R}=df[A],M=d.transform==="none"?v[A]:S(v[A],g);if(R){const B=R.length;for(let q=0;q<B;q++)d[R[q]]=M}else d[A]=M}return this.options.layoutId&&(d.pointerEvents=g===this?Vd(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(yx),this.root.sharedNodes.clear()}}}function x3(n){n.updateLayout()}function S3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?Gn(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],E=Vn(v);v.min=i[g].min,v.max=v.min+E}):Zb(s,t.layoutBox,i)&&Gn(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],E=Vn(i[g]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+E)});const u=La();zu(u,i,t.layoutBox);const c=La();a?zu(c,n.applyTransform(r,!0),t.measuredBox):zu(c,i,t.layoutBox);const d=!Yb(u);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:E}=g;if(v&&E){const x=gt();$u(x,t.layoutBox,v.layoutBox);const A=gt();$u(A,i,E.layoutBox),Xb(x,A)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=x,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function I3(n){bu&&fo.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function A3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function b3(n){n.clearSnapshot()}function yx(n){n.clearMeasurements()}function C3(n){n.isLayoutDirty=!1}function P3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function vx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function R3(n){n.resolveTargetDelta()}function k3(n){n.calcProjection()}function D3(n){n.resetSkewAndRotation()}function M3(n){n.removeLeadSnapshot()}function _x(n,e,t){n.translate=ct(e.translate,0,t),n.scale=ct(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function wx(n,e,t,i){n.min=ct(e.min,t.min,i),n.max=ct(e.max,t.max,i)}function O3(n,e,t,i){wx(n.x,e.x,t.x,i),wx(n.y,e.y,t.y,i)}function V3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const L3={duration:.45,ease:[.4,0,.1,1]},Ex=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Tx=Ex("applewebkit/")&&!Ex("chrome/")?Math.round:On;function xx(n){n.min=Tx(n.min),n.max=Tx(n.max)}function N3(n){xx(n.x),xx(n.y)}function Zb(n,e,t){return n==="position"||n==="preserve-aspect"&&!B5(px(e),px(t),.2)}function F3(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const j3=Jb({attachResizeListener:(n,e)=>uc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ug={current:void 0},eC=Jb({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ug.current){const n=new j3({});n.mount(window),n.setOptions({layoutScroll:!0}),ug.current=n}return ug.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),B3={pan:{Feature:n3},drag:{Feature:t3,ProjectionNode:eC,MeasureLayout:qb}};function Sx(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&rt.postRender(()=>s(e,Mc(e)))}class U3 extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=BF(e,t=>(Sx(this.node,t,"Start"),i=>Sx(this.node,i,"End"))))}unmount(){}}class z3 extends Ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dc(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ix(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&rt.postRender(()=>s(e,Mc(e)))}class $3 extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=WF(e,t=>(Ix(this.node,t,"Start"),(i,{success:r})=>Ix(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uy=new WeakMap,cg=new WeakMap,W3=n=>{const e=uy.get(n.target);e&&e(n)},H3=n=>{n.forEach(W3)};function q3({root:n,...e}){const t=n||document;cg.has(t)||cg.set(t,{});const i=cg.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(H3,{root:n,...e})),i[r]}function K3(n,e,t){const i=q3(e);return uy.set(n,t),i.observe(n),()=>{uy.delete(n),i.unobserve(n)}}const G3={some:0,all:1};class Y3 extends Ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:G3[r]},u=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(c)};return K3(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(X3(e,t))&&this.startObserver()}unmount(){}}function X3({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Q3={inView:{Feature:Y3},tap:{Feature:$3},focus:{Feature:z3},hover:{Feature:U3}},J3={layout:{ProjectionNode:eC,MeasureLayout:qb}},cy={current:null},tC={current:!1};function Z3(){if(tC.current=!0,!!Ev)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>cy.current=n.matches;n.addListener(e),e()}else cy.current=!1}const ej=[...Ab,en,Ss],tj=n=>ej.find(Ib(n)),Ax=new WeakMap;function nj(n,e,t){for(const i in e){const r=e[i],s=t[i];if(rn(r))n.addValue(i,r);else if(rn(s))n.addValue(i,ac(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=n.getStaticValue(i);n.addValue(i,ac(a!==void 0?a:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const bx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ij{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Ui.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,rt.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:m}=a;this.onUpdate=m,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=tp(t),this.isVariantNode=OA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in v){const x=v[E];c[E]!==void 0&&rn(x)&&x.set(c[E],!1)}}mount(e){this.current=e,Ax.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),tC.current||Z3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ax.delete(this.current),this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Mo.has(e),r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const t=el[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<bx.length;i++){const r=bx[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=nj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=ac(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xb(r)||pb(r))?r=parseFloat(r):!tj(r)&&Ss.test(t)&&(r=wb(e,t)),this.setBaseTarget(e,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=Cv(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(r=a[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new zv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nC extends ij{constructor(){super(...arguments),this.KeyframeResolver=bb}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function rj(n){return window.getComputedStyle(n)}class sj extends nC{constructor(){super(...arguments),this.type="html",this.renderInstance=$A}readValueFromInstance(e,t){if(Mo.has(t)){const i=Kv(t);return i&&i.default||0}else{const i=rj(e),r=(BA(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Wb(e,t)}build(e,t,i){kv(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Vv(e,t,i)}}class oj extends nC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mo.has(t)){const i=Kv(t);return i&&i.default||0}return t=WA.has(t)?t:Iv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return KA(e,t,i)}build(e,t,i){Dv(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){HA(e,t,i,r)}mount(e){this.isSVGTag=Ov(e.tagName),super.mount(e)}}const aj=(n,e)=>bv(n)?new oj(e):new sj(e,{allowProjection:n!==U.Fragment}),lj=MF({...k5,...Q3,...B3,...J3},aj),qe=GN(lj),Cx=(n,e,t,i)=>{n.style.transition=`${e} ${t}ms ${i}`},hr=(n,e,t)=>Math.min(Math.max(n,e),t);class uj{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=a=>{const{width:u,height:c}=a,d=Math.sqrt(u**2+c**2);return{width:d,height:d}},this.setSize=a=>{const u=this.calculateGlareSize(a);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(a,u,c,d)=>{this.updateAngle(a,u.glareReverse),this.updateOpacity(a,u,c,d)},this.updateAngle=(a,u)=>{const{xPercentage:c,yPercentage:d}=a,m=180/Math.PI,g=c?Math.atan2(d,-c)*m:0;this.glareAngle=g-(u?180:0)},this.updateOpacity=(a,u,c,d)=>{const{xPercentage:m,yPercentage:g}=a,{glarePosition:v,glareReverse:E,glareMaxOpacity:x}=u,A=c?-1:1,S=d?-1:1,R=E?-1:1;let M=0;switch(v){case"top":M=-m*A*R;break;case"right":M=g*S*R;break;case"bottom":case void 0:M=m*A*R;break;case"left":M=-g*S*R;break;case"all":M=Math.hypot(m,g)}const B=hr(M,0,100);this.glareOpacity=B*x/100},this.render=a=>{const{glareColor:u}=a;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,s)}}class cj{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:i,yPercentage:r}=e,{tiltMaxAngleX:s,tiltMaxAngleY:a}=t;this.tiltAngleX=i*s/100,this.tiltAngleY=r*a/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:i,tiltAngleYManual:r,tiltMaxAngleX:s,tiltMaxAngleY:a}=t;(i!==null||r!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=r!==null?r:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/a)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=hr(this.tiltAngleX,-90,90),this.tiltAngleY=hr(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:i}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const hj={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class Jv extends U.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t({event:e}),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":{const{tiltAngleXInitial:i,tiltAngleYInitial:r,tiltMaxAngleX:s,tiltMaxAngleY:a}=this.props,u=r/a*100;this.wrapperEl.clientPosition.xPercentage=hr(i/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=hr(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:i}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/i*100,this.wrapperEl.clientPosition.xPercentage=hr(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=hr(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:i,flipHorizontally:r}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,i;if(e){const{x:r,y:s}=this.wrapperEl.clientPosition;t=s/window.innerHeight*200-100,i=r/window.innerWidth*200-100}else{const{size:{width:r,height:s,left:a,top:u},clientPosition:{x:c,y:d}}=this.wrapperEl;t=(d-u)/s*200-100,i=(c-a)/r*200-100}this.wrapperEl.clientPosition.xPercentage=hr(t,-100,100),this.wrapperEl.clientPosition.yPercentage=hr(i,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new cj,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new uj(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let i=0,r=0;this.glare&&(i=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:r,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;Cx(this.wrapperEl.node,"all",e,t),this.glare&&Cx(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:i}=this.props;return $.jsx("div",{ref:r=>{this.wrapperEl.node=r},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:i,children:e})}}Jv.defaultProps=hj;const dj=()=>{const n=Po(),{colors:e}=br(),[t,i]=U.useState(""),[r,s]=U.useState(""),[a,u]=U.useState(""),[c,d]=U.useState(!1),m=async E=>{E.preventDefault(),u(""),d(!0);try{await rM(Pc,t,r),n("/courses")}catch(x){switch(console.error("Sign in error:",x),x.code){case"auth/invalid-email":u("Invalid email address");break;case"auth/user-disabled":u("This account has been disabled");break;case"auth/user-not-found":u("No account found with this email");break;case"auth/wrong-password":u("Incorrect password");break;default:u("Failed to sign in. Please try again.")}}finally{d(!1)}},[g,v]=U.useState(!1);return $.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{minHeight:"100vh",backgroundColor:e.background,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Outfit', sans-serif",padding:"24px"},children:$.jsx(Jv,{tiltMaxAngleX:5,tiltMaxAngleY:5,perspective:1e3,glareEnable:!0,glareMaxOpacity:.1,glareColor:"#1a237e",glarePosition:"all",glareBorderRadius:"16px",children:$.jsxs(qe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},style:{backgroundColor:e.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"400px",width:"100%",textAlign:"center"},children:[$.jsx(qe.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},src:"/IpBeep/IPBeep_Blue.png",alt:"IPBeep Logo",style:{width:"200px",height:"auto",marginBottom:"20px"}}),$.jsx(qe.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.3},style:{fontFamily:"'Outfit', sans-serif",fontWeight:700,color:e.text,fontSize:"2rem",marginBottom:"16px",marginTop:0},children:"Sign In"}),$.jsx(qe.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.4},style:{fontFamily:"'Outfit', sans-serif",color:e.textSecondary,fontSize:"1rem",marginBottom:"24px"},children:"Sign in with your credentials"}),a&&$.jsx(qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},style:{color:"#dc3545",backgroundColor:"rgba(220, 53, 69, 0.1)",padding:"12px",borderRadius:"8px",marginBottom:"16px",width:"100%",fontSize:"0.9rem"},children:a}),$.jsxs(qe.form,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.5},onSubmit:m,style:{width:"100%"},children:[$.jsx(qe.input,{whileFocus:{scale:1.02},type:"email",placeholder:"Email",value:t,onChange:E=>i(E.target.value),required:!0,style:{width:"90%",padding:"12px",marginBottom:"16px",border:`1px solid ${e.border}`,borderRadius:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",backgroundColor:e.inputBackground,color:e.text,outline:"none",transition:"all 0.3s ease",margin:"0 auto 16px auto"}}),$.jsx(qe.input,{whileFocus:{scale:1.02},type:"password",placeholder:"Password",value:r,onChange:E=>s(E.target.value),required:!0,style:{width:"90%",padding:"12px",marginBottom:"24px",border:`1px solid ${e.border}`,borderRadius:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",backgroundColor:e.inputBackground,color:e.text,outline:"none",transition:"all 0.3s ease",margin:"0 auto 24px auto"}}),$.jsx(qe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c,style:{width:"80%",padding:"12px",backgroundColor:c?"#6c757d":"#1a237e",color:"#fff",border:"none",borderRadius:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",fontWeight:600,cursor:c?"not-allowed":"pointer",transition:"all 0.3s ease",opacity:c?.7:1},children:c?"Signing in...":"Sign In"})]})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Oc(n){return n+.5|0}const ls=(n,e,t)=>Math.max(Math.min(n,t),e);function Cu(n){return ls(Oc(n*2.55),0,255)}function gs(n){return ls(Oc(n*255),0,255)}function dr(n){return ls(Oc(n/2.55)/100,0,1)}function Px(n){return ls(Oc(n*100),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hy=[..."0123456789ABCDEF"],fj=n=>hy[n&15],pj=n=>hy[(n&240)>>4]+hy[n&15],ld=n=>(n&240)>>4===(n&15),mj=n=>ld(n.r)&&ld(n.g)&&ld(n.b)&&ld(n.a);function gj(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Kn[n[1]]*17,g:255&Kn[n[2]]*17,b:255&Kn[n[3]]*17,a:e===5?Kn[n[4]]*17:255}:(e===7||e===9)&&(t={r:Kn[n[1]]<<4|Kn[n[2]],g:Kn[n[3]]<<4|Kn[n[4]],b:Kn[n[5]]<<4|Kn[n[6]],a:e===9?Kn[n[7]]<<4|Kn[n[8]]:255})),t}const yj=(n,e)=>n<255?e(n):"";function vj(n){var e=mj(n)?fj:pj;return n?"#"+e(n.r)+e(n.g)+e(n.b)+yj(n.a,e):void 0}const _j=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iC(n,e,t){const i=e*Math.min(t,1-t),r=(s,a=(s+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function wj(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Ej(n,e,t){const i=iC(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function Tj(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function Zv(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),a=Math.min(t,i,r),u=(s+a)/2;let c,d,m;return s!==a&&(m=s-a,d=u>.5?m/(2-s-a):m/(s+a),c=Tj(t,i,r,m,s),c=c*60+.5),[c|0,d||0,u]}function e_(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(gs)}function t_(n,e,t){return e_(iC,n,e,t)}function xj(n,e,t){return e_(Ej,n,e,t)}function Sj(n,e,t){return e_(wj,n,e,t)}function rC(n){return(n%360+360)%360}function Ij(n){const e=_j.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Cu(+e[5]):gs(+e[5]));const r=rC(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=xj(r,s,a):e[1]==="hsv"?i=Sj(r,s,a):i=t_(r,s,a),{r:i[0],g:i[1],b:i[2],a:t}}function Aj(n,e){var t=Zv(n);t[0]=rC(t[0]+e),t=t_(t),n.r=t[0],n.g=t[1],n.b=t[2]}function bj(n){if(!n)return;const e=Zv(n),t=e[0],i=Px(e[1]),r=Px(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${dr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Rx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Cj(){const n={},e=Object.keys(kx),t=Object.keys(Rx);let i,r,s,a,u;for(i=0;i<e.length;i++){for(a=u=e[i],r=0;r<t.length;r++)s=t[r],u=u.replace(s,Rx[s]);s=parseInt(kx[a],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let ud;function Pj(n){ud||(ud=Cj(),ud.transparent=[0,0,0,0]);const e=ud[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Rj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kj(n){const e=Rj.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?Cu(a):ls(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Cu(i):ls(i,0,255)),r=255&(e[4]?Cu(r):ls(r,0,255)),s=255&(e[6]?Cu(s):ls(s,0,255)),{r:i,g:r,b:s,a:t}}}function Dj(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${dr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const hg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ba=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Mj(n,e,t){const i=ba(dr(n.r)),r=ba(dr(n.g)),s=ba(dr(n.b));return{r:gs(hg(i+t*(ba(dr(e.r))-i))),g:gs(hg(r+t*(ba(dr(e.g))-r))),b:gs(hg(s+t*(ba(dr(e.b))-s))),a:n.a+t*(e.a-n.a)}}function cd(n,e,t){if(n){let i=Zv(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=t_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function sC(n,e){return n&&Object.assign(e||{},n)}function Dx(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=gs(n[3]))):(e=sC(n,{r:0,g:0,b:0,a:1}),e.a=gs(e.a)),e}function Oj(n){return n.charAt(0)==="r"?kj(n):Ij(n)}class cc{constructor(e){if(e instanceof cc)return e;const t=typeof e;let i;t==="object"?i=Dx(e):t==="string"&&(i=gj(e)||Pj(e)||Oj(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=sC(this._rgb);return e&&(e.a=dr(e.a)),e}set rgb(e){this._rgb=Dx(e)}rgbString(){return this._valid?Dj(this._rgb):void 0}hexString(){return this._valid?vj(this._rgb):void 0}hslString(){return this._valid?bj(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,u=2*a-1,c=i.a-r.a,d=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Mj(this._rgb,e._rgb,t)),this}clone(){return new cc(this.rgb)}alpha(e){return this._rgb.a=gs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Oc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cd(this._rgb,2,e),this}darken(e){return cd(this._rgb,2,-e),this}saturate(e){return cd(this._rgb,1,e),this}desaturate(e){return cd(this._rgb,1,-e),this}rotate(e){return Aj(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function lr(){}const Vj=(()=>{let n=0;return()=>n++})();function sn(n){return n==null}function qt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ar(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ki(n,e){return Ar(n)?n:e}function Xe(n,e){return typeof n>"u"?e:n}const Lj=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,oC=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function nt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ye(n,e,t,i){let r,s,a;if(qt(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(He(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)e.call(t,n[a[r]],a[r])}function vf(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function _f(n){if(qt(n))return n.map(_f);if(He(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=_f(n[t[r]]);return e}return n}function aC(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Nj(n,e,t,i){if(!aC(n))return;const r=e[n],s=t[n];He(r)&&He(s)?hc(r,s,i):e[n]=_f(s)}function hc(n,e,t){const i=qt(e)?e:[e],r=i.length;if(!He(n))return n;t=t||{};const s=t.merger||Nj;let a;for(let u=0;u<r;++u){if(a=i[u],!He(a))continue;const c=Object.keys(a);for(let d=0,m=c.length;d<m;++d)s(c[d],n,a,t)}return n}function Wu(n,e){return hc(n,e,{merger:Fj})}function Fj(n,e,t){if(!aC(n))return;const i=e[n],r=t[n];He(i)&&He(r)?Wu(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=_f(r))}const Mx={"":n=>n,x:n=>n.x,y:n=>n.y};function jj(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Bj(n){const e=jj(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function dc(n,e){return(Mx[e]||(Mx[e]=Bj(e)))(n)}function n_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wf=n=>typeof n<"u",Is=n=>typeof n=="function",Ox=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Uj(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Nt=Math.PI,xt=2*Nt,Ef=Number.POSITIVE_INFINITY,zj=Nt/180,Pt=Nt/2,so=Nt/4,Vx=Nt*2/3,Lx=Math.sign;function $j(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function Wj(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Tf(n){return!Wj(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function vo(n){return n*(Nt/180)}function Hj(n){return n*(180/Nt)}function lC(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Nt&&(s+=xt),{angle:s,distance:r}}function qj(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function oo(n){return(n%xt+xt)%xt}function xf(n,e,t,i){const r=oo(n),s=oo(e),a=oo(t),u=oo(s-r),c=oo(a-r),d=oo(r-s),m=oo(r-a);return r===s||r===a||i&&s===a||u>c&&d<m}function Yn(n,e,t){return Math.max(e,Math.min(t,n))}function Kj(n){return Yn(n,-32768,32767)}function Pu(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function i_(n,e,t){t=t||(a=>n[a]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const dy=(n,e,t,i)=>i_(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),Gj=(n,e,t)=>i_(n,t,i=>n[i][e]>=t);function Yj(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const uC=["push","pop","shift","splice","unshift"];function Xj(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uC.forEach(t=>{const i="_onData"+n_(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...s)}),a}})})}function Nx(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(uC.forEach(s=>{delete n[s]}),delete n._chartjs)}function Qj(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const cC=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function hC(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,cC.call(window,()=>{i=!1,n.apply(e,t)}))}}function Jj(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const dC=n=>n==="start"?"left":n==="end"?"right":"center",Dn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Zj=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,hd=n=>n===0||n===1,Fx=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*xt/t)),jx=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*xt/t)+1,Hu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Pt)+1,easeOutSine:n=>Math.sin(n*Pt),easeInOutSine:n=>-.5*(Math.cos(Nt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>hd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>hd(n)?n:Fx(n,.075,.3),easeOutElastic:n=>hd(n)?n:jx(n,.075,.3),easeInOutElastic(n){return hd(n)?n:n<.5?.5*Fx(n*2,.1125,.45):.5+.5*jx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Hu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Hu.easeInBounce(n*2)*.5:Hu.easeOutBounce(n*2-1)*.5+.5};function fC(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bx(n){return fC(n)?n:new cc(n)}function dg(n){return fC(n)?n:new cc(n).saturate(.5).darken(.1).hexString()}const e6=["x","y","borderWidth","radius","tension"],t6=["color","borderColor","backgroundColor"];function n6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:t6},numbers:{type:"number",properties:e6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function i6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ux=new Map;function r6(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Ux.get(t);return i||(i=new Intl.NumberFormat(n,e),Ux.set(t,i)),i}function s6(n,e,t){return r6(e,t).format(n)}const o6={values(n){return qt(n)?n:""+n}};var a6={formatters:o6};function l6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:a6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bo=Object.create(null),fy=Object.create(null);function qu(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function fg(n,e,t){return typeof e=="string"?hc(qu(n,e),t):hc(qu(n,""),e)}class u6{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>dg(r.backgroundColor),this.hoverBorderColor=(i,r)=>dg(r.borderColor),this.hoverColor=(i,r)=>dg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return fg(this,e,t)}get(e){return qu(this,e)}describe(e,t){return fg(fy,e,t)}override(e,t){return fg(bo,e,t)}route(e,t,i,r){const s=qu(this,e),a=qu(this,i),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[u],d=a[r];return He(c)?Object.assign({},d,c):Xe(c,d)},set(c){this[u]=c}}})}apply(e){e.forEach(t=>t(this))}}var vt=new u6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[n6,i6,l6]);function c6(n){return!n||sn(n.size)||sn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function zx(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function ao(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function $x(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Wx(n,e,t,i){pC(n,e,t,i,null)}function pC(n,e,t,i,r){let s,a,u,c,d,m,g,v;const E=e.pointStyle,x=e.rotation,A=e.radius;let S=(x||0)*zj;if(E&&typeof E=="object"&&(s=E.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(S),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),E){default:r?n.ellipse(t,i,r/2,A,0,0,xt):n.arc(t,i,A,0,xt),n.closePath();break;case"triangle":m=r?r/2:A,n.moveTo(t+Math.sin(S)*m,i-Math.cos(S)*A),S+=Vx,n.lineTo(t+Math.sin(S)*m,i-Math.cos(S)*A),S+=Vx,n.lineTo(t+Math.sin(S)*m,i-Math.cos(S)*A),n.closePath();break;case"rectRounded":d=A*.516,c=A-d,a=Math.cos(S+so)*c,g=Math.cos(S+so)*(r?r/2-d:c),u=Math.sin(S+so)*c,v=Math.sin(S+so)*(r?r/2-d:c),n.arc(t-g,i-u,d,S-Nt,S-Pt),n.arc(t+v,i-a,d,S-Pt,S),n.arc(t+g,i+u,d,S,S+Pt),n.arc(t-v,i+a,d,S+Pt,S+Nt),n.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*A,m=r?r/2:c,n.rect(t-m,i-c,2*m,2*c);break}S+=so;case"rectRot":g=Math.cos(S)*(r?r/2:A),a=Math.cos(S)*A,u=Math.sin(S)*A,v=Math.sin(S)*(r?r/2:A),n.moveTo(t-g,i-u),n.lineTo(t+v,i-a),n.lineTo(t+g,i+u),n.lineTo(t-v,i+a),n.closePath();break;case"crossRot":S+=so;case"cross":g=Math.cos(S)*(r?r/2:A),a=Math.cos(S)*A,u=Math.sin(S)*A,v=Math.sin(S)*(r?r/2:A),n.moveTo(t-g,i-u),n.lineTo(t+g,i+u),n.moveTo(t+v,i-a),n.lineTo(t-v,i+a);break;case"star":g=Math.cos(S)*(r?r/2:A),a=Math.cos(S)*A,u=Math.sin(S)*A,v=Math.sin(S)*(r?r/2:A),n.moveTo(t-g,i-u),n.lineTo(t+g,i+u),n.moveTo(t+v,i-a),n.lineTo(t-v,i+a),S+=so,g=Math.cos(S)*(r?r/2:A),a=Math.cos(S)*A,u=Math.sin(S)*A,v=Math.sin(S)*(r?r/2:A),n.moveTo(t-g,i-u),n.lineTo(t+g,i+u),n.moveTo(t+v,i-a),n.lineTo(t-v,i+a);break;case"line":a=r?r/2:Math.cos(S)*A,u=Math.sin(S)*A,n.moveTo(t-a,i-u),n.lineTo(t+a,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(S)*(r?r/2:A),i+Math.sin(S)*A);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function mC(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function r_(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function s_(n){n.restore()}function h6(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),sn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function d6(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,m=r.strikethrough?(c+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,m),n.lineTo(u,m),n.stroke()}}function f6(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Sf(n,e,t,i,r,s={}){const a=qt(e)?e:[e],u=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(n.save(),n.font=r.string,h6(n,s),c=0;c<a.length;++c)d=a[c],s.backdrop&&f6(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),sn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,i,s.maxWidth)),n.fillText(d,t,i,s.maxWidth),d6(n,t,i,d,s),i+=Number(r.lineHeight);n.restore()}function py(n,e){const{x:t,y:i,w:r,h:s,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,1.5*Nt,Nt,!0),n.lineTo(t,i+s-a.bottomLeft),n.arc(t+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,Nt,Pt,!0),n.lineTo(t+r-a.bottomRight,i+s),n.arc(t+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Pt,0,!0),n.lineTo(t+r,i+a.topRight),n.arc(t+r-a.topRight,i+a.topRight,a.topRight,0,-Pt,!0),n.lineTo(t+a.topLeft,i)}const p6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,m6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function g6(n,e){const t=(""+n).match(p6);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const y6=n=>+n||0;function o_(n,e){const t={},i=He(e),r=i?Object.keys(e):e,s=He(n)?i?a=>Xe(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of r)t[a]=y6(s(a));return t}function v6(n){return o_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ku(n){return o_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function yi(n){const e=v6(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Sn(n,e){n=n||{},e=e||vt.font;let t=Xe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Xe(n.style,e.style);i&&!(""+i).match(m6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Xe(n.family,e.family),lineHeight:g6(Xe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Xe(n.weight,e.weight),string:""};return r.string=c6(r),r}function dd(n,e,t,i){let r,s,a;for(r=0,s=n.length;r<s;++r)if(a=n[r],a!==void 0&&a!==void 0)return a}function _6(n,e,t){const{min:i,max:r}=n,s=oC(e,(r-i)/2),a=(u,c)=>t&&u===0?0:u+c;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function ml(n,e){return Object.assign(Object.create(n),e)}function a_(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=_C("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>a_([u,...n],e,s,i)};return new Proxy(a,{deleteProperty(u,c){return delete u[c],delete u._keys,delete n[0][c],!0},get(u,c){return yC(u,c,()=>b6(c,e,n,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,c){return qx(u).includes(c)},ownKeys(u){return qx(u)},set(u,c,d){const m=u._storage||(u._storage=r());return u[c]=m[c]=d,delete u._keys,!0}})}function nl(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:gC(n,i),setContext:s=>nl(n,s,t,i),override:s=>nl(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,u){return yC(s,a,()=>E6(s,a,u))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,u){return n[a]=u,delete s[a],!0}})}function gC(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Is(t)?t:()=>t,isIndexable:Is(i)?i:()=>i}}const w6=(n,e)=>n?n+n_(e):e,l_=(n,e)=>He(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yC(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function E6(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let u=i[e];return Is(u)&&a.isScriptable(e)&&(u=T6(e,u,n,t)),qt(u)&&u.length&&(u=x6(e,u,n,a.isIndexable)),l_(e,u)&&(u=nl(u,r,s&&s[e],a)),u}function T6(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let c=e(s,a||i);return u.delete(n),l_(n,c)&&(c=u_(r._scopes,r,n,c)),c}function x6(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:u}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(He(e[0])){const c=e,d=r._scopes.filter(m=>m!==c);e=[];for(const m of c){const g=u_(d,r,n,m);e.push(nl(g,s,a&&a[n],u))}}return e}function vC(n,e,t){return Is(n)?n(e,t):n}const S6=(n,e)=>n===!0?e:typeof n=="string"?dc(e,n):void 0;function I6(n,e,t,i,r){for(const s of e){const a=S6(t,s);if(a){n.add(a);const u=vC(a._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(a===!1&&typeof i<"u"&&t!==i)return null}return!1}function u_(n,e,t,i){const r=e._rootScopes,s=vC(e._fallback,t,i),a=[...n,...r],u=new Set;u.add(i);let c=Hx(u,a,t,s||t,i);return c===null||typeof s<"u"&&s!==t&&(c=Hx(u,a,s,c,i),c===null)?!1:a_(Array.from(u),[""],r,s,()=>A6(e,t,i))}function Hx(n,e,t,i,r){for(;t;)t=I6(n,e,t,i,r);return t}function A6(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return qt(r)&&He(t)?t:r||{}}function b6(n,e,t,i){let r;for(const s of e)if(r=_C(w6(s,n),t),typeof r<"u")return l_(n,r)?u_(t,i,n,r):r}function _C(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function qx(n){let e=n._keys;return e||(e=n._keys=C6(n._scopes)),e}function C6(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function c_(){return typeof window<"u"&&typeof document<"u"}function h_(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function If(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const rp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function P6(n,e){return rp(n).getPropertyValue(e)}const R6=["top","right","bottom","left"];function Eo(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=R6[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const k6=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function D6(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let a=!1,u,c;if(k6(r,s,n.target))u=r,c=s;else{const d=e.getBoundingClientRect();u=i.clientX-d.left,c=i.clientY-d.top,a=!0}return{x:u,y:c,box:a}}function po(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=rp(t),s=r.boxSizing==="border-box",a=Eo(r,"padding"),u=Eo(r,"border","width"),{x:c,y:d,box:m}=D6(n,t),g=a.left+(m&&u.left),v=a.top+(m&&u.top);let{width:E,height:x}=e;return s&&(E-=a.width+u.width,x-=a.height+u.height),{x:Math.round((c-g)/E*t.width/i),y:Math.round((d-v)/x*t.height/i)}}function M6(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&h_(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),u=rp(s),c=Eo(u,"border","width"),d=Eo(u,"padding");e=a.width-d.width-c.width,t=a.height-d.height-c.height,i=If(u.maxWidth,s,"clientWidth"),r=If(u.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||Ef,maxHeight:r||Ef}}const fd=n=>Math.round(n*10)/10;function O6(n,e,t,i){const r=rp(n),s=Eo(r,"margin"),a=If(r.maxWidth,n,"clientWidth")||Ef,u=If(r.maxHeight,n,"clientHeight")||Ef,c=M6(n,e,t);let{width:d,height:m}=c;if(r.boxSizing==="content-box"){const v=Eo(r,"border","width"),E=Eo(r,"padding");d-=E.width+v.width,m-=E.height+v.height}return d=Math.max(0,d-s.width),m=Math.max(0,i?d/i:m-s.height),d=fd(Math.min(d,a,c.maxWidth)),m=fd(Math.min(m,u,c.maxHeight)),d&&!m&&(m=fd(d/2)),(e!==void 0||t!==void 0)&&i&&c.height&&m>c.height&&(m=c.height,d=fd(Math.floor(m*i))),{width:d,height:m}}function Kx(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const V6=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};c_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Gx(n,e){const t=P6(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const L6=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},N6=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function $a(n,e,t){return n?L6(e,t):N6()}function wC(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function EC(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function pd(n,e,t){return n.options.clip?n[t]:e[t]}function F6(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:pd(t,e,"left"),right:pd(t,e,"right"),top:pd(i,e,"top"),bottom:pd(i,e,"bottom")}:e}function j6(n,e){const t=e._clip;if(t.disabled)return!1;const i=F6(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class B6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],a=t.duration;s.forEach(u=>u({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=cC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,u=!1,c;for(;a>=0;--a)c=s[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),u=!0):(s[a]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ur=new B6;const Yx="transparent",U6={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Bx(n||Yx),r=i.valid&&Bx(e||Yx);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class z6{constructor(e,t,i,r){const s=t[i];r=dd([e.to,r,s,e.from]);const a=dd([e.from,s,r]);this._active=!0,this._fn=e.fn||U6[e.type||typeof a],this._easing=Hu[e.easing]||Hu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=dd([e.to,t,r,e.from]),this._from=dd([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,u=this._to;let c;if(this._active=s!==u&&(a||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,u,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class TC{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!He(e))return;const t=Object.keys(vt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!He(s))return;const a={};for(const u of t)a[u]=s[u];(qt(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,a)})})}_animateOptions(e,t){const i=t.options,r=W6(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&$6(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),u=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[d];let g=s[d];const v=i.get(d);if(g)if(v&&g.active()){g.update(v,m,u);continue}else g.cancel();if(!v||!v.duration){e[d]=m;continue}s[d]=g=new z6(v,e,d,m),r.push(g)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return ur.add(this._chart,i),!0}}function $6(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function W6(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Xx(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function H6(n,e,t){if(t===!1)return!1;const i=Xx(n,t),r=Xx(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function q6(n){let e,t,i,r;return He(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function xC(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Qx(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let a,u,c,d;if(e===null)return;let m=!1;for(a=0,u=r.length;a<u;++a){if(c=+r[a],c===t){if(m=!0,i.all)continue;break}d=n.values[c],Ar(d)&&(s||e===0||Lx(e)===Lx(d))&&(e+=d)}return!m&&!i.all?0:e}function K6(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(n),u=new Array(a.length);let c,d,m;for(c=0,d=a.length;c<d;++c)m=a[c],u[c]={[r]:m,[s]:n[m]};return u}function pg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function G6(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Y6(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function X6(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Jx(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Zx(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:u}=i,c=s.axis,d=a.axis,m=G6(s,a,i),g=e.length;let v;for(let E=0;E<g;++E){const x=e[E],{[c]:A,[d]:S}=x,R=x._stacks||(x._stacks={});v=R[d]=X6(r,m,A),v[u]=S,v._top=Jx(v,a,!0,i.type),v._bottom=Jx(v,a,!1,i.type);const M=v._visualValues||(v._visualValues={});M[u]=S}}function mg(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Q6(n,e){return ml(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function J6(n,e,t){return ml(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function pu(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const gg=n=>n==="reset"||n==="none",eS=(n,e)=>e?n:Object.assign({},n),Z6=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:xC(t,!0),values:null};class Gu{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(g,v,E,x)=>g==="x"?v:g==="r"?x:E,s=t.xAxisID=Xe(i.xAxisID,mg(e,"x")),a=t.yAxisID=Xe(i.yAxisID,mg(e,"y")),u=t.rAxisID=Xe(i.rAxisID,mg(e,"r")),c=t.indexAxis,d=t.iAxisID=r(c,s,a,u),m=t.vAxisID=r(c,a,s,u);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Nx(this._data,this),e._stacked&&pu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(He(t)){const r=this._cachedMeta;this._data=K6(t,r)}else if(i!==t){if(i){Nx(i,this);const r=this._cachedMeta;pu(r),r._parsed=[]}t&&Object.isExtensible(t)&&Xj(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=pg(t.vScale,t),t.stack!==i.stack&&(r=!0,pu(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Zx(this,t._parsed),t._stacked=pg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,u=s.axis;let c=e===0&&t===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],m,g,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{qt(r[e])?v=this.parseArrayData(i,r,e,t):He(r[e])?v=this.parseObjectData(i,r,e,t):v=this.parsePrimitiveData(i,r,e,t);const E=()=>g[u]===null||d&&g[u]<d[u];for(m=0;m<t;++m)i._parsed[m+e]=g=v[m],c&&(E()&&(c=!1),d=g);i._sorted=c}a&&Zx(this,v)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:a}=e,u=s.axis,c=a.axis,d=s.getLabels(),m=s===a,g=new Array(r);let v,E,x;for(v=0,E=r;v<E;++v)x=v+i,g[v]={[u]:m||s.parse(d[x],x),[c]:a.parse(t[x],x)};return g}parseArrayData(e,t,i,r){const{xScale:s,yScale:a}=e,u=new Array(r);let c,d,m,g;for(c=0,d=r;c<d;++c)m=c+i,g=t[m],u[c]={x:s.parse(g[0],m),y:a.parse(g[1],m)};return u}parseObjectData(e,t,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let m,g,v,E;for(m=0,g=r;m<g;++m)v=m+i,E=t[v],d[m]={x:s.parse(dc(E,u),v),y:a.parse(dc(E,c),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,a=t[e.axis],u={keys:xC(r,!0),values:t._stacks[e.axis]._visualValues};return Qx(u,a,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let a=s===null?NaN:s;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,a=Qx(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,u=this._getOtherScale(e),c=Z6(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:g}=Y6(u);let v,E;function x(){E=r[v];const A=E[u.axis];return!Ar(E[e.axis])||m>A||g<A}for(v=0;v<a&&!(!x()&&(this.updateRangeFromParsed(d,e,E,c),s));++v);if(s){for(v=a-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(d,e,E,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],Ar(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=q6(Xe(this.options.clip,H6(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,a=[],u=this._drawStart||0,c=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(e,s,u,c),m=u;m<u+c;++m){const g=r[m];g.hidden||(g.active&&d?a.push(g):g.draw(e,s))}for(m=0;m<a.length;++m)a[m].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=J6(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Q6(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,a=e+"-"+t,u=s[a],c=this.enableOptionSharing&&wf(i);if(u)return eS(u,c);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),m),E=Object.keys(vt.elements[e]),x=()=>this.getContext(i,r,t),A=d.resolveNamedOptions(v,E,x,g);return A.$shared&&(A.$shared=c,s[a]=Object.freeze(eS(A,c))),A}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,u=s[a];if(u)return u;let c;if(r.options.animation!==!1){const m=this.chart.config,g=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),g);c=m.createResolver(v,this.getContext(e,i,t))}const d=new TC(r,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||gg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:a}}updateElement(e,t,i,r){gg(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!gg(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,c,d]of this._syncList)this[u](c,d);this._syncList=[];const r=i.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,a=e+t;let u;const c=d=>{for(d.length+=t,u=d.length-1;u>=a;u--)d[u]=d[u-t]};for(c(s),u=e;u<a;++u)s[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&pu(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}De(Gu,"defaults",{}),De(Gu,"datasetElementType",null),De(Gu,"dataElementType",null);function eB(n,e,t){let i=1,r=1,s=0,a=0;if(e<xt){const u=n,c=u+e,d=Math.cos(u),m=Math.sin(u),g=Math.cos(c),v=Math.sin(c),E=(B,q,Y)=>xf(B,u,c,!0)?1:Math.max(q,q*t,Y,Y*t),x=(B,q,Y)=>xf(B,u,c,!0)?-1:Math.min(q,q*t,Y,Y*t),A=E(0,d,g),S=E(Pt,m,v),R=x(Nt,d,g),M=x(Nt+Pt,m,v);i=(A-R)/2,r=(S-M)/2,s=-(A+R)/2,a=-(S+M)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class Ru extends Gu{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=c=>+i[c];if(He(i[e])){const{key:c="value"}=this._parsing;s=d=>+dc(i[d],c)}let a,u;for(a=e,u=e+t;a<u;++a)r._parsed[a]=s(a)}}_getRotation(){return vo(this.options.rotation-90)}_getCircumference(){return vo(this.options.circumference)}_getRotationExtents(){let e=xt,t=-xt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(Lj(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:m,rotation:g}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:x,offsetY:A}=eB(g,m,c),S=(i.width-a)/v,R=(i.height-a)/E,M=Math.max(Math.min(S,R)/2,0),B=oC(this.options.radius,M),q=Math.max(B*c,0),Y=(B-q)/this._getVisibleDatasetWeightTotal();this.offsetX=x*B,this.offsetY=A*B,r.total=this.calculateTotal(),this.outerRadius=B-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/xt)}updateElements(e,t,i,r){const s=r==="reset",a=this.chart,u=a.chartArea,d=a.options.animation,m=(u.left+u.right)/2,g=(u.top+u.bottom)/2,v=s&&d.animateScale,E=v?0:this.innerRadius,x=v?0:this.outerRadius,{sharedOptions:A,includeOptions:S}=this._getSharedOptions(t,r);let R=this._getRotation(),M;for(M=0;M<t;++M)R+=this._circumference(M,s);for(M=t;M<t+i;++M){const B=this._circumference(M,s),q=e[M],Y={x:m+this.offsetX,y:g+this.offsetY,startAngle:R,endAngle:R+B,circumference:B,outerRadius:x,innerRadius:E};S&&(Y.options=A||this.resolveDataElementOptions(M,q.active?"active":r)),R+=B,this.updateElement(q,M,Y,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?xt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=s6(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,a,u,c;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,u=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=u.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}De(Ru,"id","doughnut"),De(Ru,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),De(Ru,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),De(Ru,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class my extends Ru{}De(my,"id","pie"),De(my,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function lo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class d_{constructor(e){De(this,"options");this.options=e||{}}static override(e){Object.assign(d_.prototype,e)}init(){}formats(){return lo()}parse(){return lo()}format(){return lo()}add(){return lo()}diff(){return lo()}startOf(){return lo()}endOf(){return lo()}}var tB={_date:d_};function nB(n,e,t,i){const{controller:r,data:s,_sorted:a}=n,u=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&a&&s.length){const d=u._reversePixels?Gj:dy;if(i){if(r._sharedOptions){const m=s[0],g=typeof m.getRange=="function"&&m.getRange(e);if(g){const v=d(s,e,t-g),E=d(s,e,t+g);return{lo:v.lo,hi:E.hi}}}}else{const m=d(s,e,t);if(c){const{vScale:g}=r._cachedMeta,{_parsed:v}=n,E=v.slice(0,m.lo+1).reverse().findIndex(A=>!sn(A[g.axis]));m.lo-=Math.max(0,E);const x=v.slice(m.hi).findIndex(A=>!sn(A[g.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:s.length-1}}function sp(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let u=0,c=s.length;u<c;++u){const{index:d,data:m}=s[u],{lo:g,hi:v}=nB(s[u],e,a,r);for(let E=g;E<=v;++E){const x=m[E];x.skip||i(x,d,E)}}}function iB(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function yg(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||sp(n,t,e,function(u,c,d){!r&&!mC(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&s.push({element:u,datasetIndex:c,index:d})},!0),s}function rB(n,e,t,i){let r=[];function s(a,u,c){const{startAngle:d,endAngle:m}=a.getProps(["startAngle","endAngle"],i),{angle:g}=lC(a,{x:e.x,y:e.y});xf(g,d,m)&&r.push({element:a,datasetIndex:u,index:c})}return sp(n,t,e,s),r}function sB(n,e,t,i,r,s){let a=[];const u=iB(t);let c=Number.POSITIVE_INFINITY;function d(m,g,v){const E=m.inRange(e.x,e.y,r);if(i&&!E)return;const x=m.getCenterPoint(r);if(!(!!s||n.isPointInArea(x))&&!E)return;const S=u(e,x);S<c?(a=[{element:m,datasetIndex:g,index:v}],c=S):S===c&&a.push({element:m,datasetIndex:g,index:v})}return sp(n,t,e,d),a}function vg(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?rB(n,e,t,r):sB(n,e,t,i,r,s)}function tS(n,e,t,i,r){const s=[],a=t==="x"?"inXRange":"inYRange";let u=!1;return sp(n,t,e,(c,d,m)=>{c[a]&&c[a](e[t],r)&&(s.push({element:c,datasetIndex:d,index:m}),u=u||c.inRange(e.x,e.y,r))}),i&&!u?[]:s}var oB={modes:{index(n,e,t,i){const r=po(e,n),s=t.axis||"x",a=t.includeInvisible||!1,u=t.intersect?yg(n,r,s,i,a):vg(n,r,s,!1,i,a),c=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=u[0].index,g=d.data[m];g&&!g.skip&&c.push({element:g,datasetIndex:d.index,index:m})}),c):[]},dataset(n,e,t,i){const r=po(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let u=t.intersect?yg(n,r,s,i,a):vg(n,r,s,!1,i,a);if(u.length>0){const c=u[0].datasetIndex,d=n.getDatasetMeta(c).data;u=[];for(let m=0;m<d.length;++m)u.push({element:d[m],datasetIndex:c,index:m})}return u},point(n,e,t,i){const r=po(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return yg(n,r,s,i,a)},nearest(n,e,t,i){const r=po(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return vg(n,r,s,t.intersect,i,a)},x(n,e,t,i){const r=po(e,n);return tS(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=po(e,n);return tS(n,r,"y",t.intersect,i)}}};const SC=["left","top","right","bottom"];function mu(n,e){return n.filter(t=>t.pos===e)}function nS(n,e){return n.filter(t=>SC.indexOf(t.pos)===-1&&t.box.axis===e)}function gu(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function aB(n){const e=[];let t,i,r,s,a,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:a,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:u});return e}function lB(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!SC.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function uB(n,e){const t=lB(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,u;for(s=0,a=n.length;s<a;++s){u=n[s];const{fullSize:c}=u.box,d=t[u.stack],m=d&&u.stackWeight/d.weight;u.horizontal?(u.width=m?m*i:c&&e.availableWidth,u.height=r):(u.width=i,u.height=m?m*r:c&&e.availableHeight)}return t}function cB(n){const e=aB(n),t=gu(e.filter(d=>d.box.fullSize),!0),i=gu(mu(e,"left"),!0),r=gu(mu(e,"right")),s=gu(mu(e,"top"),!0),a=gu(mu(e,"bottom")),u=nS(e,"x"),c=nS(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(a).concat(u),chartArea:mu(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(a).concat(u)}}function iS(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function IC(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function hB(n,e,t,i){const{pos:r,box:s}=t,a=n.maxPadding;if(!He(r)){t.size&&(n[r]-=t.size);const g=i[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?s.height:s.width),t.size=g.size/g.count,n[r]+=t.size}s.getPadding&&IC(a,s.getPadding());const u=Math.max(0,e.outerWidth-iS(a,n,"left","right")),c=Math.max(0,e.outerHeight-iS(a,n,"top","bottom")),d=u!==n.w,m=c!==n.h;return n.w=u,n.h=c,t.horizontal?{same:d,other:m}:{same:m,other:d}}function dB(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function fB(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return i(n?["left","right"]:["top","bottom"])}function ku(n,e,t,i){const r=[];let s,a,u,c,d,m;for(s=0,a=n.length,d=0;s<a;++s){u=n[s],c=u.box,c.update(u.width||e.w,u.height||e.h,fB(u.horizontal,e));const{same:g,other:v}=hB(e,t,u,i);d|=g&&r.length,m=m||v,c.fullSize||r.push(u)}return d&&ku(r,e,t,i)||m}function md(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function rS(n,e,t,i){const r=t.padding;let{x:s,y:a}=e;for(const u of n){const c=u.box,d=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/d.weight||1;if(u.horizontal){const g=e.w*m,v=d.size||c.height;wf(d.start)&&(a=d.start),c.fullSize?md(c,r.left,a,t.outerWidth-r.right-r.left,v):md(c,e.left+d.placed,a,g,v),d.start=a,d.placed+=g,a=c.bottom}else{const g=e.h*m,v=d.size||c.width;wf(d.start)&&(s=d.start),c.fullSize?md(c,s,r.top,v,t.outerHeight-r.bottom-r.top):md(c,s,e.top+d.placed,v,g),d.start=s,d.placed+=g,s=c.right}}e.x=s,e.y=a}var us={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=yi(n.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(t-r.height,0),u=cB(n.boxes),c=u.vertical,d=u.horizontal;Ye(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const m=c.reduce((A,S)=>S.box.options&&S.box.options.display===!1?A:A+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/m,hBoxMaxHeight:a/2}),v=Object.assign({},r);IC(v,yi(i));const E=Object.assign({maxPadding:v,w:s,h:a,x:r.left,y:r.top},r),x=uB(c.concat(d),g);ku(u.fullSize,E,g,x),ku(c,E,g,x),ku(d,E,g,x)&&ku(c,E,g,x),dB(E),rS(u.leftAndTop,E,g,x),E.x+=E.w,E.y+=E.h,rS(u.rightAndBottom,E,g,x),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Ye(u.chartArea,A=>{const S=A.box;Object.assign(S,n.chartArea),S.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class AC{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class pB extends AC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fd="$chartjs",mB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sS=n=>n===null||n==="";function gB(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Fd]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",sS(r)){const s=Gx(n,"width");s!==void 0&&(n.width=s)}if(sS(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Gx(n,"height");s!==void 0&&(n.height=s)}return n}const bC=V6?{passive:!0}:!1;function yB(n,e,t){n&&n.addEventListener(e,t,bC)}function vB(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,bC)}function _B(n,e){const t=mB[n.type]||n.type,{x:i,y:r}=po(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Af(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function wB(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||Af(u.addedNodes,i),a=a&&!Af(u.removedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function EB(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||Af(u.removedNodes,i),a=a&&!Af(u.addedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const fc=new Map;let oS=0;function CC(){const n=window.devicePixelRatio;n!==oS&&(oS=n,fc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function TB(n,e){fc.size||window.addEventListener("resize",CC),fc.set(n,e)}function xB(n){fc.delete(n),fc.size||window.removeEventListener("resize",CC)}function SB(n,e,t){const i=n.canvas,r=i&&h_(i);if(!r)return;const s=hC((u,c)=>{const d=r.clientWidth;t(u,c),d<r.clientWidth&&t()},window),a=new ResizeObserver(u=>{const c=u[0],d=c.contentRect.width,m=c.contentRect.height;d===0&&m===0||s(d,m)});return a.observe(r),TB(n,s),a}function _g(n,e,t){t&&t.disconnect(),e==="resize"&&xB(n)}function IB(n,e,t){const i=n.canvas,r=hC(s=>{n.ctx!==null&&t(_B(s,n))},n);return yB(i,e,r),r}class AB extends AC{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(gB(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Fd])return!1;const i=t[Fd].initial;["height","width"].forEach(s=>{const a=i[s];sn(a)?t.removeAttribute(s):t.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Fd],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),a={attach:wB,detach:EB,resize:SB}[t]||IB;r[t]=a(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:_g,detach:_g,resize:_g}[t]||vB)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return O6(e,t,i,r)}isAttached(e){const t=e&&h_(e);return!!(t&&t.isConnected)}}function bB(n){return!c_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?pB:AB}var Td;let Vc=(Td=class{constructor(){De(this,"x");De(this,"y");De(this,"active",!1);De(this,"options");De(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Tf(this.x)&&Tf(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},De(Td,"defaults",{}),De(Td,"defaultRoutes"),Td);function CB(n,e){const t=n.options.ticks,i=PB(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?kB(e):[],a=s.length,u=s[0],c=s[a-1],d=[];if(a>r)return DB(e,d,s,a/r),d;const m=RB(s,e,r);if(a>0){let g,v;const E=a>1?Math.round((c-u)/(a-1)):null;for(gd(e,d,m,sn(E)?0:u-E,u),g=0,v=a-1;g<v;g++)gd(e,d,m,s[g],s[g+1]);return gd(e,d,m,c,sn(E)?e.length:c+E),d}return gd(e,d,m),d}function PB(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function RB(n,e,t){const i=MB(n),r=e.length/t;if(!i)return Math.max(r,1);const s=$j(i);for(let a=0,u=s.length-1;a<u;a++){const c=s[a];if(c>r)return c}return Math.max(r,1)}function kB(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function DB(n,e,t,i){let r=0,s=t[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(e.push(n[a]),r++,s=t[r*i])}function gd(n,e,t,i,r){const s=Xe(i,0),a=Math.min(Xe(r,n.length),n.length);let u=0,c,d,m;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),m=s;m<0;)u++,m=Math.round(s+u*t);for(d=Math.max(s,0);d<a;d++)d===m&&(e.push(n[d]),u++,m=Math.round(s+u*t))}function MB(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const OB=n=>n==="left"?"right":n==="right"?"left":n,aS=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,lS=(n,e)=>Math.min(e||n,n);function uS(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function VB(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,a=n._endPixel,u=1e-6;let c=n.getPixelForTick(r),d;if(!(t&&(i===1?d=Math.max(c-s,a-c):e===0?d=(n.getPixelForTick(1)-c)/2:d=(c-n.getPixelForTick(r-1))/2,c+=r<e?d:-d,c<s-u||c>a+u)))return c}function LB(n,e){Ye(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function yu(n){return n.drawTicks?n.tickLength:0}function cS(n,e){if(!n.display)return 0;const t=Sn(n.font,e),i=yi(n.padding);return(qt(n.text)?n.text.length:1)*t.lineHeight+i.height}function NB(n,e){return ml(n,{scale:e,type:"scale"})}function FB(n,e,t){return ml(n,{tick:t,index:e,type:"tick"})}function jB(n,e,t){let i=dC(n);return(t&&e!=="right"||!t&&e==="right")&&(i=OB(i)),i}function BB(n,e,t,i){const{top:r,left:s,bottom:a,right:u,chart:c}=n,{chartArea:d,scales:m}=c;let g=0,v,E,x;const A=a-r,S=u-s;if(n.isHorizontal()){if(E=Dn(i,s,u),He(t)){const R=Object.keys(t)[0],M=t[R];x=m[R].getPixelForValue(M)+A-e}else t==="center"?x=(d.bottom+d.top)/2+A-e:x=aS(n,t,e);v=u-s}else{if(He(t)){const R=Object.keys(t)[0],M=t[R];E=m[R].getPixelForValue(M)-S+e}else t==="center"?E=(d.left+d.right)/2-S+e:E=aS(n,t,e);x=Dn(i,a,r),g=t==="left"?-Pt:Pt}return{titleX:E,titleY:x,maxWidth:v,rotation:g}}class op extends Vc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=ki(e,Number.POSITIVE_INFINITY),t=ki(t,Number.NEGATIVE_INFINITY),i=ki(i,Number.POSITIVE_INFINITY),r=ki(r,Number.NEGATIVE_INFINITY),{min:ki(e,i),max:ki(t,r),minDefined:Ar(e),maxDefined:Ar(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,d=u.length;c<d;++c)a=u[c].controller.getMinMax(this,e),r||(t=Math.min(t,a.min)),s||(i=Math.max(i,a.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:ki(t,ki(i,t)),max:ki(i,ki(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_6(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?uS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=CB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=nt(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=lS(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let a=r,u,c,d;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),g=m.widest.width,v=m.highest.height,E=Yn(this.chart.width-g,0,this.maxWidth);u=e.offset?this.maxWidth/i:E/(i-1),g+6>u&&(u=E/(i-(e.offset?.5:1)),c=this.maxHeight-yu(e.grid)-t.padding-cS(e.title,this.chart.options.font),d=Math.sqrt(g*g+v*v),a=Hj(Math.min(Math.asin(Yn((m.highest.height+6)/u,-1,1)),Math.asin(Yn(c/d,-1,1))-Math.asin(Yn(v/d,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const c=cS(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=yu(s)+c):(e.height=this.maxHeight,e.width=yu(s)+c),i.display&&this.ticks.length){const{first:d,last:m,widest:g,highest:v}=this._getLabelSizes(),E=i.padding*2,x=vo(this.labelRotation),A=Math.cos(x),S=Math.sin(x);if(u){const R=i.mirror?0:S*g.width+A*v.height;e.height=Math.min(this.maxHeight,e.height+R+E)}else{const R=i.mirror?0:A*g.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+R+E)}this._calculatePadding(d,m,S,A)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:a},position:u}=this.options,c=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;c?d?(v=r*e.width,E=i*t.height):(v=i*e.height,E=r*t.width):s==="start"?E=t.width:s==="end"?v=e.width:s!=="inner"&&(v=e.width/2,E=t.width/2),this.paddingLeft=Math.max((v-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((E-g+a)*this.width/(this.width-g),0)}else{let m=t.height/2,g=e.height/2;s==="start"?(m=0,g=e.height):s==="end"&&(m=t.height,g=0),this.paddingTop=m+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)sn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=uS(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,a=[],u=[],c=Math.floor(t/lS(t,i));let d=0,m=0,g,v,E,x,A,S,R,M,B,q,Y;for(g=0;g<t;g+=c){if(x=e[g].label,A=this._resolveTickFontOptions(g),r.font=S=A.string,R=s[S]=s[S]||{data:{},gc:[]},M=A.lineHeight,B=q=0,!sn(x)&&!qt(x))B=zx(r,R.data,R.gc,B,x),q=M;else if(qt(x))for(v=0,E=x.length;v<E;++v)Y=x[v],!sn(Y)&&!qt(Y)&&(B=zx(r,R.data,R.gc,B,Y),q+=M);a.push(B),u.push(q),d=Math.max(B,d),m=Math.max(q,m)}LB(s,t);const Q=a.indexOf(d),D=u.indexOf(m),b=C=>({width:a[C]||0,height:u[C]||0});return{first:b(0),last:b(t-1),widest:b(Q),highest:b(D),widths:a,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Kj(this._alignToPixels?ao(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=FB(this.getContext(),e,i))}return this.$context||(this.$context=NB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=vo(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,u=s?s.widest.width+a:0,c=s?s.highest.height+a:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:u}=r,c=s.offset,d=this.isHorizontal(),g=this.ticks.length+(c?1:0),v=yu(s),E=[],x=u.setContext(this.getContext()),A=x.display?x.width:0,S=A/2,R=function(Pe){return ao(i,Pe,A)};let M,B,q,Y,Q,D,b,C,k,L,F,O;if(a==="top")M=R(this.bottom),D=this.bottom-v,C=M-S,L=R(e.top)+S,O=e.bottom;else if(a==="bottom")M=R(this.top),L=e.top,O=R(e.bottom)-S,D=M+S,C=this.top+v;else if(a==="left")M=R(this.right),Q=this.right-v,b=M-S,k=R(e.left)+S,F=e.right;else if(a==="right")M=R(this.left),k=e.left,F=R(e.right)-S,Q=M+S,b=this.left+v;else if(t==="x"){if(a==="center")M=R((e.top+e.bottom)/2+.5);else if(He(a)){const Pe=Object.keys(a)[0],he=a[Pe];M=R(this.chart.scales[Pe].getPixelForValue(he))}L=e.top,O=e.bottom,D=M+S,C=D+v}else if(t==="y"){if(a==="center")M=R((e.left+e.right)/2);else if(He(a)){const Pe=Object.keys(a)[0],he=a[Pe];M=R(this.chart.scales[Pe].getPixelForValue(he))}Q=M-S,b=Q-v,k=e.left,F=e.right}const ke=Xe(r.ticks.maxTicksLimit,g),Se=Math.max(1,Math.ceil(g/ke));for(B=0;B<g;B+=Se){const Pe=this.getContext(B),he=s.setContext(Pe),ie=u.setContext(Pe),ae=he.lineWidth,N=he.color,ee=ie.dash||[],le=ie.dashOffset,ye=he.tickWidth,Ie=he.tickColor,Oe=he.tickBorderDash||[],Re=he.tickBorderDashOffset;q=VB(this,B,c),q!==void 0&&(Y=ao(i,q,ae),d?Q=b=k=F=Y:D=C=L=O=Y,E.push({tx1:Q,ty1:D,tx2:b,ty2:C,x1:k,y1:L,x2:F,y2:O,width:ae,color:N,borderDash:ee,borderDashOffset:le,tickWidth:ye,tickColor:Ie,tickBorderDash:Oe,tickBorderDashOffset:Re}))}return this._ticksLength=g,this._borderValue=M,E}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:d,padding:m,mirror:g}=s,v=yu(i.grid),E=v+m,x=g?-m:E,A=-vo(this.labelRotation),S=[];let R,M,B,q,Y,Q,D,b,C,k,L,F,O="middle";if(r==="top")Q=this.bottom-x,D=this._getXAxisLabelAlignment();else if(r==="bottom")Q=this.top+x,D=this._getXAxisLabelAlignment();else if(r==="left"){const Se=this._getYAxisLabelAlignment(v);D=Se.textAlign,Y=Se.x}else if(r==="right"){const Se=this._getYAxisLabelAlignment(v);D=Se.textAlign,Y=Se.x}else if(t==="x"){if(r==="center")Q=(e.top+e.bottom)/2+E;else if(He(r)){const Se=Object.keys(r)[0],Pe=r[Se];Q=this.chart.scales[Se].getPixelForValue(Pe)+E}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")Y=(e.left+e.right)/2-E;else if(He(r)){const Se=Object.keys(r)[0],Pe=r[Se];Y=this.chart.scales[Se].getPixelForValue(Pe)}D=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(c==="start"?O="top":c==="end"&&(O="bottom"));const ke=this._getLabelSizes();for(R=0,M=u.length;R<M;++R){B=u[R],q=B.label;const Se=s.setContext(this.getContext(R));b=this.getPixelForTick(R)+s.labelOffset,C=this._resolveTickFontOptions(R),k=C.lineHeight,L=qt(q)?q.length:1;const Pe=L/2,he=Se.color,ie=Se.textStrokeColor,ae=Se.textStrokeWidth;let N=D;a?(Y=b,D==="inner"&&(R===M-1?N=this.options.reverse?"left":"right":R===0?N=this.options.reverse?"right":"left":N="center"),r==="top"?d==="near"||A!==0?F=-L*k+k/2:d==="center"?F=-ke.highest.height/2-Pe*k+k:F=-ke.highest.height+k/2:d==="near"||A!==0?F=k/2:d==="center"?F=ke.highest.height/2-Pe*k:F=ke.highest.height-L*k,g&&(F*=-1),A!==0&&!Se.showLabelBackdrop&&(Y+=k/2*Math.sin(A))):(Q=b,F=(1-L)*k/2);let ee;if(Se.showLabelBackdrop){const le=yi(Se.backdropPadding),ye=ke.heights[R],Ie=ke.widths[R];let Oe=F-le.top,Re=0-le.left;switch(O){case"middle":Oe-=ye/2;break;case"bottom":Oe-=ye;break}switch(D){case"center":Re-=Ie/2;break;case"right":Re-=Ie;break;case"inner":R===M-1?Re-=Ie:R>0&&(Re-=Ie/2);break}ee={left:Re,top:Oe,width:Ie+le.width,height:ye+le.height,color:Se.backdropColor}}S.push({label:q,font:C,textOffset:F,options:{rotation:A,color:he,strokeColor:ie,strokeWidth:ae,textAlign:N,textBaseline:O,translation:[Y,Q],backdrop:ee}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-vo(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),u=e+s,c=a.widest.width;let d,m;return t==="left"?r?(m=this.right+s,i==="near"?d="left":i==="center"?(d="center",m+=c/2):(d="right",m+=c)):(m=this.right-u,i==="near"?d="right":i==="center"?(d="center",m-=c/2):(d="left",m=this.left)):t==="right"?r?(m=this.left+s,i==="near"?d="right":i==="center"?(d="center",m-=c/2):(d="left",m-=c)):(m=this.left+u,i==="near"?d="left":i==="center"?(d="center",m+=c/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const u=(c,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const c=r[s];t.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,m,g,v;this.isHorizontal()?(d=ao(e,this.left,a)-a/2,m=ao(e,this.right,u)+u/2,g=v=c):(g=ao(e,this.top,a)-a/2,v=ao(e,this.bottom,u)+u/2,d=m=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,g),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&r_(i,r);const s=this.getLabelItems(e);for(const a of s){const u=a.options,c=a.font,d=a.label,m=a.textOffset;Sf(i,d,0,m,c,u)}r&&s_(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Sn(i.font),a=yi(i.padding),u=i.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||He(t)?(c+=a.bottom,qt(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:d,titleY:m,maxWidth:g,rotation:v}=BB(this,c,t,u);Sf(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:v,textAlign:jB(u,t,r),textBaseline:"middle",translation:[d,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Xe(e.grid&&e.grid.z,-1),r=Xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==op.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const u=t[s];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Sn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yd{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;$B(t)&&(i=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,UB(e,a,i),this.override&&vt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in vt[r]&&(delete vt[r][i],this.override&&delete bo[i])}}function UB(n,e,t){const i=hc(Object.create(null),[t?vt.get(t):{},vt.get(e),n.defaults]);vt.set(e,i),n.defaultRoutes&&zB(e,n.defaultRoutes),n.descriptors&&vt.describe(e,n.descriptors)}function zB(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),a=e[t].split("."),u=a.pop(),c=a.join(".");vt.route(s,r,c,u)})}function $B(n){return"id"in n&&"defaults"in n}class WB{constructor(){this.controllers=new yd(Gu,"datasets",!0),this.elements=new yd(Vc,"elements"),this.plugins=new yd(Object,"plugins"),this.scales=new yd(op,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ye(r,a=>{const u=i||this._getRegistryForType(a);this._exec(e,u,a)})})}_exec(e,t,i){const r=n_(e);nt(i["before"+r],[],i),t[e](i),nt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Mi=new WB;class HB{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,r){r=r||{};for(const s of e){const a=s.plugin,u=a[i],c=[t,r,s.options];if(nt(u,c,a)===!1&&r.cancelable)return!1}return!0}invalidate(){sn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Xe(i.options&&i.options.plugins,{}),s=qB(i);return r===!1&&!t?[]:GB(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(u=>!a.some(c=>u.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function qB(n){const e={},t=[],i=Object.keys(Mi.plugins.items);for(let s=0;s<i.length;s++)t.push(Mi.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function KB(n,e){return!e&&n===!1?null:n===!0?{}:n}function GB(n,{plugins:e,localIds:t},i,r){const s=[],a=n.getContext();for(const u of e){const c=u.id,d=KB(i[c],r);d!==null&&s.push({plugin:u,options:YB(n.config,{plugin:u,local:t[c]},d,a)})}return s}function YB(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(i,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gy(n,e){const t=vt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function XB(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function QB(n,e){return n===e?"_index_":"_value_"}function hS(n){if(n==="x"||n==="y"||n==="r")return n}function JB(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yy(n,...e){if(hS(n))return n;for(const t of e){const i=t.axis||JB(t.position)||n.length>1&&hS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function dS(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function ZB(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return dS(n,"x",t[0])||dS(n,"y",t[0])}return{}}function eU(n,e){const t=bo[n.type]||{scales:{}},i=e.scales||{},r=gy(n.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const u=i[a];if(!He(u))return console.error(`Invalid scale configuration for scale: ${a}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=yy(a,u,ZB(a,n),vt.scales[u.type]),d=QB(c,r),m=t.scales||{};s[a]=Wu(Object.create(null),[{axis:c},u,m[c],m[d]])}),n.data.datasets.forEach(a=>{const u=a.type||n.type,c=a.indexAxis||gy(u,e),m=(bo[u]||{}).scales||{};Object.keys(m).forEach(g=>{const v=XB(g,c),E=a[v+"AxisID"]||v;s[E]=s[E]||Object.create(null),Wu(s[E],[{axis:v},i[E],m[g]])})}),Object.keys(s).forEach(a=>{const u=s[a];Wu(u,[vt.scales[u.type],vt.scale])}),s}function PC(n){const e=n.options||(n.options={});e.plugins=Xe(e.plugins,{}),e.scales=eU(n,e)}function RC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function tU(n){return n=n||{},n.data=RC(n.data),PC(n),n}const fS=new Map,kC=new Set;function vd(n,e){let t=fS.get(n);return t||(t=e(),fS.set(n,t),kC.add(t)),t}const vu=(n,e,t)=>{const i=dc(e,t);i!==void 0&&n.add(i)};class nU{constructor(e){this._config=tU(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=RC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return vd(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return vd(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return vd(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),u=a.get(t);if(u)return u;const c=new Set;t.forEach(m=>{e&&(c.add(e),m.forEach(g=>vu(c,e,g))),m.forEach(g=>vu(c,r,g)),m.forEach(g=>vu(c,bo[s]||{},g)),m.forEach(g=>vu(c,vt,g)),m.forEach(g=>vu(c,fy,g))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),kC.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,bo[t]||{},vt.datasets[t]||{},{type:t},vt,fy]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:u}=pS(this._resolverCache,e,r);let c=a;if(rU(a,t)){s.$shared=!1,i=Is(i)?i():i;const d=this.createResolver(e,i,u);c=nl(a,i,d)}for(const d of t)s[d]=c[d];return s}createResolver(e,t,i=[""],r){const{resolver:s}=pS(this._resolverCache,e,i);return He(t)?nl(s,t,void 0,r):s}}function pS(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:a_(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const iU=n=>He(n)&&Object.getOwnPropertyNames(n).some(e=>Is(n[e]));function rU(n,e){const{isScriptable:t,isIndexable:i}=gC(n);for(const r of e){const s=t(r),a=i(r),u=(a||s)&&n[r];if(s&&(Is(u)||iU(u))||a&&qt(u))return!0}return!1}var sU="4.4.9";const oU=["top","bottom","left","right","chartArea"];function mS(n,e){return n==="top"||n==="bottom"||oU.indexOf(n)===-1&&e==="x"}function gS(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function yS(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),nt(t&&t.onComplete,[n],e)}function aU(n){const e=n.chart,t=e.options.animation;nt(t&&t.onProgress,[n],e)}function DC(n){return c_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const jd={},vS=n=>{const e=DC(n);return Object.values(jd).filter(t=>t.canvas===e).pop()};function lU(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const a=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=a)}}}function uU(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var ts;let ap=(ts=class{static register(...e){Mi.add(...e),_S()}static unregister(...e){Mi.remove(...e),_S()}constructor(e,t){const i=this.config=new nU(t),r=DC(e),s=vS(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||bB(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,a.aspectRatio),c=u&&u.canvas,d=c&&c.height,m=c&&c.width;if(this.id=Vj(),this.ctx=u,this.canvas=c,this.width=m,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jj(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],jd[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ur.listen(this,"complete",yS),ur.listen(this,"progress",aU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return sn(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $x(this.canvas,this.ctx),this}stop(){return ur.stop(this),this}resize(e,t){ur.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Kx(this,u,!0)&&(this.notifyPlugins("resize",{size:a}),nt(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ye(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((a,u)=>(a[u]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const u=t[a],c=yy(a,u),d=c==="r",m=c==="x";return{options:u,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),Ye(s,a=>{const u=a.options,c=u.id,d=yy(c,u),m=Xe(u.type,a.dtype);(u.position===void 0||mS(u.position,d)!==mS(a.dposition))&&(u.position=a.dposition),r[c]=!0;let g=null;if(c in i&&i[c].type===m)g=i[c];else{const v=Mi.getScale(m);g=new v({id:c,type:m,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(u,e)}),Ye(r,(a,u)=>{a||delete i[u]}),Ye(i,a=>{us.configure(this,a,a.options),us.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(gS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let a=this.getDatasetMeta(i);const u=s.type||this.config.type;if(a.type&&a.type!==u&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=u,a.indexAxis=s.indexAxis||gy(u,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=Mi.getController(u),{datasetElementType:d,dataElementType:m}=vt.datasets[u];Object.assign(c,{dataElementType:Mi.getElement(m),datasetElementType:d&&Mi.getElement(d)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ye(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:g}=this.getDatasetMeta(d),v=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(v),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Ye(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(gS("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ye(this.scales,e=>{us.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Ox(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const a=i==="_removeElements"?-s:s;lU(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,u)=>u+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!Ox(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;us.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ye(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Is(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ur.has(this)?this.attached&&!ur.running(this)&&ur.start(this):(this.draw(),yS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const a=t[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=j6(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&r_(t,r),e.controller.draw(),r&&s_(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return mC(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=oB.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ml(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);wf(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ur.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$x(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete jd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,u)=>{s.offsetX=a,s.offsetY=u,this._eventHandler(s)};Ye(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():a()}unbindEvents(){Ye(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ye(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,a,u,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){a=e[u];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[a],index:a}});!vf(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(c,d)=>c.filter(m=>!d.some(g=>m.datasetIndex===g.datasetIndex&&m.index===g.index)),a=s(t,e),u=i?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,a=t,u=this._getActiveElements(e,r,i,a),c=Uj(e),d=uU(e,this._lastEvent,i,c);i&&(this._lastEvent=null,nt(s.onHover,[e,u,this],this),c&&nt(s.onClick,[e,u,this],this));const m=!vf(u,r);return(m||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=d,m}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},De(ts,"defaults",vt),De(ts,"instances",jd),De(ts,"overrides",bo),De(ts,"registry",Mi),De(ts,"version",sU),De(ts,"getChart",vS),ts);function _S(){return Ye(ap.instances,n=>n._plugins.invalidate())}function cU(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:u,innerRadius:c}=e;let d=r/u;n.beginPath(),n.arc(s,a,u,i-d,t+d),c>r?(d=r/c,n.arc(s,a,c,t+d,i-d,!0)):n.arc(s,a,r,t+Pt,i-Pt),n.closePath(),n.clip()}function hU(n){return o_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function dU(n,e,t,i){const r=hU(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,i*e/2),u=c=>{const d=(t-Math.min(s,c))*i/2;return Yn(c,0,Math.min(s,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Yn(r.innerStart,0,a),innerEnd:Yn(r.innerEnd,0,a)}}function Ca(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function bf(n,e,t,i,r,s){const{x:a,y:u,startAngle:c,pixelMargin:d,innerRadius:m}=e,g=Math.max(e.outerRadius+i+t-d,0),v=m>0?m+i+t+d:0;let E=0;const x=r-c;if(i){const Se=m>0?m-i:0,Pe=g>0?g-i:0,he=(Se+Pe)/2,ie=he!==0?x*he/(he+i):x;E=(x-ie)/2}const A=Math.max(.001,x*g-t/Nt)/g,S=(x-A)/2,R=c+S+E,M=r-S-E,{outerStart:B,outerEnd:q,innerStart:Y,innerEnd:Q}=dU(e,v,g,M-R),D=g-B,b=g-q,C=R+B/D,k=M-q/b,L=v+Y,F=v+Q,O=R+Y/L,ke=M-Q/F;if(n.beginPath(),s){const Se=(C+k)/2;if(n.arc(a,u,g,C,Se),n.arc(a,u,g,Se,k),q>0){const ae=Ca(b,k,a,u);n.arc(ae.x,ae.y,q,k,M+Pt)}const Pe=Ca(F,M,a,u);if(n.lineTo(Pe.x,Pe.y),Q>0){const ae=Ca(F,ke,a,u);n.arc(ae.x,ae.y,Q,M+Pt,ke+Math.PI)}const he=(M-Q/v+(R+Y/v))/2;if(n.arc(a,u,v,M-Q/v,he,!0),n.arc(a,u,v,he,R+Y/v,!0),Y>0){const ae=Ca(L,O,a,u);n.arc(ae.x,ae.y,Y,O+Math.PI,R-Pt)}const ie=Ca(D,R,a,u);if(n.lineTo(ie.x,ie.y),B>0){const ae=Ca(D,C,a,u);n.arc(ae.x,ae.y,B,R-Pt,C)}}else{n.moveTo(a,u);const Se=Math.cos(C)*g+a,Pe=Math.sin(C)*g+u;n.lineTo(Se,Pe);const he=Math.cos(k)*g+a,ie=Math.sin(k)*g+u;n.lineTo(he,ie)}n.closePath()}function fU(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:u}=e;let c=e.endAngle;if(s){bf(n,e,t,i,c,r);for(let d=0;d<s;++d)n.fill();isNaN(u)||(c=a+(u%xt||xt))}return bf(n,e,t,i,c,r),n.fill(),c}function pU(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:u,options:c}=e,{borderWidth:d,borderJoinStyle:m,borderDash:g,borderDashOffset:v}=c,E=c.borderAlign==="inner";if(!d)return;n.setLineDash(g||[]),n.lineDashOffset=v,E?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let x=e.endAngle;if(s){bf(n,e,t,i,x,r);for(let A=0;A<s;++A)n.stroke();isNaN(u)||(x=a+(u%xt||xt))}E&&cU(n,e,x),s||(bf(n,e,t,i,x,r),n.stroke())}class Du extends Vc{constructor(t){super();De(this,"circumference");De(this,"endAngle");De(this,"fullCircles");De(this,"innerRadius");De(this,"outerRadius");De(this,"pixelMargin");De(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:a,distance:u}=lC(s,{x:t,y:i}),{startAngle:c,endAngle:d,innerRadius:m,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),E=(this.options.spacing+this.options.borderWidth)/2,x=Xe(v,d-c),A=xf(a,c,d)&&c!==d,S=x>=xt||A,R=Pu(u,m+E,g+E);return S&&R}getCenterPoint(t){const{x:i,y:r,startAngle:s,endAngle:a,innerRadius:u,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:m}=this.options,g=(s+a)/2,v=(u+c+m+d)/2;return{x:i+Math.cos(g)*v,y:r+Math.sin(g)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>xt?Math.floor(r/xt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(Nt,r||0)),m=s*d;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,fU(t,this,m,a,u),pU(t,this,m,a,u),t.restore()}}De(Du,"id","arc"),De(Du,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),De(Du,"defaultRoutes",{backgroundColor:"backgroundColor"}),De(Du,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const wS=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},mU=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class ES extends Vc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=nt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Sn(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=wS(i,s);let d,m;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(a,s,u,c)+10):(m=this.maxHeight,d=this._fitCols(a,r,u,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],m=r+u;let g=e;s.textAlign="left",s.textBaseline="middle";let v=-1,E=-m;return this.legendItems.forEach((x,A)=>{const S=i+t/2+s.measureText(x.text).width;(A===0||d[d.length-1]+S+2*u>a)&&(g+=m,d[d.length-(A>0?0:1)]=0,E+=m,v++),c[A]={left:0,top:E,row:v,width:S,height:r},d[d.length-1]+=S+u}),g}_fitCols(e,t,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],m=a-e;let g=u,v=0,E=0,x=0,A=0;return this.legendItems.forEach((S,R)=>{const{itemWidth:M,itemHeight:B}=gU(i,t,s,S,r);R>0&&E+B+2*u>m&&(g+=v+u,d.push({width:v,height:E}),x+=v+u,A++,v=E=0),c[R]={left:x,top:E,col:A,width:M,height:B},v=Math.max(v,M),E+=B+u}),g+=v,d.push({width:v,height:E}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,a=$a(s,this.left,this.width);if(this.isHorizontal()){let u=0,c=Dn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of t)u!==d.row&&(u=d.row,c=Dn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+e+r,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+r}else{let u=0,c=Dn(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const d of t)d.col!==u&&(u=d.col,c=Dn(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),d.top=c,d.left+=this.left+r,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;r_(e,this),this._draw(),s_(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,u=vt.color,c=$a(e.rtl,this.left,this.width),d=Sn(a.font),{padding:m}=a,g=d.size,v=g/2;let E;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:A,itemHeight:S}=wS(a,g),R=function(Q,D,b){if(isNaN(x)||x<=0||isNaN(A)||A<0)return;r.save();const C=Xe(b.lineWidth,1);if(r.fillStyle=Xe(b.fillStyle,u),r.lineCap=Xe(b.lineCap,"butt"),r.lineDashOffset=Xe(b.lineDashOffset,0),r.lineJoin=Xe(b.lineJoin,"miter"),r.lineWidth=C,r.strokeStyle=Xe(b.strokeStyle,u),r.setLineDash(Xe(b.lineDash,[])),a.usePointStyle){const k={radius:A*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:C},L=c.xPlus(Q,x/2),F=D+v;pC(r,k,L,F,a.pointStyleWidth&&x)}else{const k=D+Math.max((g-A)/2,0),L=c.leftForLtr(Q,x),F=Ku(b.borderRadius);r.beginPath(),Object.values(F).some(O=>O!==0)?py(r,{x:L,y:k,w:x,h:A,radius:F}):r.rect(L,k,x,A),r.fill(),C!==0&&r.stroke()}r.restore()},M=function(Q,D,b){Sf(r,b.text,Q,D+S/2,d,{strikethrough:b.hidden,textAlign:c.textAlign(b.textAlign)})},B=this.isHorizontal(),q=this._computeTitleHeight();B?E={x:Dn(s,this.left+m,this.right-i[0]),y:this.top+m+q,line:0}:E={x:this.left+m,y:Dn(s,this.top+q+m,this.bottom-t[0].height),line:0},wC(this.ctx,e.textDirection);const Y=S+m;this.legendItems.forEach((Q,D)=>{r.strokeStyle=Q.fontColor,r.fillStyle=Q.fontColor;const b=r.measureText(Q.text).width,C=c.textAlign(Q.textAlign||(Q.textAlign=a.textAlign)),k=x+v+b;let L=E.x,F=E.y;c.setWidth(this.width),B?D>0&&L+k+m>this.right&&(F=E.y+=Y,E.line++,L=E.x=Dn(s,this.left+m,this.right-i[E.line])):D>0&&F+Y>this.bottom&&(L=E.x=L+t[E.line].width+m,E.line++,F=E.y=Dn(s,this.top+q+m,this.bottom-t[E.line].height));const O=c.x(L);if(R(O,F,Q),L=Zj(C,L+x+v,B?L+k:this.right,e.rtl),M(c.x(L),F,Q),B)E.x+=k+m;else if(typeof Q.text!="string"){const ke=d.lineHeight;E.y+=MC(Q,ke)+m}else E.y+=Y}),EC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Sn(t.font),r=yi(t.padding);if(!t.display)return;const s=$a(e.rtl,this.left,this.width),a=this.ctx,u=t.position,c=i.size/2,d=r.top+c;let m,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+d,g=Dn(e.align,g,this.right-v);else{const x=this.columnSizes.reduce((A,S)=>Math.max(A,S.height),0);m=d+Dn(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const E=Dn(u,g,g+v);a.textAlign=s.textAlign(dC(u)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,Sf(a,t.text,E,m,i)}_computeTitleHeight(){const e=this.options.title,t=Sn(e.font),i=yi(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Pu(e,this.left,this.right)&&Pu(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Pu(e,r.left,r.left+r.width)&&Pu(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!_U(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=mU(r,i);r&&!s&&nt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&nt(t.onHover,[e,i,this],this)}else i&&nt(t.onClick,[e,i,this],this)}}function gU(n,e,t,i,r){const s=yU(i,n,e,t),a=vU(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function yU(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+i.measureText(r).width}function vU(n,e,t){let i=n;return typeof e.text!="string"&&(i=MC(e,t)),i}function MC(n,e){const t=n.text?n.text.length:0;return e*t}function _U(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var wU={id:"legend",_element:ES,start(n,e,t){const i=n.legend=new ES({ctx:n.ctx,options:t,chart:n});us.configure(n,i,t),us.addBox(n,i)},stop(n){us.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;us.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),m=yi(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:a&&(u||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Mu={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const c=u.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((u,c)=>u+c)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,u;for(s=0,a=n.length;s<a;++s){const c=n[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),m=qj(e,d);m<r&&(r=m,u=c)}}if(u){const c=u.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Di(n,e){return e&&(qt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function cr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function EU(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:a,value:u}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function TS(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:u}=e,c=Sn(e.bodyFont),d=Sn(e.titleFont),m=Sn(e.footerFont),g=s.length,v=r.length,E=i.length,x=yi(e.padding);let A=x.height,S=0,R=i.reduce((q,Y)=>q+Y.before.length+Y.lines.length+Y.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,g&&(A+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),R){const q=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;A+=E*q+(R-E)*c.lineHeight+(R-1)*e.bodySpacing}v&&(A+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let M=0;const B=function(q){S=Math.max(S,t.measureText(q).width+M)};return t.save(),t.font=d.string,Ye(n.title,B),t.font=c.string,Ye(n.beforeBody.concat(n.afterBody),B),M=e.displayColors?a+2+e.boxPadding:0,Ye(i,q=>{Ye(q.before,B),Ye(q.lines,B),Ye(q.after,B)}),M=0,t.font=m.string,Ye(n.footer,B),t.restore(),S+=x.width,{width:S,height:A}}function TU(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function xU(n,e,t,i){const{x:r,width:s}=i,a=t.caretSize+t.caretPadding;if(n==="left"&&r+s+a>e.width||n==="right"&&r-s-a<0)return!0}function SU(n,e,t,i){const{x:r,width:s}=t,{width:a,chartArea:{left:u,right:c}}=n;let d="center";return i==="center"?d=r<=(u+c)/2?"left":"right":r<=s/2?d="left":r>=a-s/2&&(d="right"),xU(d,n,e,t)&&(d="center"),d}function xS(n,e,t){const i=t.yAlign||e.yAlign||TU(n,t);return{xAlign:t.xAlign||e.xAlign||SU(n,e,t,i),yAlign:i}}function IU(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function AU(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function SS(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:u,yAlign:c}=t,d=r+s,{topLeft:m,topRight:g,bottomLeft:v,bottomRight:E}=Ku(a);let x=IU(e,u);const A=AU(e,c,d);return c==="center"?u==="left"?x+=d:u==="right"&&(x-=d):u==="left"?x-=Math.max(m,v)+r:u==="right"&&(x+=Math.max(g,E)+r),{x:Yn(x,0,i.width-e.width),y:Yn(A,0,i.height-e.height)}}function _d(n,e,t){const i=yi(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function IS(n){return Di([],cr(n))}function bU(n,e,t){return ml(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function AS(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const OC={beforeTitle:lr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:lr,beforeBody:lr,beforeLabel:lr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return sn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:lr,afterBody:lr,beforeFooter:lr,footer:lr,afterFooter:lr};function wn(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?OC[e].call(t,i):r}class vy extends Vc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new TC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=bU(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=wn(i,"beforeTitle",this,e),s=wn(i,"title",this,e),a=wn(i,"afterTitle",this,e);let u=[];return u=Di(u,cr(r)),u=Di(u,cr(s)),u=Di(u,cr(a)),u}getBeforeBody(e,t){return IS(wn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Ye(e,s=>{const a={before:[],lines:[],after:[]},u=AS(i,s);Di(a.before,cr(wn(u,"beforeLabel",this,s))),Di(a.lines,wn(u,"label",this,s)),Di(a.after,cr(wn(u,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,t){return IS(wn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=wn(i,"beforeFooter",this,e),s=wn(i,"footer",this,e),a=wn(i,"afterFooter",this,e);let u=[];return u=Di(u,cr(r)),u=Di(u,cr(s)),u=Di(u,cr(a)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],a=[];let u=[],c,d;for(c=0,d=t.length;c<d;++c)u.push(EU(this.chart,t[c]));return e.filter&&(u=u.filter((m,g,v)=>e.filter(m,g,v,i))),e.itemSort&&(u=u.sort((m,g)=>e.itemSort(m,g,i))),Ye(u,m=>{const g=AS(e.callbacks,m);r.push(wn(g,"labelColor",this,m)),s.push(wn(g,"labelPointStyle",this,m)),a.push(wn(g,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const u=Mu[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=TS(this,i),d=Object.assign({},u,c),m=xS(this.chart,i,d),g=SS(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,s={opacity:1,x:g.x,y:g.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:u}=i,{topLeft:c,topRight:d,bottomLeft:m,bottomRight:g}=Ku(u),{x:v,y:E}=e,{width:x,height:A}=t;let S,R,M,B,q,Y;return s==="center"?(q=E+A/2,r==="left"?(S=v,R=S-a,B=q+a,Y=q-a):(S=v+x,R=S+a,B=q-a,Y=q+a),M=S):(r==="left"?R=v+Math.max(c,m)+a:r==="right"?R=v+x-Math.max(d,g)-a:R=this.caretX,s==="top"?(B=E,q=B-a,S=R-a,M=R+a):(B=E+A,q=B+a,S=R+a,M=R-a),Y=B),{x1:S,x2:R,x3:M,y1:B,y2:q,y3:Y}}drawTitle(e,t,i){const r=this.title,s=r.length;let a,u,c;if(s){const d=$a(i.rtl,this.x,this.width);for(e.x=_d(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",a=Sn(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=a.string,c=0;c<s;++c)t.fillText(r[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+u,c+1===s&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,s){const a=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=s,m=Sn(s.bodyFont),g=_d(this,"left",s),v=r.x(g),E=c<m.lineHeight?(m.lineHeight-c)/2:0,x=t.y+E;if(s.usePointStyle){const A={radius:Math.min(d,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=r.leftForLtr(v,d)+d/2,R=x+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Wx(e,A,S,R),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Wx(e,A,S,R)}else{e.lineWidth=He(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const A=r.leftForLtr(v,d),S=r.leftForLtr(r.xPlus(v,1),d-2),R=Ku(a.borderRadius);Object.values(R).some(M=>M!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,py(e,{x:A,y:x,w:d,h:c,radius:R}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),py(e,{x:S,y:x+1,w:d-2,h:c-2,radius:R}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(A,x,d,c),e.strokeRect(A,x,d,c),e.fillStyle=a.backgroundColor,e.fillRect(S,x+1,d-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:u,boxHeight:c,boxWidth:d,boxPadding:m}=i,g=Sn(i.bodyFont);let v=g.lineHeight,E=0;const x=$a(i.rtl,this.x,this.width),A=function(b){t.fillText(b,x.x(e.x+E),e.y+v/2),e.y+=v+s},S=x.textAlign(a);let R,M,B,q,Y,Q,D;for(t.textAlign=a,t.textBaseline="middle",t.font=g.string,e.x=_d(this,S,i),t.fillStyle=i.bodyColor,Ye(this.beforeBody,A),E=u&&S!=="right"?a==="center"?d/2+m:d+2+m:0,q=0,Q=r.length;q<Q;++q){for(R=r[q],M=this.labelTextColors[q],t.fillStyle=M,Ye(R.before,A),B=R.lines,u&&B.length&&(this._drawColorBox(t,e,q,x,i),v=Math.max(g.lineHeight,c)),Y=0,D=B.length;Y<D;++Y)A(B[Y]),v=g.lineHeight;Ye(R.after,A)}E=0,v=g.lineHeight,Ye(this.afterBody,A),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let a,u;if(s){const c=$a(i.rtl,this.x,this.width);for(e.x=_d(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",a=Sn(i.footerFont),t.fillStyle=i.footerColor,t.font=a.string,u=0;u<s;++u)t.fillText(r[u],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:a}=this,{x:u,y:c}=e,{width:d,height:m}=i,{topLeft:g,topRight:v,bottomLeft:E,bottomRight:x}=Ku(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+g,c),a==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+d-v,c),t.quadraticCurveTo(u+d,c,u+d,c+v),a==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+d,c+m-x),t.quadraticCurveTo(u+d,c+m,u+d-x,c+m),a==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+E,c+m),t.quadraticCurveTo(u,c+m,u,c+m-E),a==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,c+g),t.quadraticCurveTo(u,c,u+g,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=Mu[e.position].call(this,this._active,this._eventPosition);if(!a)return;const u=this._size=TS(this,e),c=Object.assign({},a,this._size),d=xS(t,e,c),m=SS(e,c,d,t);(r._to!==m.x||s._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=yi(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),wC(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),EC(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:c})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[c],index:c}}),s=!vf(i,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,i),u=this._positionChanged(a,e),c=t||!vf(a,s)||u;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,a=Mu[s.position].call(this,e,t);return a!==!1&&(i!==a.x||r!==a.y)}}De(vy,"positioners",Mu);var CU={id:"tooltip",_element:vy,positioners:Mu,afterInit(n,e,t){t&&(n.tooltip=new vy({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const lp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(lp);function bS(n,e){return n-e}function CS(n,e){if(sn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Ar(a)||(a=typeof i=="string"?t.parse(a,i):t.parse(a)),a===null?null:(r&&(a=r==="week"&&(Tf(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,r)),+a)}function PS(n,e,t,i){const r=xn.length;for(let s=xn.indexOf(n);s<r-1;++s){const a=lp[xn[s]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(u*a.size))<=i)return xn[s]}return xn[r-1]}function PU(n,e,t,i,r){for(let s=xn.length-1;s>=xn.indexOf(t);s--){const a=xn[s];if(lp[a].common&&n._adapter.diff(r,i,a)>=e-1)return a}return xn[t?xn.indexOf(t):0]}function RU(n){for(let e=xn.indexOf(n)+1,t=xn.length;e<t;++e)if(lp[xn[e]].common)return xn[e]}function RS(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=i_(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function kU(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let u,c;for(u=s;u<=a;u=+r.add(u,1,i))c=t[u],c>=0&&(e[c].major=!0);return e}function kS(n,e,t){const i=[],r={},s=e.length;let a,u;for(a=0;a<s;++a)u=e[a],r[u]=a,i.push({value:u,major:!1});return s===0||!t?i:kU(n,i,r,t)}class Cf extends op{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new tB._date(e.adapters.date);r.init(t),Wu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:CS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:u}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!u)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Ar(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Ar(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,u=Yj(r,s,a);return this._unit=t.unit||(i.autoSkip?PS(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):PU(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:RU(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),kS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Yn(t,0,a),i=Yn(i,0,a),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||PS(s.minUnit,t,i,this._getLabelCapacity(t)),u=Xe(r.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=Tf(c)||c===!0,m={};let g=t,v,E;if(d&&(g=+e.startOf(g,"isoWeek",c)),g=+e.startOf(g,d?"day":a),e.diff(i,t,a)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+a);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(v=g,E=0;v<i;v=+e.add(v,u,a),E++)RS(m,v,x);return(v===i||r.bounds==="ticks"||E===1)&&RS(m,v,x),Object.keys(m).sort(bS).map(A=>+A)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,a=t||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,i,r){const s=this.options,a=s.ticks.callback;if(a)return nt(a,[e,t,i],this);const u=s.time.displayFormats,c=this._unit,d=this._majorUnit,m=c&&u[c],g=d&&u[d],v=i[t],E=d&&g&&v&&v.major;return this._adapter.format(e,r||(E?g:m))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=vo(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*a,h:i*a+u*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,kS(this,[e],this._majorUnit),r),a=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(CS(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Qj(e.sort(bS))}}De(Cf,"id","time"),De(Cf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function wd(n,e,t){let i=0,r=n.length-1,s,a,u,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=dy(n,"pos",e)),{pos:s,time:u}=n[i],{pos:a,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=dy(n,"time",e)),{time:s,pos:u}=n[i],{time:a,pos:c}=n[r]);const d=a-s;return d?u+(c-u)*(e-s)/d:u}class DS extends Cf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=wd(t,this.min),this._tableRange=wd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let a,u,c,d,m;for(a=0,u=e.length;a<u;++a)d=e[a],d>=t&&d<=i&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,u=r.length;a<u;++a)m=r[a+1],c=r[a-1],d=r[a],Math.round((m+c)/2)!==d&&s.push({time:d,pos:a/(u-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(wd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return wd(this._table,i*this._tableRange+this._minPos,!0)}}De(DS,"id","timeseries"),De(DS,"defaults",Cf.defaults);const VC="label";function MS(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function DU(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function LC(n,e){n.labels=e}function NC(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:VC;const i=[];n.datasets=e.map(r=>{const s=n.datasets.find(a=>a[t]===r[t]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function MU(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VC;const t={labels:[],datasets:[]};return LC(t,n.labels),NC(t,n.datasets,e),t}function OU(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:u,options:c,plugins:d=[],fallbackContent:m,updateMode:g,...v}=n,E=U.useRef(null),x=U.useRef(null),A=()=>{E.current&&(x.current=new ap(E.current,{type:a,data:MU(u,s),options:c&&{...c},plugins:d}),MS(e,x.current))},S=()=>{MS(e,null),x.current&&(x.current.destroy(),x.current=null)};return U.useEffect(()=>{!r&&x.current&&c&&DU(x.current,c)},[r,c]),U.useEffect(()=>{!r&&x.current&&LC(x.current.config.data,u.labels)},[r,u.labels]),U.useEffect(()=>{!r&&x.current&&u.datasets&&NC(x.current.config.data,u.datasets,s)},[r,u.datasets]),U.useEffect(()=>{x.current&&(r?(S(),setTimeout(A)):x.current.update(g))},[r,c,u.labels,u.datasets,g]),U.useEffect(()=>{x.current&&(S(),setTimeout(A))},[a]),U.useEffect(()=>(A(),()=>S()),[]),Pf.createElement("canvas",{ref:E,role:"img",height:t,width:i,...v},m)}const VU=U.forwardRef(OU);function LU(n,e){return ap.register(e),U.forwardRef((t,i)=>Pf.createElement(VU,{...t,ref:i,type:n}))}const NU=LU("pie",my);ap.register(Du,CU,wU);const FU=({data:n,options:e})=>{const{colors:t}=br();return $.jsx("div",{style:{backgroundColor:t.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:"24px",fontFamily:"'Outfit', sans-serif",color:t.text,display:"flex",justifyContent:"center",alignItems:"center"},children:$.jsx(NU,{data:n,options:e})})},jU=async n=>{try{await aM(Pc),localStorage.clear(),sessionStorage.clear(),n("/",{replace:!0}),window.location.reload()}catch(e){console.error("Error signing out:",e)}},f_=()=>{const{colors:n}=br(),e=Po(),t=_i(),i=Pc.currentUser,r=async()=>{try{await jU(),e("/")}catch(g){console.error("Logout error:",g)}},s=()=>{e(i?"/courses":"/")},a=t.pathname==="/courses",u=t.pathname==="/running-session",c=t.pathname==="/dashboard",d=t.pathname==="/help",m=()=>u?" - Running Session":a?" - Current Courses":c?" - Dashboard":d?" - Help":"";return $.jsx(qe.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},style:{background:"linear-gradient(to right, #1a237e, #283593)",padding:"1rem 2rem",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",position:"sticky",top:0,zIndex:1e3,display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:$.jsxs("div",{style:{maxWidth:"1280px",width:"100%",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[$.jsxs(qe.div,{style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer"},onClick:s,whileHover:{scale:1.02},whileTap:{scale:.98},children:[$.jsx(qe.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},src:"/IpBeep/IPBeep_White.png",alt:"IPBeep Logo",style:{height:"45px",width:"auto",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}),$.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.4},children:$.jsxs(qe.h1,{style:{color:"#ffffff",margin:0,fontSize:"1.75rem",fontWeight:700,fontFamily:"'Outfit', sans-serif",letterSpacing:"0.5px",textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:["IPBeep",m()]})})]}),$.jsxs(qe.div,{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[!a&&i&&$.jsx(qe.button,{whileHover:{scale:1.05,backgroundColor:"#3949ab"},whileTap:{scale:.95},onClick:()=>e("/courses"),style:{backgroundColor:"#303f9f",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"12px",cursor:"pointer",fontFamily:"'Outfit', sans-serif",fontSize:"0.95rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.75rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease"},children:$.jsx(qe.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},children:" Back to Courses"})}),i&&$.jsx(qe.button,{whileHover:{scale:1.05,backgroundColor:"#d32f2f"},whileTap:{scale:.95},onClick:r,style:{backgroundColor:"#c62828",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"12px",cursor:"pointer",fontFamily:"'Outfit', sans-serif",fontSize:"0.95rem",fontWeight:500,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease"},children:$.jsx(qe.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},children:"Logout"})})]})]})})},BU=async(n,e,t)=>{try{const i=n.toUpperCase();console.log(`
=== SEARCH PARAMETERS ===`),console.log("Searching for document with:",{course_id:i,session_id:t});const r=af(_o,"FlatDesign"),s=uf(r,go("course_id","==",i),go("session_id","==",t)),a=await cf(s);console.log(`
=== FLAT DESIGN QUERY RESULTS ===`),console.log("Query results:",{size:a.size,docs:a.docs.map(v=>({id:v.id,data:v.data()}))});let u=0,c={},d={};if(a.empty)console.warn("No matching document found");else{const v=a.docs[0].data();console.log(`
=== FLAT DESIGN DOCUMENT DATA ===`),console.log("Found document:",v),v.students?(c=v.students,u=Object.keys(c).length,Object.entries(c).forEach(([E,x])=>{d[E]=x.threshold||45,console.log(`Student ${E} threshold:`,d[E])}),console.log("Number of students found:",u),console.log("Student IDs:",Object.keys(c)),console.log("All student thresholds:",d)):console.warn("No students data found in document")}const m={totalStudents:u,ipConfirmed:0,faceConfirmed:0,verifiedAttendees:0,absentStudents:[]},g=new Set;return console.log(`
=== PROCESSING STUDENT ATTENDANCE ===`),Object.entries(c).forEach(([v,E])=>{const x=E.total_minutes||0,A=E.threshold||45,S=x>=A,R=E.face===!0,M=E.attended===!0;console.log(`
Student ${v}:`,{name:E.name,totalMinutes:x,threshold:A,isIpConfirmed:S,isFaceConfirmed:R,isAttended:M,comparison:`${x} >= ${A} = ${S}`}),S?(m.ipConfirmed++,console.log(` Student ${v} IP confirmed with ${x} minutes (threshold: ${A})`)):console.log(` Student ${v} NOT confirmed: ${x} minutes < ${A} threshold`),R&&(m.faceConfirmed++,console.log(` Student ${v} face confirmed`)),M&&(m.verifiedAttendees++,console.log(` Student ${v} marked as attended`),g.add(v))}),console.log(`
=== PROCESSING ABSENT STUDENTS ===`),Object.entries(c).forEach(([v,E])=>{g.has(v)||(m.absentStudents.push(E.name||E.student_name),console.log(`Student ${v} marked as absent`))}),console.log(`
=== FINAL ATTENDANCE DATA ===`,m),m}catch(i){return console.error("Error in getAttendanceData:",i),{totalStudents:0,ipConfirmed:0,faceConfirmed:0,verifiedAttendees:0,absentStudents:[],error:i.message}}},UU=({isOpen:n,onClose:e,courseId:t,sessionId:i})=>{const{colors:r}=br(),[s,a]=U.useState([]),[u,c]=U.useState(!0);U.useEffect(()=>{(async()=>{if(n)try{const g=uf(af(_o,"FlatDesign"),go("course_id","==",t.toUpperCase()),go("session_id","==",i)),v=await cf(g);if(!v.empty){const E=v.docs[0].data();if(E.students){const x=Object.entries(E.students).map(([A,S])=>({id:A,name:S.name||S.student_name,attended:S.attended||!1}));a(x)}}}catch(g){console.error("Error fetching students:",g)}finally{c(!1)}})()},[n,t,i]);const d=async m=>{try{const g=uf(af(_o,"FlatDesign"),go("course_id","==",t.toUpperCase()),go("session_id","==",i)),v=await cf(g);if(!v.empty){const E=Kg(_o,"FlatDesign",v.docs[0].id),x={...v.docs[0].data().students};x[m].attended=!x[m].attended,await VN(E,{students:x}),a(A=>A.map(S=>S.id===m?{...S,attended:!S.attended}:S))}}catch(g){console.error("Error updating attendance:",g)}};return n?$.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:$.jsxs("div",{style:{backgroundColor:r.cardBackground,borderRadius:"16px",padding:"24px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:[$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[$.jsx("h2",{style:{margin:0,color:r.text,fontFamily:"'Outfit', sans-serif",fontSize:"1.5rem",fontWeight:600},children:"Modify Attendance"}),$.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:r.textSecondary,padding:"4px"},children:""})]}),u?$.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"40px"},children:[$.jsx("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #1a237e",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite"}}),$.jsx("style",{children:`
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              `})]}):$.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.map(m=>$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderRadius:"8px",backgroundColor:m.attended?"#e8f5e9":"#ffebee",transition:"all 0.2s ease-in-out"},children:[$.jsx("span",{style:{color:m.attended?"#2e7d32":"#c62828",fontFamily:"'Outfit', sans-serif",fontWeight:500},children:m.name}),$.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"24px"},children:[$.jsx("input",{type:"checkbox",checked:m.attended,onChange:()=>d(m.id),style:{opacity:0,width:0,height:0}}),$.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:m.attended?"#4caf50":"#e0e0e0",transition:".4s",borderRadius:"24px"},children:$.jsx("span",{style:{position:"absolute",content:'""',height:"20px",width:"20px",left:"2px",bottom:"2px",backgroundColor:"white",transition:".4s",borderRadius:"50%",transform:m.attended?"translateX(26px)":"translateX(0)"}})})]})]},m.id))})]})}):null},zU=()=>{const{colors:n}=br(),e=_i(),{course:t,section:i,startTime:r,endTime:s,sessionId:a}=e.state||{},[u,c]=U.useState([{label:"Total Students",value:0},{label:"IP Address Confirmed Students",value:0},{label:"Face-recognition Confirmed Students",value:0},{label:"Number of Verified Attendees",value:0}]),[d,m]=U.useState([]),[g,v]=U.useState(!0),[E,x]=U.useState(null),[A,S]=U.useState(0),[R,M]=U.useState(!1),B=async()=>{if(!t||!i||!a){x("Missing required session information"),v(!1);return}try{const C=await BU(t,i,a);if(C.error){x(C.error),v(!1);return}c([{label:"Total Students",value:C.totalStudents},{label:"IP Address Confirmed Students",value:C.ipConfirmed},{label:"Face-recognition Confirmed Students",value:C.faceConfirmed},{label:"Number of Verified Attendees",value:C.verifiedAttendees}]),m(C.absentStudents),v(!1),x(null)}catch{x("Failed to fetch attendance data. Please try again."),v(!1)}};U.useEffect(()=>{B()},[t,i,a,A]);const q=()=>{v(!0),x(null),S(C=>C+1)},Y=r?new Date(r).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Q=s?new Date(s).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",D={labels:["Attended","Absent"],datasets:[{data:[u[3].value,u[0].value-u[3].value],backgroundColor:["#4caf50","#f44336"],borderColor:["#388e3c","#d32f2f"],borderWidth:2,hoverOffset:4}]},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{family:"'Outfit', sans-serif",size:14},color:n.text}},tooltip:{backgroundColor:n.cardBackground,titleColor:n.text,bodyColor:n.text,borderColor:n.border,borderWidth:1,padding:12,boxPadding:6,usePointStyle:!0,callbacks:{label:function(C){const k=C.label||"",L=C.raw||0,F=C.dataset.data.reduce((ke,Se)=>ke+Se,0),O=Math.round(L/F*100);return`${k}: ${L} (${O}%)`}}}}};return $.jsxs("div",{style:{backgroundColor:n.background,fontFamily:"'Outfit', sans-serif",minHeight:"100vh"},children:[$.jsx(f_,{course:t,section:i}),$.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px",paddingTop:"84px",paddingBottom:"64px"},children:[E&&$.jsxs("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"16px",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[$.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[$.jsx("span",{children:""}),$.jsx("span",{children:E})]}),$.jsx("button",{onClick:q,style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#c62828",color:"white",cursor:"pointer",fontFamily:"'Outfit', sans-serif",fontSize:"0.9rem",fontWeight:600},onMouseOver:C=>C.currentTarget.style.backgroundColor="#b71c1c",onMouseOut:C=>C.currentTarget.style.backgroundColor="#c62828",children:"Retry"})]}),g?$.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:[$.jsx("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #1a237e",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite"}}),$.jsx("style",{children:`
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              `})]}):$.jsxs($.Fragment,{children:[t&&i&&r&&$.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:24,marginBottom:24,fontFamily:"'Outfit', sans-serif",color:n.text},children:[$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[$.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:600,color:n.text},children:"Session Details"}),$.jsxs("div",{style:{display:"flex",gap:"12px"},children:[$.jsx("button",{onClick:()=>window.print(),style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#1a237e",color:"white",fontFamily:"'Outfit', sans-serif",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:C=>C.currentTarget.style.backgroundColor="#283593",onMouseOut:C=>C.currentTarget.style.backgroundColor="#1a237e",children:"Print Report"}),$.jsx("button",{onClick:()=>M(!0),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #1a237e",backgroundColor:"transparent",color:"#1a237e",fontFamily:"'Outfit', sans-serif",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:C=>{C.currentTarget.style.backgroundColor="#f5f7ff"},onMouseOut:C=>{C.currentTarget.style.backgroundColor="transparent"},children:"Modify Manually"})]})]}),$.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"1rem",color:n.textSecondary},children:[$.jsx("span",{style:{fontWeight:600},children:"Course:"})," ",t.toUpperCase()," Session ",i]}),$.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"1rem",color:n.textSecondary},children:[$.jsx("span",{style:{fontWeight:600},children:"Start Time:"})," ",Y]}),$.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"1rem",color:n.textSecondary},children:[$.jsx("span",{style:{fontWeight:600},children:"End Time:"})," ",Q]})]}),$.jsx("div",{style:{display:"flex",gap:24,marginBottom:24,flexWrap:"wrap"},children:u.map(C=>$.jsx("div",{style:{flex:"1 1 200px",backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:24,transition:"all 0.3s ease-in-out",marginBottom:0,cursor:"pointer"},onMouseOver:k=>k.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",onMouseOut:k=>k.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.05)",children:$.jsxs("div",{children:[$.jsx("span",{style:{color:"#546e7a",fontFamily:"'Outfit', sans-serif",fontWeight:500,display:"block",marginBottom:8},children:C.label}),$.jsx("span",{style:{fontWeight:700,fontFamily:"'Outfit', sans-serif",color:"#1a237e",fontSize:32},children:C.value})]})},C.label))}),$.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap"},children:[$.jsx("div",{style:{flex:"1 1 300px",minWidth:300},children:$.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",marginBottom:24,padding:24,height:"100%",cursor:"pointer"},onMouseOver:C=>C.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",onMouseOut:C=>C.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.05)",children:[$.jsx("span",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,color:"#1a237e",marginBottom:16,display:"block",fontSize:20},children:"Percentage of Attendance"}),$.jsx("div",{style:{height:300,display:"flex",alignItems:"center",justifyContent:"center"},children:$.jsx(FU,{data:D,options:b})})]})}),$.jsx("div",{style:{flex:"3 1 600px",minWidth:300},children:$.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:24,height:"100%",cursor:"pointer"},onMouseOver:C=>C.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",onMouseOut:C=>C.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.05)",children:[$.jsx("span",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,color:"#1a237e",marginBottom:16,display:"block",fontSize:20},children:"List of Absent Students"}),$.jsx("ul",{style:{padding:0,margin:0,listStyle:"none"},children:d.map(C=>$.jsx("li",{style:{borderRadius:8,transition:"all 0.2s ease-in-out",fontFamily:"'Outfit', sans-serif",color:"#546e7a",padding:"8px 0 8px 8px",marginBottom:4,fontSize:16,cursor:"pointer"},onMouseOver:k=>k.currentTarget.style.backgroundColor="#f5f7ff",onMouseOut:k=>k.currentTarget.style.backgroundColor="",children:C},C))})]})})]})]})]}),$.jsx(UU,{isOpen:R,onClose:()=>{M(!1),B()},courseId:t,sessionId:a})]})},$U=({courseId:n,isSelected:e,onClick:t,isHovered:i})=>{const{colors:r}=br(),[s,a]=U.useState(null),[u,c]=U.useState(!0),[d,m]=U.useState(!1);return U.useEffect(()=>{(async()=>{c(!0),m(!1),a(null);try{const v=af(_o,"FlatDesign"),E=uf(v,go("course_id","==",n.toUpperCase())),x=await cf(E);if(x.empty){m(!0),c(!1);return}const A=x.docs.map(D=>D.data()),S=new Set;let R=0,M=0,B=0,q=A.length;A.forEach(D=>{D.students&&typeof D.students=="object"&&Object.entries(D.students).forEach(([b,C])=>{S.add(b),C.threshold&&typeof C.threshold=="number"&&(R+=C.threshold,M++),C.attended===!0&&B++})});const Y=M>0?Math.round(R/M):0,Q=q>0&&S.size>0?Math.round(B/(S.size*q)*100):0;a({totalRegisteredStudents:S.size,sectionsCount:q,avgClassDuration:Y,avgAttendedPercentage:Q})}catch(v){console.error("Error fetching course data:",v),m(!0)}finally{c(!1)}})()},[n]),$.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},children:$.jsx(Jv,{tiltMaxAngleX:5,tiltMaxAngleY:5,perspective:1e3,glareEnable:!0,glareMaxOpacity:.1,glareColor:"#1a237e",glarePosition:"all",glareBorderRadius:"16px",children:$.jsxs(qe.div,{style:{backgroundColor:e?"#f5f7ff":"#ffffff",borderRadius:"16px",boxShadow:i?"0 8px 30px rgba(0,0,0,0.1)":e?"0 4px 25px rgba(0,0,0,0.1)":"0 4px 20px rgba(0,0,0,0.05)",padding:"24px",cursor:"pointer",border:e?"3px solid #1a237e":"1px solid transparent",transform:i?"translateY(-5px)":"translateY(0)",transition:"all 0.3s ease-in-out"},onClick:t,children:[$.jsx(qe.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{color:"#1a237e",fontSize:"1.5rem",fontWeight:600,margin:0,fontFamily:"'Outfit', sans-serif"},children:n}),u&&$.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},style:{color:r.textSecondary,textAlign:"center",padding:"20px"},children:"Loading course data..."}),(d||!s)&&!u&&$.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},style:{color:r.textSecondary,textAlign:"center",padding:"20px"},children:"No classes started yet for this course."}),s&&!u&&$.jsx(qe.table,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{width:"100%",borderCollapse:"collapse",marginTop:"16px"},children:$.jsxs("tbody",{children:[$.jsxs(qe.tr,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},style:{borderBottom:`1px solid ${r.border}`},children:[$.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:r.textSecondary},children:"Total Registered Students:"}),$.jsx("td",{style:{padding:"8px 0",textAlign:"right",color:r.text},children:s.totalRegisteredStudents})]}),$.jsxs(qe.tr,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},style:{borderBottom:`1px solid ${r.border}`},children:[$.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:r.textSecondary},children:"Number of Given Sessions:"}),$.jsx("td",{style:{padding:"8px 0",textAlign:"right",color:r.text},children:s.sectionsCount})]}),$.jsxs(qe.tr,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},style:{borderBottom:`1px solid ${r.border}`},children:[$.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:r.textSecondary},children:"Avg Class Duration:"}),$.jsxs("td",{style:{padding:"8px 0",textAlign:"right",color:r.text},children:[s.avgClassDuration," mins"]})]}),$.jsxs(qe.tr,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7},children:[$.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:r.textSecondary},children:"Avg Attended Students (%):"}),$.jsxs("td",{style:{padding:"8px 0",textAlign:"right",color:r.text},children:[s.avgAttendedPercentage,"%"]})]})]})})]})})})},WU=()=>{const{colors:n}=br(),e=Po(),[t,i]=U.useState("User"),[r,s]=U.useState(!0),[a,u]=U.useState([]),[c,d]=U.useState(null),[m,g]=U.useState(null),[v,E]=U.useState(!1),[x,A]=U.useState(""),[S,R]=U.useState("");U.useEffect(()=>{const b=V1(Pc,async C=>{var k;if(C)try{const L=await MN(Kg(_o,"instructors",C.uid));if(L.exists()){const F=L.data();if(console.log("Instructor data:",F),i(F.name||"User"),F.courses&&Array.isArray(F.courses)){const O=[...new Set(F.courses)];u(O)}else u([])}else console.log("No instructor document found for user"),i(((k=C.email)==null?void 0:k.split("@")[0])||"User"),u([])}catch(L){console.error("Error fetching instructor data:",L),i("User"),u([])}else console.log("No user is signed in");s(!1)});return()=>b()},[]);const M=b=>d(b),B=()=>d(null),q=b=>{console.log("Selected course:",b),g(b)},Y=()=>{E(!1),g(null)},Q=async()=>{if(console.log("Attempting to start session..."),m&&x&&S)try{const b={course_id:m.toUpperCase(),session_id:x,threshold_minutes:parseInt(S,10)};console.log('Writing session config to Firestore document "details":',b),await ON(Kg(_o,"Session_config","details"),b),console.log('Document "details" successfully written/updated.');const C=new Date().toISOString();console.log("Navigating to /runningsession..."),e("/runningsession",{state:{course:m,section:x,startTime:C,sessionDuration:S}}),Y()}catch(b){console.error("Error writing document to Firestore: ",b),alert(`Failed to start session: ${b.message}`)}else console.log("Cannot start session: missing selectedCourse, sessionNumber, or sessionDuration."),alert("Please select a course, session number, and duration.")},D=b=>({backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:c===b?"0 8px 30px rgba(0,0,0,0.1)":m===b?"0 4px 25px rgba(0,0,0,0.1)":"0 4px 20px rgba(0,0,0,0.05)",padding:"24px",transition:"all 0.3s ease-in-out",cursor:"pointer",border:m===b?"3px solid #1a237e":"1px solid transparent",transform:c===b?"translateY(-5px)":"translateY(0)",outline:m===b?"2px solid rgba(26, 35, 126, 0.4)":"none"});return r?$.jsx("div",{style:{minHeight:"100vh",backgroundColor:n.background,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"'Outfit', sans-serif"},children:$.jsx("h2",{style:{color:n.text},children:"Loading..."})}):$.jsxs("div",{style:{minHeight:"100vh",backgroundColor:n.background,fontFamily:"'Outfit', sans-serif"},children:[$.jsx(f_,{isCoursesPage:!0}),$.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px",paddingTop:"84px"},children:[$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[$.jsxs("h2",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,color:n.text,fontSize:"1.8rem",margin:0},children:["Welcome back, ",t,"!"]}),m&&$.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[$.jsxs("select",{style:{padding:"10px",borderRadius:"8px",border:`1px solid ${n.border}`,backgroundColor:n.inputBackground,color:n.text,fontFamily:"'Outfit', sans-serif",fontSize:"1rem"},value:x,onChange:b=>A(b.target.value),children:[$.jsx("option",{value:"",children:"Select Session"}),[...Array(50)].map((b,C)=>$.jsx("option",{value:C+1,children:C+1},C+1))]}),$.jsxs("select",{style:{padding:"10px",borderRadius:"8px",border:`1px solid ${n.border}`,backgroundColor:n.inputBackground,color:n.text,fontFamily:"'Outfit', sans-serif",fontSize:"1rem"},value:S,onChange:b=>R(b.target.value),children:[$.jsx("option",{value:"",children:"Select Duration"}),[...Array(60)].map((b,C)=>$.jsxs("option",{value:C+1,children:[C+1," min"]},C+1))]}),$.jsx("button",{onClick:Q,disabled:!x||!S,style:{padding:"10px 20px",borderRadius:"8px",border:"none",backgroundColor:x&&S?"#1a237e":"#e0e0e0",color:x&&S?"white":"#9e9e9e",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",cursor:x&&S?"pointer":"not-allowed",transition:"all 0.3s ease"},onMouseOver:b=>{x&&S&&(b.currentTarget.style.backgroundColor="#283593")},onMouseOut:b=>{x&&S&&(b.currentTarget.style.backgroundColor="#1a237e")},children:"Start Session"})]})]}),$.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:a.length>0?a.map(b=>$.jsx("div",{style:D(b.toLowerCase()),onMouseOver:()=>M(b.toLowerCase()),onMouseOut:B,onClick:()=>q(b.toLowerCase()),children:$.jsx($U,{courseId:b})},b)):$.jsxs("div",{style:{...D("no-courses"),gridColumn:"1 / -1",textAlign:"center",padding:"48px"},children:[$.jsxs("h3",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,fontSize:"1.2rem",color:n.text,marginBottom:"16px"},children:["There are no courses for ",t," yet!"]}),$.jsx("p",{style:{color:n.textSecondary,fontSize:"1rem"},children:"Please contact your administrator to add courses to your account."})]})})]})]})},HU=()=>{const{colors:n}=br();return $.jsx("div",{style:{minHeight:"100vh",backgroundColor:n.background,padding:"24px",fontFamily:"'Outfit', sans-serif"},children:$.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",backgroundColor:n.cardBackground,borderRadius:"16px",padding:"32px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:[$.jsx("h1",{style:{color:n.text,marginBottom:"24px"},children:"Help Center"}),$.jsxs("div",{style:{color:n.textSecondary,lineHeight:"1.6"},children:[$.jsx("h2",{style:{color:n.text,marginBottom:"16px"},children:"Frequently Asked Questions"}),$.jsx("p",{children:"This is a placeholder for the help content. Add your FAQ and support information here."})]})]})})},qU=()=>{const{colors:n}=br(),e=_i(),t=Po(),[i,r]=U.useState(""),{course:s,section:a,startTime:u,sessionDuration:c,sessionId:d}=e.state||{},m=u?new Date(u).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",g=()=>{const E=new Date().toISOString();t("/dashboard",{state:{course:s,section:a,startTime:u,sessionDuration:c,endTime:E,sessionId:a}})},v=()=>{const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let x="";for(let A=0;A<8;A++)x+=E.charAt(Math.floor(Math.random()*E.length));r(x)};return $.jsxs("div",{style:{minHeight:"100vh",backgroundColor:n.background,fontFamily:"'Outfit', sans-serif",color:n.text},children:[$.jsx(f_,{isRunningSessionPage:!0,course:s,section:a}),$.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px",paddingTop:"84px"},children:[$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[$.jsx("h2",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,fontSize:"1.8rem",margin:0,textAlign:"left"},children:"Running Session"}),$.jsx("button",{onClick:g,style:{padding:"12px 24px",borderRadius:"8px",border:"none",backgroundColor:"#dc3545",color:"white",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:E=>E.currentTarget.style.backgroundColor="#c82333",onMouseOut:E=>E.currentTarget.style.backgroundColor="#dc3545",children:"End Session"})]}),$.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:"24px",fontFamily:"'Outfit', sans-serif",color:n.text},children:[$.jsxs("p",{children:["Course: ",s?s.toUpperCase():"N/A"]}),$.jsxs("p",{children:["Session: ",a||"N/A"]}),$.jsxs("p",{children:["Duration: ",c?`${c} minutes`:"N/A"]}),$.jsxs("p",{children:["Start Time: ",m]}),$.jsx("p",{children:"The session is currently running, connect to the Wi-fi connection configured by the raspberry pi"}),$.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[$.jsx("h3",{style:{margin:"0 0 16px",fontSize:"1.2rem"},children:"Network Information"}),$.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[$.jsxs("div",{style:{backgroundColor:n.background,padding:"12px 16px",borderRadius:"8px",flex:1,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[$.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9,color:n.text},children:"SSID"}),$.jsx("p",{style:{margin:"4px 0 0",fontSize:"1.2rem",fontWeight:"bold",color:n.primary,fontFamily:"monospace",letterSpacing:"0.5px"},children:"IpBeep-Network"})]}),$.jsx("button",{onClick:v,style:{backgroundColor:"#1b237e",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:500,transition:"all 0.3s ease"},onMouseOver:E=>E.currentTarget.style.backgroundColor="#2a3496",onMouseOut:E=>E.currentTarget.style.backgroundColor="#1b237e",children:"Generate Password"})]}),i&&$.jsxs("div",{style:{marginTop:"16px",backgroundColor:n.background,padding:"12px 16px",borderRadius:"8px"},children:[$.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:"Generated Password"}),$.jsx("p",{style:{margin:"4px 0 0",fontSize:"1.2rem",fontWeight:"bold",fontFamily:"monospace",color:n.primary},children:i})]})]})]})]})]})},Ed=({children:n})=>{const e=Po(),[t,i]=Pf.useState(null);return U.useEffect(()=>{const r=V1(Pc,s=>{i(!!s),s||e("/",{replace:!0})});return()=>r()},[e]),t===null?null:t?n:$.jsx(WS,{to:"/",replace:!0})};function KU(){return $.jsx(xk,{children:$.jsx(fk,{children:$.jsx("div",{className:"App",children:$.jsxs($R,{children:[$.jsx(uo,{path:"/",element:$.jsx(dj,{})}),$.jsx(uo,{path:"/courses",element:$.jsx(Ed,{children:$.jsx(WU,{})})}),$.jsx(uo,{path:"/dashboard",element:$.jsx(Ed,{children:$.jsx(zU,{})})}),$.jsx(uo,{path:"/runningsession",element:$.jsx(Ed,{children:$.jsx(qU,{})})}),$.jsx(uo,{path:"/help",element:$.jsx(Ed,{children:$.jsx(HU,{})})})," ",$.jsx(uo,{path:"*",element:$.jsx(WS,{to:"/",replace:!0})})]})})})})}JP.createRoot(document.getElementById("root")).render($.jsx(Pf.StrictMode,{children:$.jsx(KU,{})}));
