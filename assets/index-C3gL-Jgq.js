var AC=Object.defineProperty;var RC=(n,e,t)=>e in n?AC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var De=(n,e,t)=>RC(n,typeof e!="symbol"?e+"":e,t);function PC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function uc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Li(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Pg={exports:{}},lu={},Og={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function OC(){if(B0)return Ne;B0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(j,J,ae){this.props=j,this.context=J,this.refs=T,this.updater=ae||x}A.prototype.isReactComponent={},A.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function O(){}O.prototype=A.prototype;function V(j,J,ae){this.props=j,this.context=J,this.refs=T,this.updater=ae||x}var $=V.prototype=new O;$.constructor=V,S($,A.prototype),$.isPureReactComponent=!0;var G=Array.isArray,L=Object.prototype.hasOwnProperty,Q={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function b(j,J,ae){var ge,Te={},Oe=null,ve=null;if(J!=null)for(ge in J.ref!==void 0&&(ve=J.ref),J.key!==void 0&&(Oe=""+J.key),J)L.call(J,ge)&&!I.hasOwnProperty(ge)&&(Te[ge]=J[ge]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var Le=Array(Pe),gt=0;gt<Pe;gt++)Le[gt]=arguments[gt+2];Te.children=Le}if(j&&j.defaultProps)for(ge in Pe=j.defaultProps,Pe)Te[ge]===void 0&&(Te[ge]=Pe[ge]);return{$$typeof:n,type:j,key:Oe,ref:ve,props:Te,_owner:Q.current}}function C(j,J){return{$$typeof:n,type:j.type,key:J,ref:j.ref,props:j.props,_owner:j._owner}}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function M(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return J[ae]})}var F=/\/+/g;function D(j,J){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):J.toString(36)}function Ee(j,J,ae,ge,Te){var Oe=typeof j;(Oe==="undefined"||Oe==="boolean")&&(j=null);var ve=!1;if(j===null)ve=!0;else switch(Oe){case"string":case"number":ve=!0;break;case"object":switch(j.$$typeof){case n:case e:ve=!0}}if(ve)return ve=j,Te=Te(ve),j=ge===""?"."+D(ve,0):ge,G(Te)?(ae="",j!=null&&(ae=j.replace(F,"$&/")+"/"),Ee(Te,J,ae,"",function(gt){return gt})):Te!=null&&(P(Te)&&(Te=C(Te,ae+(!Te.key||ve&&ve.key===Te.key?"":(""+Te.key).replace(F,"$&/")+"/")+j)),J.push(Te)),1;if(ve=0,ge=ge===""?".":ge+":",G(j))for(var Pe=0;Pe<j.length;Pe++){Oe=j[Pe];var Le=ge+D(Oe,Pe);ve+=Ee(Oe,J,ae,Le,Te)}else if(Le=y(j),typeof Le=="function")for(j=Le.call(j),Pe=0;!(Oe=j.next()).done;)Oe=Oe.value,Le=ge+D(Oe,Pe++),ve+=Ee(Oe,J,ae,Le,Te);else if(Oe==="object")throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ve}function ye(j,J,ae){if(j==null)return j;var ge=[],Te=0;return Ee(j,ge,"","",function(Oe){return J.call(ae,Oe,Te++)}),ge}function Ce(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var _e={current:null},ie={transition:null},le={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Q};return Ne.Children={map:ye,forEach:function(j,J,ae){ye(j,function(){J.apply(this,arguments)},ae)},count:function(j){var J=0;return ye(j,function(){J++}),J},toArray:function(j){return ye(j,function(J){return J})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ne.Component=A,Ne.Fragment=t,Ne.Profiler=i,Ne.PureComponent=V,Ne.StrictMode=r,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ne.cloneElement=function(j,J,ae){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ge=S({},j.props),Te=j.key,Oe=j.ref,ve=j._owner;if(J!=null){if(J.ref!==void 0&&(Oe=J.ref,ve=Q.current),J.key!==void 0&&(Te=""+J.key),j.type&&j.type.defaultProps)var Pe=j.type.defaultProps;for(Le in J)L.call(J,Le)&&!I.hasOwnProperty(Le)&&(ge[Le]=J[Le]===void 0&&Pe!==void 0?Pe[Le]:J[Le])}var Le=arguments.length-2;if(Le===1)ge.children=ae;else if(1<Le){Pe=Array(Le);for(var gt=0;gt<Le;gt++)Pe[gt]=arguments[gt+2];ge.children=Pe}return{$$typeof:n,type:j.type,key:Te,ref:Oe,props:ge,_owner:ve}},Ne.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},Ne.createElement=b,Ne.createFactory=function(j){var J=b.bind(null,j);return J.type=j,J},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:u,render:j}},Ne.isValidElement=P,Ne.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Ce}},Ne.memo=function(j,J){return{$$typeof:f,type:j,compare:J===void 0?null:J}},Ne.startTransition=function(j){var J=ie.transition;ie.transition={};try{j()}finally{ie.transition=J}},Ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.useCallback=function(j,J){return _e.current.useCallback(j,J)},Ne.useContext=function(j){return _e.current.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j){return _e.current.useDeferredValue(j)},Ne.useEffect=function(j,J){return _e.current.useEffect(j,J)},Ne.useId=function(){return _e.current.useId()},Ne.useImperativeHandle=function(j,J,ae){return _e.current.useImperativeHandle(j,J,ae)},Ne.useInsertionEffect=function(j,J){return _e.current.useInsertionEffect(j,J)},Ne.useLayoutEffect=function(j,J){return _e.current.useLayoutEffect(j,J)},Ne.useMemo=function(j,J){return _e.current.useMemo(j,J)},Ne.useReducer=function(j,J,ae){return _e.current.useReducer(j,J,ae)},Ne.useRef=function(j){return _e.current.useRef(j)},Ne.useState=function(j){return _e.current.useState(j)},Ne.useSyncExternalStore=function(j,J,ae){return _e.current.useSyncExternalStore(j,J,ae)},Ne.useTransition=function(){return _e.current.useTransition()},Ne.version="18.2.0",Ne}var W0;function ay(){return W0||(W0=1,Og.exports=OC()),Og.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function DC(){if(H0)return lu;H0=1;var n=ay(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var g,_={},y=null,x=null;f!==void 0&&(y=""+f),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(x=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(_[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:u,key:y,ref:x,props:_,_owner:i.current}}return lu.Fragment=t,lu.jsx=l,lu.jsxs=l,lu}var q0;function ly(){return q0||(q0=1,Pg.exports=DC()),Pg.exports}var W=ly(),U=ay();const cc=uc(U),pm=PC({__proto__:null,default:cc},[U]);var qh={},Dg={exports:{}},bn={},Mg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function MC(){return K0||(K0=1,function(n){function e(ie,le){var j=ie.length;ie.push(le);e:for(;0<j;){var J=j-1>>>1,ae=ie[J];if(0<i(ae,le))ie[J]=le,ie[j]=ae,j=J;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var le=ie[0],j=ie.pop();if(j!==le){ie[0]=j;e:for(var J=0,ae=ie.length,ge=ae>>>1;J<ge;){var Te=2*(J+1)-1,Oe=ie[Te],ve=Te+1,Pe=ie[ve];if(0>i(Oe,j))ve<ae&&0>i(Pe,Oe)?(ie[J]=Pe,ie[ve]=j,J=ve):(ie[J]=Oe,ie[Te]=j,J=Te);else if(ve<ae&&0>i(Pe,j))ie[J]=Pe,ie[ve]=j,J=ve;else break e}}return le}function i(ie,le){var j=ie.sortIndex-le.sortIndex;return j!==0?j:ie.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,_=null,y=3,x=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ie){for(var le=t(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=ie)r(f),le.sortIndex=le.expirationTime,e(h,le);else break;le=t(f)}}function G(ie){if(T=!1,$(ie),!S)if(t(h)!==null)S=!0,Ce(L);else{var le=t(f);le!==null&&_e(G,le.startTime-ie)}}function L(ie,le){S=!1,T&&(T=!1,O(b),b=-1),x=!0;var j=y;try{for($(le),_=t(h);_!==null&&(!(_.expirationTime>le)||ie&&!M());){var J=_.callback;if(typeof J=="function"){_.callback=null,y=_.priorityLevel;var ae=J(_.expirationTime<=le);le=n.unstable_now(),typeof ae=="function"?_.callback=ae:_===t(h)&&r(h),$(le)}else r(h);_=t(h)}if(_!==null)var ge=!0;else{var Te=t(f);Te!==null&&_e(G,Te.startTime-le),ge=!1}return ge}finally{_=null,y=j,x=!1}}var Q=!1,I=null,b=-1,C=5,P=-1;function M(){return!(n.unstable_now()-P<C)}function F(){if(I!==null){var ie=n.unstable_now();P=ie;var le=!0;try{le=I(!0,ie)}finally{le?D():(Q=!1,I=null)}}else Q=!1}var D;if(typeof V=="function")D=function(){V(F)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ye=Ee.port2;Ee.port1.onmessage=F,D=function(){ye.postMessage(null)}}else D=function(){A(F,0)};function Ce(ie){I=ie,Q||(Q=!0,D())}function _e(ie,le){b=A(function(){ie(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){S||x||(S=!0,Ce(L))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var j=y;y=le;try{return ie()}finally{y=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,le){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var j=y;y=ie;try{return le()}finally{y=j}},n.unstable_scheduleCallback=function(ie,le,j){var J=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?J+j:J):j=J,ie){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=j+ae,ie={id:g++,callback:le,priorityLevel:ie,startTime:j,expirationTime:ae,sortIndex:-1},j>J?(ie.sortIndex=j,e(f,ie),t(h)===null&&ie===t(f)&&(T?(O(b),b=-1):T=!0,_e(G,j-J))):(ie.sortIndex=ae,e(h,ie),S||x||(S=!0,Ce(L))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var le=y;return function(){var j=y;y=le;try{return ie.apply(this,arguments)}finally{y=j}}}}(Ng)),Ng}var G0;function NC(){return G0||(G0=1,Mg.exports=MC()),Mg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function LC(){if(Y0)return bn;Y0=1;var n=ay(),e=NC();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function y(s){return h.call(_,s)?!0:h.call(g,s)?!1:f.test(s)?_[s]=!0:(g[s]=!0,!1)}function x(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,p){if(a===null||typeof a>"u"||x(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(s,a,c,p,m,w,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=k}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];A[a]=new T(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(O,V);A[a]=new T(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(O,V);A[a]=new T(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(O,V);A[a]=new T(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,a,c,p){var m=A.hasOwnProperty(a)?A[a]:null;(m!==null?m.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,m,p)&&(c=null),p||m===null?y(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(a=m.attributeName,p=m.attributeNamespace,c===null?s.removeAttribute(a):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),Q=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),ie=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var j=Object.assign,J;function ae(s){if(J===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);J=a&&a[1]||""}return`
`+J+s}var ge=!1;function Te(s,a){if(!s||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var p=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){p=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),w=p.stack.split(`
`),k=m.length-1,N=w.length-1;1<=k&&0<=N&&m[k]!==w[N];)N--;for(;1<=k&&0<=N;k--,N--)if(m[k]!==w[N]){if(k!==1||N!==1)do if(k--,N--,0>N||m[k]!==w[N]){var z=`
`+m[k].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=k&&0<=N);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ae(s):""}function Oe(s){switch(s.tag){case 5:return ae(s.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return s=Te(s.type,!1),s;case 11:return s=Te(s.type.render,!1),s;case 1:return s=Te(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case Q:return"Portal";case C:return"Profiler";case b:return"StrictMode";case D:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ye:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case Ce:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}function Pe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function gt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ni(s){var a=gt(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(k){p=""+k,w.call(this,k)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wn(s){s._valueTracker||(s._valueTracker=ni(s))}function tn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=gt(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function Rt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function On(s,a){var c=a.checked;return j({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function or(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Le(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Fs(s,a){a=a.checked,a!=null&&$(s,"checked",a,!1)}function js(s,a){Fs(s,a);var c=Le(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Fo(s,a.type,c):a.hasOwnProperty("defaultValue")&&Fo(s,a.type,Le(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Pc(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Fo(s,a,c){(a!=="number"||Rt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ri=Array.isArray;function ii(s,a,c,p){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&p&&(s[c].defaultSelected=!0)}else{for(c=""+Le(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,p&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ml(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return j({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function jo(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(ri(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Le(c)}}function zo(s,a){var c=Le(a.value),p=Le(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function yl(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Pt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var si,_l=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,m){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,m)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=si.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Fi(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Us=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(s){Us.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),zs[a]=zs[s]})});function vl(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||zs.hasOwnProperty(s)&&zs[s]?(""+a).trim():a+"px"}function wl(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,m=vl(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,m):s[c]=m}}var El=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(s,a){if(a){if(El[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function xl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function Uo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $o=null,Hn=null,kr=null;function Bo(s){if(s=Kl(s)){if(typeof $o!="function")throw Error(t(280));var a=s.stateNode;a&&(a=ah(a),$o(s.stateNode,s.type,a))}}function Ar(s){Hn?kr?kr.push(s):kr=[s]:Hn=s}function Tl(){if(Hn){var s=Hn,a=kr;if(kr=Hn=null,Bo(s),a)for(s=0;s<a.length;s++)Bo(a[s])}}function Bs(s,a){return s(a)}function bl(){}var oi=!1;function Il(s,a,c){if(oi)return s(a,c);oi=!0;try{return Bs(s,a,c)}finally{oi=!1,(Hn!==null||kr!==null)&&(bl(),Tl())}}function vt(s,a){var c=s.stateNode;if(c===null)return null;var p=ah(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Wo=!1;if(u)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Wo=!1}function Ws(s,a,c,p,m,w,k,N,z){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(c,Y)}catch(ne){this.onError(ne)}}var Hs=!1,Ho=null,lr=!1,Cl=null,sp={onError:function(s){Hs=!0,Ho=s}};function qo(s,a,c,p,m,w,k,N,z){Hs=!1,Ho=null,Ws.apply(sp,arguments)}function Oc(s,a,c,p,m,w,k,N,z){if(qo.apply(this,arguments),Hs){if(Hs){var Y=Ho;Hs=!1,Ho=null}else throw Error(t(198));lr||(lr=!0,Cl=Y)}}function ur(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function qs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function cr(s){if(ur(s)!==s)throw Error(t(188))}function Dc(s){var a=s.alternate;if(!a){if(a=ur(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var m=c.return;if(m===null)break;var w=m.alternate;if(w===null){if(p=m.return,p!==null){c=p;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===c)return cr(m),s;if(w===p)return cr(m),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=m,p=w;else{for(var k=!1,N=m.child;N;){if(N===c){k=!0,c=m,p=w;break}if(N===p){k=!0,p=m,c=w;break}N=N.sibling}if(!k){for(N=w.child;N;){if(N===c){k=!0,c=w,p=m;break}if(N===p){k=!0,p=w,c=m;break}N=N.sibling}if(!k)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function kl(s){return s=Dc(s),s!==null?Ko(s):null}function Ko(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ko(s);if(a!==null)return a;s=s.sibling}return null}var Go=e.unstable_scheduleCallback,Al=e.unstable_cancelCallback,Mc=e.unstable_shouldYield,op=e.unstable_requestPaint,tt=e.unstable_now,Nc=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,ji=e.unstable_UserBlockingPriority,qn=e.unstable_NormalPriority,Rl=e.unstable_LowPriority,Lc=e.unstable_IdlePriority,Gs=null,Dn=null;function Vc(s){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Gs,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:jc,Pl=Math.log,Fc=Math.LN2;function jc(s){return s>>>=0,s===0?32:31-(Pl(s)/Fc|0)|0}var Yo=64,Qo=4194304;function zi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ys(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,m=s.suspendedLanes,w=s.pingedLanes,k=c&268435455;if(k!==0){var N=k&~m;N!==0?p=zi(N):(w&=k,w!==0&&(p=zi(w)))}else k=c&~m,k!==0?p=zi(k):w!==0&&(p=zi(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&m)===0&&(m=p&-p,w=a&-a,m>=w||m===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-fn(a),m=1<<c,p|=s[c],a&=~m;return p}function ap(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,m=s.expirationTimes,w=s.pendingLanes;0<w;){var k=31-fn(w),N=1<<k,z=m[k];z===-1?((N&c)===0||(N&p)!==0)&&(m[k]=ap(N,a)):z<=a&&(s.expiredLanes|=N),w&=~N}}function Mn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Qs(){var s=Yo;return Yo<<=1,(Yo&4194240)===0&&(Yo=64),s}function Ui(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function $i(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-fn(a),s[a]=c}function et(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-fn(c),w=1<<m;a[m]=0,p[m]=-1,s[m]=-1,c&=~w}}function Bi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-fn(c),m=1<<p;m&a|s[p]&a&&(s[p]|=a),c&=~m}}var je=0;function Wi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var zc,Xo,Uc,$c,Bc,Ol=!1,Rr=[],qt=null,hr=null,dr=null,Hi=new Map,Kn=new Map,Pr=[],lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(s,a){switch(s){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Hi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(a.pointerId)}}function _n(s,a,c,p,m,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[m]},a!==null&&(a=Kl(a),a!==null&&Xo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function up(s,a,c,p,m){switch(a){case"focusin":return qt=_n(qt,s,a,c,p,m),!0;case"dragenter":return hr=_n(hr,s,a,c,p,m),!0;case"mouseover":return dr=_n(dr,s,a,c,p,m),!0;case"pointerover":var w=m.pointerId;return Hi.set(w,_n(Hi.get(w)||null,s,a,c,p,m)),!0;case"gotpointercapture":return w=m.pointerId,Kn.set(w,_n(Kn.get(w)||null,s,a,c,p,m)),!0}return!1}function Hc(s){var a=to(s.target);if(a!==null){var c=ur(a);if(c!==null){if(a=c.tag,a===13){if(a=qs(c),a!==null){s.blockedOn=a,Bc(s.priority,function(){Uc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function li(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Jo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);$s=p,c.target.dispatchEvent(p),$s=null}else return a=Kl(c),a!==null&&Xo(a),s.blockedOn=c,!1;a.shift()}return!0}function Xs(s,a,c){li(s)&&c.delete(a)}function qc(){Ol=!1,qt!==null&&li(qt)&&(qt=null),hr!==null&&li(hr)&&(hr=null),dr!==null&&li(dr)&&(dr=null),Hi.forEach(Xs),Kn.forEach(Xs)}function fr(s,a){s.blockedOn===a&&(s.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qc)))}function pr(s){function a(m){return fr(m,s)}if(0<Rr.length){fr(Rr[0],s);for(var c=1;c<Rr.length;c++){var p=Rr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(qt!==null&&fr(qt,s),hr!==null&&fr(hr,s),dr!==null&&fr(dr,s),Hi.forEach(a),Kn.forEach(a),c=0;c<Pr.length;c++)p=Pr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Pr.length&&(c=Pr[0],c.blockedOn===null);)Hc(c),c.blockedOn===null&&Pr.shift()}var ui=G.ReactCurrentBatchConfig,qi=!0;function at(s,a,c,p){var m=je,w=ui.transition;ui.transition=null;try{je=1,Dl(s,a,c,p)}finally{je=m,ui.transition=w}}function cp(s,a,c,p){var m=je,w=ui.transition;ui.transition=null;try{je=4,Dl(s,a,c,p)}finally{je=m,ui.transition=w}}function Dl(s,a,c,p){if(qi){var m=Jo(s,a,c,p);if(m===null)Ep(s,a,p,Js,c),Wc(s,p);else if(up(m,s,a,c,p))p.stopPropagation();else if(Wc(s,p),a&4&&-1<lp.indexOf(s)){for(;m!==null;){var w=Kl(m);if(w!==null&&zc(w),w=Jo(s,a,c,p),w===null&&Ep(s,a,p,Js,c),w===m)break;m=w}m!==null&&p.stopPropagation()}else Ep(s,a,p,null,c)}}var Js=null;function Jo(s,a,c,p){if(Js=null,s=Uo(p),s=to(s),s!==null)if(a=ur(s),a===null)s=null;else if(c=a.tag,c===13){if(s=qs(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Js=s,null}function Ml(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nc()){case Ks:return 1;case ji:return 4;case qn:case Rl:return 16;case Lc:return 536870912;default:return 16}default:return 16}}var Nn=null,Zo=null,vn=null;function Nl(){if(vn)return vn;var s,a=Zo,c=a.length,p,m="value"in Nn?Nn.value:Nn.textContent,w=m.length;for(s=0;s<c&&a[s]===m[s];s++);var k=c-s;for(p=1;p<=k&&a[c-p]===m[w-p];p++);return vn=m.slice(s,1<p?1-p:void 0)}function ea(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Or(){return!0}function Ll(){return!1}function Kt(s){function a(c,p,m,w,k){this._reactName=c,this._targetInst=m,this.type=p,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(c=s[N],this[N]=c?c(w):w[N]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Or:Ll,this.isPropagationStopped=Ll,this}return j(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),a}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Kt(gr),Dr=j({},gr,{view:0,detail:0}),hp=Kt(Dr),na,ci,Ki,Zs=j({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ki&&(Ki&&s.type==="mousemove"?(na=s.screenX-Ki.screenX,ci=s.screenY-Ki.screenY):ci=na=0,Ki=s),na)},movementY:function(s){return"movementY"in s?s.movementY:ci}}),ra=Kt(Zs),Vl=j({},Zs,{dataTransfer:0}),Kc=Kt(Vl),ia=j({},Dr,{relatedTarget:0}),sa=Kt(ia),Gc=j({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),hi=Kt(Gc),Yc=j({},gr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qc=Kt(Yc),Xc=j({},gr,{data:0}),Fl=Kt(Xc),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Jc[s])?!!a[s]:!1}function Mr(){return Zc}var d=j({},Dr,{key:function(s){if(s.key){var a=oa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ea(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(s){return s.type==="keypress"?ea(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ea(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Kt(d),E=j({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Kt(E),H=j({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),X=Kt(H),oe=j({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Kt(oe),Dt=j({},Zs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Kt(Dt),jt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,Gn=null;u&&"documentMode"in document&&(Gn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Gn,eo=u&&(!Tt||Gn&&8<Gn&&11>=Gn),aa=" ",L_=!1;function V_(s,a){switch(s){case"keyup":return jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var la=!1;function II(s,a){switch(s){case"compositionend":return F_(a);case"keypress":return a.which!==32?null:(L_=!0,aa);case"textInput":return s=a.data,s===aa&&L_?null:s;default:return null}}function CI(s,a){if(la)return s==="compositionend"||!Tt&&V_(s,a)?(s=Nl(),vn=Zo=Nn=null,la=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return eo&&a.locale!=="ko"?null:a.data;default:return null}}var kI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!kI[s.type]:a==="textarea"}function z_(s,a,c,p){Ar(p),a=ih(a,"onChange"),0<a.length&&(c=new ta("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var jl=null,zl=null;function AI(s){iv(s,0)}function eh(s){var a=fa(s);if(tn(a))return s}function RI(s,a){if(s==="change")return a}var U_=!1;if(u){var dp;if(u){var fp="oninput"in document;if(!fp){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),fp=typeof $_.oninput=="function"}dp=fp}else dp=!1;U_=dp&&(!document.documentMode||9<document.documentMode)}function B_(){jl&&(jl.detachEvent("onpropertychange",W_),zl=jl=null)}function W_(s){if(s.propertyName==="value"&&eh(zl)){var a=[];z_(a,zl,s,Uo(s)),Il(AI,a)}}function PI(s,a,c){s==="focusin"?(B_(),jl=a,zl=c,jl.attachEvent("onpropertychange",W_)):s==="focusout"&&B_()}function OI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return eh(zl)}function DI(s,a){if(s==="click")return eh(a)}function MI(s,a){if(s==="input"||s==="change")return eh(a)}function NI(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mr=typeof Object.is=="function"?Object.is:NI;function Ul(s,a){if(mr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var m=c[p];if(!h.call(a,m)||!mr(s[m],a[m]))return!1}return!0}function H_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function q_(s,a){var c=H_(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=H_(c)}}function K_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?K_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function G_(){for(var s=window,a=Rt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Rt(s.document)}return a}function pp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function LI(s){var a=G_(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&K_(c.ownerDocument.documentElement,c)){if(p!==null&&pp(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,w=Math.min(p.start,m);p=p.end===void 0?w:Math.min(p.end,m),!s.extend&&w>p&&(m=p,p=w,w=m),m=q_(c,w);var k=q_(c,p);m&&k&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var VI=u&&"documentMode"in document&&11>=document.documentMode,ua=null,gp=null,$l=null,mp=!1;function Y_(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mp||ua==null||ua!==Rt(p)||(p=ua,"selectionStart"in p&&pp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$l&&Ul($l,p)||($l=p,p=ih(gp,"onSelect"),0<p.length&&(a=new ta("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=ua)))}function th(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ca={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},yp={},Q_={};u&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function nh(s){if(yp[s])return yp[s];if(!ca[s])return s;var a=ca[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Q_)return yp[s]=a[c];return s}var X_=nh("animationend"),J_=nh("animationiteration"),Z_=nh("animationstart"),ev=nh("transitionend"),tv=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(s,a){tv.set(s,a),o(a,[s])}for(var _p=0;_p<nv.length;_p++){var vp=nv[_p],FI=vp.toLowerCase(),jI=vp[0].toUpperCase()+vp.slice(1);Gi(FI,"on"+jI)}Gi(X_,"onAnimationEnd"),Gi(J_,"onAnimationIteration"),Gi(Z_,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(ev,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function rv(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,Oc(p,a,void 0,s),s.currentTarget=null}function iv(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],m=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var k=p.length-1;0<=k;k--){var N=p[k],z=N.instance,Y=N.currentTarget;if(N=N.listener,z!==w&&m.isPropagationStopped())break e;rv(m,N,Y),w=z}else for(k=0;k<p.length;k++){if(N=p[k],z=N.instance,Y=N.currentTarget,N=N.listener,z!==w&&m.isPropagationStopped())break e;rv(m,N,Y),w=z}}}if(lr)throw s=Cl,lr=!1,Cl=null,s}function rt(s,a){var c=a[Cp];c===void 0&&(c=a[Cp]=new Set);var p=s+"__bubble";c.has(p)||(sv(a,s,2,!1),c.add(p))}function wp(s,a,c){var p=0;a&&(p|=4),sv(c,s,p,a)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Wl(s){if(!s[rh]){s[rh]=!0,r.forEach(function(c){c!=="selectionchange"&&(zI.has(c)||wp(c,!1,s),wp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[rh]||(a[rh]=!0,wp("selectionchange",!1,a))}}function sv(s,a,c,p){switch(Ml(a)){case 1:var m=at;break;case 4:m=cp;break;default:m=Dl}c=m.bind(null,a,c,s),m=void 0,!Wo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),p?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function Ep(s,a,c,p,m){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var N=p.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(k===4)for(k=p.return;k!==null;){var z=k.tag;if((z===3||z===4)&&(z=k.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;k=k.return}for(;N!==null;){if(k=to(N),k===null)return;if(z=k.tag,z===5||z===6){p=w=k;continue e}N=N.parentNode}}p=p.return}Il(function(){var Y=w,ne=Uo(c),re=[];e:{var te=tv.get(s);if(te!==void 0){var ue=ta,fe=s;switch(s){case"keypress":if(ea(c)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":fe="focus",ue=sa;break;case"focusout":fe="blur",ue=sa;break;case"beforeblur":case"afterblur":ue=sa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=X;break;case X_:case J_:case Z_:ue=hi;break;case ev:ue=Ye;break;case"scroll":ue=hp;break;case"wheel":ue=ze;break;case"copy":case"cut":case"paste":ue=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=R}var pe=(a&4)!==0,wt=!pe&&s==="scroll",q=pe?te!==null?te+"Capture":null:te;pe=[];for(var B=Y,K;B!==null;){K=B;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,q!==null&&(se=vt(B,q),se!=null&&pe.push(Hl(B,se,K)))),wt)break;B=B.return}0<pe.length&&(te=new ue(te,fe,null,c,ne),re.push({event:te,listeners:pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",te&&c!==$s&&(fe=c.relatedTarget||c.fromElement)&&(to(fe)||fe[di]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=Y,fe=fe?to(fe):null,fe!==null&&(wt=ur(fe),fe!==wt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=Y),ue!==fe)){if(pe=ra,se="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(pe=R,se="onPointerLeave",q="onPointerEnter",B="pointer"),wt=ue==null?te:fa(ue),K=fe==null?te:fa(fe),te=new pe(se,B+"leave",ue,c,ne),te.target=wt,te.relatedTarget=K,se=null,to(ne)===Y&&(pe=new pe(q,B+"enter",fe,c,ne),pe.target=K,pe.relatedTarget=wt,se=pe),wt=se,ue&&fe)t:{for(pe=ue,q=fe,B=0,K=pe;K;K=ha(K))B++;for(K=0,se=q;se;se=ha(se))K++;for(;0<B-K;)pe=ha(pe),B--;for(;0<K-B;)q=ha(q),K--;for(;B--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=ha(pe),q=ha(q)}pe=null}else pe=null;ue!==null&&ov(re,te,ue,pe,!1),fe!==null&&wt!==null&&ov(re,wt,fe,pe,!0)}}e:{if(te=Y?fa(Y):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var me=RI;else if(j_(te))if(U_)me=MI;else{me=OI;var Se=PI}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(me=DI);if(me&&(me=me(s,Y))){z_(re,me,c,ne);break e}Se&&Se(s,te,Y),s==="focusout"&&(Se=te._wrapperState)&&Se.controlled&&te.type==="number"&&Fo(te,"number",te.value)}switch(Se=Y?fa(Y):window,s){case"focusin":(j_(Se)||Se.contentEditable==="true")&&(ua=Se,gp=Y,$l=null);break;case"focusout":$l=gp=ua=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,Y_(re,c,ne);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":Y_(re,c,ne)}var xe;if(Tt)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else la?V_(s,c)&&(ke="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ke="onCompositionStart");ke&&(eo&&c.locale!=="ko"&&(la||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&la&&(xe=Nl()):(Nn=ne,Zo="value"in Nn?Nn.value:Nn.textContent,la=!0)),Se=ih(Y,ke),0<Se.length&&(ke=new Fl(ke,s,null,c,ne),re.push({event:ke,listeners:Se}),xe?ke.data=xe:(xe=F_(c),xe!==null&&(ke.data=xe)))),(xe=Ln?II(s,c):CI(s,c))&&(Y=ih(Y,"onBeforeInput"),0<Y.length&&(ne=new Fl("onBeforeInput","beforeinput",null,c,ne),re.push({event:ne,listeners:Y}),ne.data=xe))}iv(re,a)})}function Hl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function ih(s,a){for(var c=a+"Capture",p=[];s!==null;){var m=s,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=vt(s,c),w!=null&&p.unshift(Hl(s,w,m)),w=vt(s,a),w!=null&&p.push(Hl(s,w,m))),s=s.return}return p}function ha(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ov(s,a,c,p,m){for(var w=a._reactName,k=[];c!==null&&c!==p;){var N=c,z=N.alternate,Y=N.stateNode;if(z!==null&&z===p)break;N.tag===5&&Y!==null&&(N=Y,m?(z=vt(c,w),z!=null&&k.unshift(Hl(c,z,N))):m||(z=vt(c,w),z!=null&&k.push(Hl(c,z,N)))),c=c.return}k.length!==0&&s.push({event:a,listeners:k})}var UI=/\r\n?/g,$I=/\u0000|\uFFFD/g;function av(s){return(typeof s=="string"?s:""+s).replace(UI,`
`).replace($I,"")}function sh(s,a,c){if(a=av(a),av(s)!==a&&c)throw Error(t(425))}function oh(){}var Sp=null,xp=null;function Tp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,WI=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(s){return lv.resolve(null).then(s).catch(HI)}:bp;function HI(s){setTimeout(function(){throw s})}function Ip(s,a){var c=a,p=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(p===0){s.removeChild(m),pr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=m}while(c);pr(a)}function Yi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function uv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var da=Math.random().toString(36).slice(2),Nr="__reactFiber$"+da,ql="__reactProps$"+da,di="__reactContainer$"+da,Cp="__reactEvents$"+da,qI="__reactListeners$"+da,KI="__reactHandles$"+da;function to(s){var a=s[Nr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[di]||c[Nr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=uv(s);s!==null;){if(c=s[Nr])return c;s=uv(s)}return a}s=c,c=s.parentNode}return null}function Kl(s){return s=s[Nr]||s[di],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ah(s){return s[ql]||null}var kp=[],pa=-1;function Qi(s){return{current:s}}function it(s){0>pa||(s.current=kp[pa],kp[pa]=null,pa--)}function nt(s,a){pa++,kp[pa]=s.current,s.current=a}var Xi={},nn=Qi(Xi),wn=Qi(!1),no=Xi;function ga(s,a){var c=s.type.contextTypes;if(!c)return Xi;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in c)m[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function En(s){return s=s.childContextTypes,s!=null}function lh(){it(wn),it(nn)}function cv(s,a,c){if(nn.current!==Xi)throw Error(t(168));nt(nn,a),nt(wn,c)}function hv(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var m in p)if(!(m in a))throw Error(t(108,Pe(s)||"Unknown",m));return j({},c,p)}function uh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Xi,no=nn.current,nt(nn,s),nt(wn,wn.current),!0}function dv(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=hv(s,a,no),p.__reactInternalMemoizedMergedChildContext=s,it(wn),it(nn),nt(nn,s)):it(wn),nt(wn,c)}var fi=null,ch=!1,Ap=!1;function fv(s){fi===null?fi=[s]:fi.push(s)}function GI(s){ch=!0,fv(s)}function Ji(){if(!Ap&&fi!==null){Ap=!0;var s=0,a=je;try{var c=fi;for(je=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}fi=null,ch=!1}catch(m){throw fi!==null&&(fi=fi.slice(s+1)),Go(Ks,Ji),m}finally{je=a,Ap=!1}}return null}var ma=[],ya=0,hh=null,dh=0,Yn=[],Qn=0,ro=null,pi=1,gi="";function io(s,a){ma[ya++]=dh,ma[ya++]=hh,hh=s,dh=a}function pv(s,a,c){Yn[Qn++]=pi,Yn[Qn++]=gi,Yn[Qn++]=ro,ro=s;var p=pi;s=gi;var m=32-fn(p)-1;p&=~(1<<m),c+=1;var w=32-fn(a)+m;if(30<w){var k=m-m%5;w=(p&(1<<k)-1).toString(32),p>>=k,m-=k,pi=1<<32-fn(a)+m|c<<m|p,gi=w+s}else pi=1<<w|c<<m|p,gi=s}function Rp(s){s.return!==null&&(io(s,1),pv(s,1,0))}function Pp(s){for(;s===hh;)hh=ma[--ya],ma[ya]=null,dh=ma[--ya],ma[ya]=null;for(;s===ro;)ro=Yn[--Qn],Yn[Qn]=null,gi=Yn[--Qn],Yn[Qn]=null,pi=Yn[--Qn],Yn[Qn]=null}var Vn=null,Fn=null,lt=!1,yr=null;function gv(s,a){var c=er(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function mv(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Vn=s,Fn=Yi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Vn=s,Fn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ro!==null?{id:pi,overflow:gi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=er(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Vn=s,Fn=null,!0):!1;default:return!1}}function Op(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Dp(s){if(lt){var a=Fn;if(a){var c=a;if(!mv(s,a)){if(Op(s))throw Error(t(418));a=Yi(c.nextSibling);var p=Vn;a&&mv(s,a)?gv(p,c):(s.flags=s.flags&-4097|2,lt=!1,Vn=s)}}else{if(Op(s))throw Error(t(418));s.flags=s.flags&-4097|2,lt=!1,Vn=s}}}function yv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Vn=s}function fh(s){if(s!==Vn)return!1;if(!lt)return yv(s),lt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Tp(s.type,s.memoizedProps)),a&&(a=Fn)){if(Op(s))throw _v(),Error(t(418));for(;a;)gv(s,a),a=Yi(a.nextSibling)}if(yv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Fn=Yi(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Fn=null}}else Fn=Vn?Yi(s.stateNode.nextSibling):null;return!0}function _v(){for(var s=Fn;s;)s=Yi(s.nextSibling)}function _a(){Fn=Vn=null,lt=!1}function Mp(s){yr===null?yr=[s]:yr.push(s)}var YI=G.ReactCurrentBatchConfig;function _r(s,a){if(s&&s.defaultProps){a=j({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}var ph=Qi(null),gh=null,va=null,Np=null;function Lp(){Np=va=gh=null}function Vp(s){var a=ph.current;it(ph),s._currentValue=a}function Fp(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function wa(s,a){gh=s,Np=va=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Sn=!0),s.firstContext=null)}function Xn(s){var a=s._currentValue;if(Np!==s)if(s={context:s,memoizedValue:a,next:null},va===null){if(gh===null)throw Error(t(308));va=s,gh.dependencies={lanes:0,firstContext:s}}else va=va.next=s;return a}var so=null;function jp(s){so===null?so=[s]:so.push(s)}function vv(s,a,c,p){var m=a.interleaved;return m===null?(c.next=c,jp(a)):(c.next=m.next,m.next=c),a.interleaved=c,mi(s,p)}function mi(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Zi=!1;function zp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function yi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function es(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,($e&2)!==0){var m=p.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),p.pending=a,mi(s,c)}return m=p.interleaved,m===null?(a.next=a,jp(p)):(a.next=m.next,m.next=a),p.interleaved=a,mi(s,c)}function mh(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Bi(s,c)}}function Ev(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var m=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?m=w=k:w=w.next=k,c=c.next}while(c!==null);w===null?m=w=a:w=w.next=a}else m=w=a;c={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function yh(s,a,c,p){var m=s.updateQueue;Zi=!1;var w=m.firstBaseUpdate,k=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,Y=z.next;z.next=null,k===null?w=Y:k.next=Y,k=z;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==k&&(N===null?ne.firstBaseUpdate=Y:N.next=Y,ne.lastBaseUpdate=z))}if(w!==null){var re=m.baseState;k=0,ne=Y=z=null,N=w;do{var te=N.lane,ue=N.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var fe=s,pe=N;switch(te=a,ue=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){re=fe.call(ue,re,te);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ue,re,te):fe,te==null)break e;re=j({},re,te);break e;case 2:Zi=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,te=m.effects,te===null?m.effects=[N]:te.push(N))}else ue={eventTime:ue,lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(Y=ne=ue,z=re):ne=ne.next=ue,k|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;te=N,N=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(z=re),m.baseState=z,m.firstBaseUpdate=Y,m.lastBaseUpdate=ne,a=m.shared.interleaved,a!==null){m=a;do k|=m.lane,m=m.next;while(m!==a)}else w===null&&(m.shared.lanes=0);lo|=k,s.lanes=k,s.memoizedState=re}}function Sv(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],m=p.callback;if(m!==null){if(p.callback=null,p=c,typeof m!="function")throw Error(t(191,m));m.call(p)}}}var xv=new n.Component().refs;function Up(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:j({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var _h={isMounted:function(s){return(s=s._reactInternals)?ur(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=mn(),m=is(s),w=yi(p,m);w.payload=a,c!=null&&(w.callback=c),a=es(s,w,m),a!==null&&(Er(a,s,m,p),mh(a,s,m))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=mn(),m=is(s),w=yi(p,m);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=es(s,w,m),a!==null&&(Er(a,s,m,p),mh(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=mn(),p=is(s),m=yi(c,p);m.tag=2,a!=null&&(m.callback=a),a=es(s,m,p),a!==null&&(Er(a,s,p,c),mh(a,s,p))}};function Tv(s,a,c,p,m,w,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,k):a.prototype&&a.prototype.isPureReactComponent?!Ul(c,p)||!Ul(m,w):!0}function bv(s,a,c){var p=!1,m=Xi,w=a.contextType;return typeof w=="object"&&w!==null?w=Xn(w):(m=En(a)?no:nn.current,p=a.contextTypes,w=(p=p!=null)?ga(s,m):Xi),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_h,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=w),a}function Iv(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&_h.enqueueReplaceState(a,a.state,null)}function $p(s,a,c,p){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs=xv,zp(s);var w=a.contextType;typeof w=="object"&&w!==null?m.context=Xn(w):(w=En(a)?no:nn.current,m.context=ga(s,w)),m.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Up(s,a,w,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&_h.enqueueReplaceState(m,m.state,null),yh(s,c,m,p),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Gl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var m=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(k){var N=m.refs;N===xv&&(N=m.refs={}),k===null?delete N[w]:N[w]=k},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function vh(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Cv(s){var a=s._init;return a(s._payload)}function kv(s){function a(q,B){if(s){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function c(q,B){if(!s)return null;for(;B!==null;)a(q,B),B=B.sibling;return null}function p(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function m(q,B){return q=os(q,B),q.index=0,q.sibling=null,q}function w(q,B,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function k(q){return s&&q.alternate===null&&(q.flags|=2),q}function N(q,B,K,se){return B===null||B.tag!==6?(B=bg(K,q.mode,se),B.return=q,B):(B=m(B,K),B.return=q,B)}function z(q,B,K,se){var me=K.type;return me===I?ne(q,B,K.props.children,se,K.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ce&&Cv(me)===B.type)?(se=m(B,K.props),se.ref=Gl(q,B,K),se.return=q,se):(se=Fh(K.type,K.key,K.props,null,q.mode,se),se.ref=Gl(q,B,K),se.return=q,se)}function Y(q,B,K,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Ig(K,q.mode,se),B.return=q,B):(B=m(B,K.children||[]),B.return=q,B)}function ne(q,B,K,se,me){return B===null||B.tag!==7?(B=fo(K,q.mode,se,me),B.return=q,B):(B=m(B,K),B.return=q,B)}function re(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=bg(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return K=Fh(B.type,B.key,B.props,null,q.mode,K),K.ref=Gl(q,null,B),K.return=q,K;case Q:return B=Ig(B,q.mode,K),B.return=q,B;case Ce:var se=B._init;return re(q,se(B._payload),K)}if(ri(B)||le(B))return B=fo(B,q.mode,K,null),B.return=q,B;vh(q,B)}return null}function te(q,B,K,se){var me=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return me!==null?null:N(q,B,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case L:return K.key===me?z(q,B,K,se):null;case Q:return K.key===me?Y(q,B,K,se):null;case Ce:return me=K._init,te(q,B,me(K._payload),se)}if(ri(K)||le(K))return me!==null?null:ne(q,B,K,se,null);vh(q,K)}return null}function ue(q,B,K,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return q=q.get(K)||null,N(B,q,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case L:return q=q.get(se.key===null?K:se.key)||null,z(B,q,se,me);case Q:return q=q.get(se.key===null?K:se.key)||null,Y(B,q,se,me);case Ce:var Se=se._init;return ue(q,B,K,Se(se._payload),me)}if(ri(se)||le(se))return q=q.get(K)||null,ne(B,q,se,me,null);vh(B,se)}return null}function fe(q,B,K,se){for(var me=null,Se=null,xe=B,ke=B=0,$t=null;xe!==null&&ke<K.length;ke++){xe.index>ke?($t=xe,xe=null):$t=xe.sibling;var Be=te(q,xe,K[ke],se);if(Be===null){xe===null&&(xe=$t);break}s&&xe&&Be.alternate===null&&a(q,xe),B=w(Be,B,ke),Se===null?me=Be:Se.sibling=Be,Se=Be,xe=$t}if(ke===K.length)return c(q,xe),lt&&io(q,ke),me;if(xe===null){for(;ke<K.length;ke++)xe=re(q,K[ke],se),xe!==null&&(B=w(xe,B,ke),Se===null?me=xe:Se.sibling=xe,Se=xe);return lt&&io(q,ke),me}for(xe=p(q,xe);ke<K.length;ke++)$t=ue(xe,q,ke,K[ke],se),$t!==null&&(s&&$t.alternate!==null&&xe.delete($t.key===null?ke:$t.key),B=w($t,B,ke),Se===null?me=$t:Se.sibling=$t,Se=$t);return s&&xe.forEach(function(as){return a(q,as)}),lt&&io(q,ke),me}function pe(q,B,K,se){var me=le(K);if(typeof me!="function")throw Error(t(150));if(K=me.call(K),K==null)throw Error(t(151));for(var Se=me=null,xe=B,ke=B=0,$t=null,Be=K.next();xe!==null&&!Be.done;ke++,Be=K.next()){xe.index>ke?($t=xe,xe=null):$t=xe.sibling;var as=te(q,xe,Be.value,se);if(as===null){xe===null&&(xe=$t);break}s&&xe&&as.alternate===null&&a(q,xe),B=w(as,B,ke),Se===null?me=as:Se.sibling=as,Se=as,xe=$t}if(Be.done)return c(q,xe),lt&&io(q,ke),me;if(xe===null){for(;!Be.done;ke++,Be=K.next())Be=re(q,Be.value,se),Be!==null&&(B=w(Be,B,ke),Se===null?me=Be:Se.sibling=Be,Se=Be);return lt&&io(q,ke),me}for(xe=p(q,xe);!Be.done;ke++,Be=K.next())Be=ue(xe,q,ke,Be.value,se),Be!==null&&(s&&Be.alternate!==null&&xe.delete(Be.key===null?ke:Be.key),B=w(Be,B,ke),Se===null?me=Be:Se.sibling=Be,Se=Be);return s&&xe.forEach(function(kC){return a(q,kC)}),lt&&io(q,ke),me}function wt(q,B,K,se){if(typeof K=="object"&&K!==null&&K.type===I&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case L:e:{for(var me=K.key,Se=B;Se!==null;){if(Se.key===me){if(me=K.type,me===I){if(Se.tag===7){c(q,Se.sibling),B=m(Se,K.props.children),B.return=q,q=B;break e}}else if(Se.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ce&&Cv(me)===Se.type){c(q,Se.sibling),B=m(Se,K.props),B.ref=Gl(q,Se,K),B.return=q,q=B;break e}c(q,Se);break}else a(q,Se);Se=Se.sibling}K.type===I?(B=fo(K.props.children,q.mode,se,K.key),B.return=q,q=B):(se=Fh(K.type,K.key,K.props,null,q.mode,se),se.ref=Gl(q,B,K),se.return=q,q=se)}return k(q);case Q:e:{for(Se=K.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){c(q,B.sibling),B=m(B,K.children||[]),B.return=q,q=B;break e}else{c(q,B);break}else a(q,B);B=B.sibling}B=Ig(K,q.mode,se),B.return=q,q=B}return k(q);case Ce:return Se=K._init,wt(q,B,Se(K._payload),se)}if(ri(K))return fe(q,B,K,se);if(le(K))return pe(q,B,K,se);vh(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(c(q,B.sibling),B=m(B,K),B.return=q,q=B):(c(q,B),B=bg(K,q.mode,se),B.return=q,q=B),k(q)):c(q,B)}return wt}var Ea=kv(!0),Av=kv(!1),Yl={},Lr=Qi(Yl),Ql=Qi(Yl),Xl=Qi(Yl);function oo(s){if(s===Yl)throw Error(t(174));return s}function Bp(s,a){switch(nt(Xl,a),nt(Ql,s),nt(Lr,Yl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ot(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ot(a,s)}it(Lr),nt(Lr,a)}function Sa(){it(Lr),it(Ql),it(Xl)}function Rv(s){oo(Xl.current);var a=oo(Lr.current),c=Ot(a,s.type);a!==c&&(nt(Ql,s),nt(Lr,c))}function Wp(s){Ql.current===s&&(it(Lr),it(Ql))}var ht=Qi(0);function wh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hp=[];function qp(){for(var s=0;s<Hp.length;s++)Hp[s]._workInProgressVersionPrimary=null;Hp.length=0}var Eh=G.ReactCurrentDispatcher,Kp=G.ReactCurrentBatchConfig,ao=0,dt=null,Mt=null,zt=null,Sh=!1,Jl=!1,Zl=0,QI=0;function rn(){throw Error(t(321))}function Gp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!mr(s[c],a[c]))return!1;return!0}function Yp(s,a,c,p,m,w){if(ao=w,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Eh.current=s===null||s.memoizedState===null?eC:tC,s=c(p,m),Jl){w=0;do{if(Jl=!1,Zl=0,25<=w)throw Error(t(301));w+=1,zt=Mt=null,a.updateQueue=null,Eh.current=nC,s=c(p,m)}while(Jl)}if(Eh.current=bh,a=Mt!==null&&Mt.next!==null,ao=0,zt=Mt=dt=null,Sh=!1,a)throw Error(t(300));return s}function Qp(){var s=Zl!==0;return Zl=0,s}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?dt.memoizedState=zt=s:zt=zt.next=s,zt}function Jn(){if(Mt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Mt.next;var a=zt===null?dt.memoizedState:zt.next;if(a!==null)zt=a,Mt=s;else{if(s===null)throw Error(t(310));Mt=s,s={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},zt===null?dt.memoizedState=zt=s:zt=zt.next=s}return zt}function eu(s,a){return typeof a=="function"?a(s):a}function Xp(s){var a=Jn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=Mt,m=p.baseQueue,w=c.pending;if(w!==null){if(m!==null){var k=m.next;m.next=w.next,w.next=k}p.baseQueue=m=w,c.pending=null}if(m!==null){w=m.next,p=p.baseState;var N=k=null,z=null,Y=w;do{var ne=Y.lane;if((ao&ne)===ne)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var re={lane:ne,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(N=z=re,k=p):z=z.next=re,dt.lanes|=ne,lo|=ne}Y=Y.next}while(Y!==null&&Y!==w);z===null?k=p:z.next=N,mr(p,a.memoizedState)||(Sn=!0),a.memoizedState=p,a.baseState=k,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){m=s;do w=m.lane,dt.lanes|=w,lo|=w,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Jp(s){var a=Jn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,m=c.pending,w=a.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do w=s(w,k.action),k=k.next;while(k!==m);mr(w,a.memoizedState)||(Sn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function Pv(){}function Ov(s,a){var c=dt,p=Jn(),m=a(),w=!mr(p.memoizedState,m);if(w&&(p.memoizedState=m,Sn=!0),p=p.queue,Zp(Nv.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,tu(9,Mv.bind(null,c,p,m,a),void 0,null),Ut===null)throw Error(t(349));(ao&30)!==0||Dv(c,a,m)}return m}function Dv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Mv(s,a,c,p){a.value=c,a.getSnapshot=p,Lv(a)&&Vv(s)}function Nv(s,a,c){return c(function(){Lv(a)&&Vv(s)})}function Lv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!mr(s,c)}catch{return!0}}function Vv(s){var a=mi(s,1);a!==null&&Er(a,s,1,-1)}function Fv(s){var a=Vr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:s},a.queue=s,s=s.dispatch=ZI.bind(null,dt,s),[a.memoizedState,s]}function tu(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function jv(){return Jn().memoizedState}function xh(s,a,c,p){var m=Vr();dt.flags|=s,m.memoizedState=tu(1|a,c,void 0,p===void 0?null:p)}function Th(s,a,c,p){var m=Jn();p=p===void 0?null:p;var w=void 0;if(Mt!==null){var k=Mt.memoizedState;if(w=k.destroy,p!==null&&Gp(p,k.deps)){m.memoizedState=tu(a,c,w,p);return}}dt.flags|=s,m.memoizedState=tu(1|a,c,w,p)}function zv(s,a){return xh(8390656,8,s,a)}function Zp(s,a){return Th(2048,8,s,a)}function Uv(s,a){return Th(4,2,s,a)}function $v(s,a){return Th(4,4,s,a)}function Bv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Wv(s,a,c){return c=c!=null?c.concat([s]):null,Th(4,4,Bv.bind(null,a,s),c)}function eg(){}function Hv(s,a){var c=Jn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Gp(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function qv(s,a){var c=Jn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Gp(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function Kv(s,a,c){return(ao&21)===0?(s.baseState&&(s.baseState=!1,Sn=!0),s.memoizedState=c):(mr(c,a)||(c=Qs(),dt.lanes|=c,lo|=c,s.baseState=!0),a)}function XI(s,a){var c=je;je=c!==0&&4>c?c:4,s(!0);var p=Kp.transition;Kp.transition={};try{s(!1),a()}finally{je=c,Kp.transition=p}}function Gv(){return Jn().memoizedState}function JI(s,a,c){var p=is(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Yv(s))Qv(a,c);else if(c=vv(s,a,c,p),c!==null){var m=mn();Er(c,s,p,m),Xv(c,a,p)}}function ZI(s,a,c){var p=is(s),m={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yv(s))Qv(a,m);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var k=a.lastRenderedState,N=w(k,c);if(m.hasEagerState=!0,m.eagerState=N,mr(N,k)){var z=a.interleaved;z===null?(m.next=m,jp(a)):(m.next=z.next,z.next=m),a.interleaved=m;return}}catch{}finally{}c=vv(s,a,m,p),c!==null&&(m=mn(),Er(c,s,p,m),Xv(c,a,p))}}function Yv(s){var a=s.alternate;return s===dt||a!==null&&a===dt}function Qv(s,a){Jl=Sh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Xv(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Bi(s,c)}}var bh={readContext:Xn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},eC={readContext:Xn,useCallback:function(s,a){return Vr().memoizedState=[s,a===void 0?null:a],s},useContext:Xn,useEffect:zv,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,xh(4194308,4,Bv.bind(null,a,s),c)},useLayoutEffect:function(s,a){return xh(4194308,4,s,a)},useInsertionEffect:function(s,a){return xh(4,2,s,a)},useMemo:function(s,a){var c=Vr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Vr();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=JI.bind(null,dt,s),[p.memoizedState,s]},useRef:function(s){var a=Vr();return s={current:s},a.memoizedState=s},useState:Fv,useDebugValue:eg,useDeferredValue:function(s){return Vr().memoizedState=s},useTransition:function(){var s=Fv(!1),a=s[0];return s=XI.bind(null,s[1]),Vr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=dt,m=Vr();if(lt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Ut===null)throw Error(t(349));(ao&30)!==0||Dv(p,a,c)}m.memoizedState=c;var w={value:c,getSnapshot:a};return m.queue=w,zv(Nv.bind(null,p,w,s),[s]),p.flags|=2048,tu(9,Mv.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=Vr(),a=Ut.identifierPrefix;if(lt){var c=gi,p=pi;c=(p&~(1<<32-fn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Zl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=QI++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},tC={readContext:Xn,useCallback:Hv,useContext:Xn,useEffect:Zp,useImperativeHandle:Wv,useInsertionEffect:Uv,useLayoutEffect:$v,useMemo:qv,useReducer:Xp,useRef:jv,useState:function(){return Xp(eu)},useDebugValue:eg,useDeferredValue:function(s){var a=Jn();return Kv(a,Mt.memoizedState,s)},useTransition:function(){var s=Xp(eu)[0],a=Jn().memoizedState;return[s,a]},useMutableSource:Pv,useSyncExternalStore:Ov,useId:Gv,unstable_isNewReconciler:!1},nC={readContext:Xn,useCallback:Hv,useContext:Xn,useEffect:Zp,useImperativeHandle:Wv,useInsertionEffect:Uv,useLayoutEffect:$v,useMemo:qv,useReducer:Jp,useRef:jv,useState:function(){return Jp(eu)},useDebugValue:eg,useDeferredValue:function(s){var a=Jn();return Mt===null?a.memoizedState=s:Kv(a,Mt.memoizedState,s)},useTransition:function(){var s=Jp(eu)[0],a=Jn().memoizedState;return[s,a]},useMutableSource:Pv,useSyncExternalStore:Ov,useId:Gv,unstable_isNewReconciler:!1};function xa(s,a){try{var c="",p=a;do c+=Oe(p),p=p.return;while(p);var m=c}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:m,digest:null}}function tg(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function ng(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var rC=typeof WeakMap=="function"?WeakMap:Map;function Jv(s,a,c){c=yi(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Oh||(Oh=!0,yg=p),ng(s,a)},c}function Zv(s,a,c){c=yi(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var m=a.value;c.payload=function(){return p(m)},c.callback=function(){ng(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){ng(s,a),typeof p!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),c}function e0(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new rC;var m=new Set;p.set(a,m)}else m=p.get(a),m===void 0&&(m=new Set,p.set(a,m));m.has(c)||(m.add(c),s=yC.bind(null,s,a,c),a.then(s,s))}function t0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function n0(s,a,c,p,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=yi(-1,1),a.tag=2,es(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var iC=G.ReactCurrentOwner,Sn=!1;function gn(s,a,c,p){a.child=s===null?Av(a,null,c,p):Ea(a,s.child,c,p)}function r0(s,a,c,p,m){c=c.render;var w=a.ref;return wa(a,m),p=Yp(s,a,c,p,w,m),c=Qp(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,_i(s,a,m)):(lt&&c&&Rp(a),a.flags|=1,gn(s,a,p,m),a.child)}function i0(s,a,c,p,m){if(s===null){var w=c.type;return typeof w=="function"&&!Tg(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,s0(s,a,w,p,m)):(s=Fh(c.type,null,p,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&m)===0){var k=w.memoizedProps;if(c=c.compare,c=c!==null?c:Ul,c(k,p)&&s.ref===a.ref)return _i(s,a,m)}return a.flags|=1,s=os(w,p),s.ref=a.ref,s.return=a,a.child=s}function s0(s,a,c,p,m){if(s!==null){var w=s.memoizedProps;if(Ul(w,p)&&s.ref===a.ref)if(Sn=!1,a.pendingProps=p=w,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Sn=!0);else return a.lanes=s.lanes,_i(s,a,m)}return rg(s,a,c,p,m)}function o0(s,a,c){var p=a.pendingProps,m=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ba,jn),jn|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,nt(ba,jn),jn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,nt(ba,jn),jn|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,nt(ba,jn),jn|=p;return gn(s,a,m,c),a.child}function a0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function rg(s,a,c,p,m){var w=En(c)?no:nn.current;return w=ga(a,w),wa(a,m),c=Yp(s,a,c,p,w,m),p=Qp(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,_i(s,a,m)):(lt&&p&&Rp(a),a.flags|=1,gn(s,a,c,m),a.child)}function l0(s,a,c,p,m){if(En(c)){var w=!0;uh(a)}else w=!1;if(wa(a,m),a.stateNode===null)Ch(s,a),bv(a,c,p),$p(a,c,p,m),p=!0;else if(s===null){var k=a.stateNode,N=a.memoizedProps;k.props=N;var z=k.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Xn(Y):(Y=En(c)?no:nn.current,Y=ga(a,Y));var ne=c.getDerivedStateFromProps,re=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function";re||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==p||z!==Y)&&Iv(a,k,p,Y),Zi=!1;var te=a.memoizedState;k.state=te,yh(a,p,k,m),z=a.memoizedState,N!==p||te!==z||wn.current||Zi?(typeof ne=="function"&&(Up(a,c,ne,p),z=a.memoizedState),(N=Zi||Tv(a,c,N,p,te,z,Y))?(re||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),k.props=p,k.state=z,k.context=Y,p=N):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{k=a.stateNode,wv(s,a),N=a.memoizedProps,Y=a.type===a.elementType?N:_r(a.type,N),k.props=Y,re=a.pendingProps,te=k.context,z=c.contextType,typeof z=="object"&&z!==null?z=Xn(z):(z=En(c)?no:nn.current,z=ga(a,z));var ue=c.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==re||te!==z)&&Iv(a,k,p,z),Zi=!1,te=a.memoizedState,k.state=te,yh(a,p,k,m);var fe=a.memoizedState;N!==re||te!==fe||wn.current||Zi?(typeof ue=="function"&&(Up(a,c,ue,p),fe=a.memoizedState),(Y=Zi||Tv(a,c,Y,p,te,fe,z)||!1)?(ne||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,fe,z),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,fe,z)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=fe),k.props=p,k.state=fe,k.context=z,p=Y):(typeof k.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),p=!1)}return ig(s,a,c,p,w,m)}function ig(s,a,c,p,m,w){a0(s,a);var k=(a.flags&128)!==0;if(!p&&!k)return m&&dv(a,c,!1),_i(s,a,w);p=a.stateNode,iC.current=a;var N=k&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&k?(a.child=Ea(a,s.child,null,w),a.child=Ea(a,null,N,w)):gn(s,a,N,w),a.memoizedState=p.state,m&&dv(a,c,!0),a.child}function u0(s){var a=s.stateNode;a.pendingContext?cv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&cv(s,a.context,!1),Bp(s,a.containerInfo)}function c0(s,a,c,p,m){return _a(),Mp(m),a.flags|=256,gn(s,a,c,p),a.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function og(s){return{baseLanes:s,cachePool:null,transitions:null}}function h0(s,a,c){var p=a.pendingProps,m=ht.current,w=!1,k=(a.flags&128)!==0,N;if((N=k)||(N=s!==null&&s.memoizedState===null?!1:(m&2)!==0),N?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),nt(ht,m&1),s===null)return Dp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=p.children,s=p.fallback,w?(p=a.mode,w=a.child,k={mode:"hidden",children:k},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=k):w=jh(k,p,0,null),s=fo(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=og(c),a.memoizedState=sg,s):ag(a,k));if(m=s.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return sC(s,a,k,p,N,m,c);if(w){w=p.fallback,k=a.mode,m=s.child,N=m.sibling;var z={mode:"hidden",children:p.children};return(k&1)===0&&a.child!==m?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=os(m,z),p.subtreeFlags=m.subtreeFlags&14680064),N!==null?w=os(N,w):(w=fo(w,k,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,k=s.child.memoizedState,k=k===null?og(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},w.memoizedState=k,w.childLanes=s.childLanes&~c,a.memoizedState=sg,p}return w=s.child,s=w.sibling,p=os(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function ag(s,a){return a=jh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ih(s,a,c,p){return p!==null&&Mp(p),Ea(a,s.child,null,c),s=ag(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function sC(s,a,c,p,m,w,k){if(c)return a.flags&256?(a.flags&=-257,p=tg(Error(t(422))),Ih(s,a,k,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,m=a.mode,p=jh({mode:"visible",children:p.children},m,0,null),w=fo(w,m,k,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&Ea(a,s.child,null,k),a.child.memoizedState=og(k),a.memoizedState=sg,w);if((a.mode&1)===0)return Ih(s,a,k,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var N=p.dgst;return p=N,w=Error(t(419)),p=tg(w,p,void 0),Ih(s,a,k,p)}if(N=(k&s.childLanes)!==0,Sn||N){if(p=Ut,p!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(p.suspendedLanes|k))!==0?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,mi(s,m),Er(p,s,m,-1))}return xg(),p=tg(Error(t(421))),Ih(s,a,k,p)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=_C.bind(null,s),m._reactRetry=a,null):(s=w.treeContext,Fn=Yi(m.nextSibling),Vn=a,lt=!0,yr=null,s!==null&&(Yn[Qn++]=pi,Yn[Qn++]=gi,Yn[Qn++]=ro,pi=s.id,gi=s.overflow,ro=a),a=ag(a,p.children),a.flags|=4096,a)}function d0(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Fp(s.return,a,c)}function lg(s,a,c,p,m){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:m}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=m)}function f0(s,a,c){var p=a.pendingProps,m=p.revealOrder,w=p.tail;if(gn(s,a,p.children,c),p=ht.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&d0(s,c,a);else if(s.tag===19)d0(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(nt(ht,p),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&wh(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),lg(a,!1,m,c,w);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&wh(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}lg(a,!0,c,null,w);break;case"together":lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ch(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function _i(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),lo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=os(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=os(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function oC(s,a,c){switch(a.tag){case 3:u0(a),_a();break;case 5:Rv(a);break;case 1:En(a.type)&&uh(a);break;case 4:Bp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,m=a.memoizedProps.value;nt(ph,p._currentValue),p._currentValue=m;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(nt(ht,ht.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?h0(s,a,c):(nt(ht,ht.current&1),s=_i(s,a,c),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return f0(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ht,ht.current),p)break;return null;case 22:case 23:return a.lanes=0,o0(s,a,c)}return _i(s,a,c)}var p0,ug,g0,m0;p0=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ug=function(){},g0=function(s,a,c,p){var m=s.memoizedProps;if(m!==p){s=a.stateNode,oo(Lr.current);var w=null;switch(c){case"input":m=On(s,m),p=On(s,p),w=[];break;case"select":m=j({},m,{value:void 0}),p=j({},p,{value:void 0}),w=[];break;case"textarea":m=ml(s,m),p=ml(s,p),w=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=oh)}Sl(c,p);var k;c=null;for(Y in m)if(!p.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var N=m[Y];for(k in N)N.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in p){var z=p[Y];if(N=m!=null?m[Y]:void 0,p.hasOwnProperty(Y)&&z!==N&&(z!=null||N!=null))if(Y==="style")if(N){for(k in N)!N.hasOwnProperty(k)||z&&z.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in z)z.hasOwnProperty(k)&&N[k]!==z[k]&&(c||(c={}),c[k]=z[k])}else c||(w||(w=[]),w.push(Y,c)),c=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,N=N?N.__html:void 0,z!=null&&N!==z&&(w=w||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&rt("scroll",s),w||N===z||(w=[])):(w=w||[]).push(Y,z))}c&&(w=w||[]).push("style",c);var Y=w;(a.updateQueue=Y)&&(a.flags|=4)}},m0=function(s,a,c,p){c!==p&&(a.flags|=4)};function nu(s,a){if(!lt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function sn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function aC(s,a,c){var p=a.pendingProps;switch(Pp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(a),null;case 1:return En(a.type)&&lh(),sn(a),null;case 3:return p=a.stateNode,Sa(),it(wn),it(nn),qp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(fh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,yr!==null&&(wg(yr),yr=null))),ug(s,a),sn(a),null;case 5:Wp(a);var m=oo(Xl.current);if(c=a.type,s!==null&&a.stateNode!=null)g0(s,a,c,p,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return sn(a),null}if(s=oo(Lr.current),fh(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Nr]=a,p[ql]=w,s=(a.mode&1)!==0,c){case"dialog":rt("cancel",p),rt("close",p);break;case"iframe":case"object":case"embed":rt("load",p);break;case"video":case"audio":for(m=0;m<Bl.length;m++)rt(Bl[m],p);break;case"source":rt("error",p);break;case"img":case"image":case"link":rt("error",p),rt("load",p);break;case"details":rt("toggle",p);break;case"input":or(p,w),rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},rt("invalid",p);break;case"textarea":jo(p,w),rt("invalid",p)}Sl(c,w),m=null;for(var k in w)if(w.hasOwnProperty(k)){var N=w[k];k==="children"?typeof N=="string"?p.textContent!==N&&(w.suppressHydrationWarning!==!0&&sh(p.textContent,N,s),m=["children",N]):typeof N=="number"&&p.textContent!==""+N&&(w.suppressHydrationWarning!==!0&&sh(p.textContent,N,s),m=["children",""+N]):i.hasOwnProperty(k)&&N!=null&&k==="onScroll"&&rt("scroll",p)}switch(c){case"input":Wn(p),Pc(p,w,!0);break;case"textarea":Wn(p),yl(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=oh)}p=m,a.updateQueue=p,p!==null&&(a.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=k.createElement(c,{is:p.is}):(s=k.createElement(c),c==="select"&&(k=s,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):s=k.createElementNS(s,c),s[Nr]=a,s[ql]=p,p0(s,a,!1,!1),a.stateNode=s;e:{switch(k=xl(c,p),c){case"dialog":rt("cancel",s),rt("close",s),m=p;break;case"iframe":case"object":case"embed":rt("load",s),m=p;break;case"video":case"audio":for(m=0;m<Bl.length;m++)rt(Bl[m],s);m=p;break;case"source":rt("error",s),m=p;break;case"img":case"image":case"link":rt("error",s),rt("load",s),m=p;break;case"details":rt("toggle",s),m=p;break;case"input":or(s,p),m=On(s,p),rt("invalid",s);break;case"option":m=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},m=j({},p,{value:void 0}),rt("invalid",s);break;case"textarea":jo(s,p),m=ml(s,p),rt("invalid",s);break;default:m=p}Sl(c,m),N=m;for(w in N)if(N.hasOwnProperty(w)){var z=N[w];w==="style"?wl(s,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&_l(s,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&Fi(s,z):typeof z=="number"&&Fi(s,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&rt("scroll",s):z!=null&&$(s,w,z,k))}switch(c){case"input":Wn(s),Pc(s,p,!1);break;case"textarea":Wn(s),yl(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Le(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?ii(s,!!p.multiple,w,!1):p.defaultValue!=null&&ii(s,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=oh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return sn(a),null;case 6:if(s&&a.stateNode!=null)m0(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=oo(Xl.current),oo(Lr.current),fh(a)){if(p=a.stateNode,c=a.memoizedProps,p[Nr]=a,(w=p.nodeValue!==c)&&(s=Vn,s!==null))switch(s.tag){case 3:sh(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&sh(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Nr]=a,a.stateNode=p}return sn(a),null;case 13:if(it(ht),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(lt&&Fn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)_v(),_a(),a.flags|=98560,w=!1;else if(w=fh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Nr]=a}else _a(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;sn(a),w=!1}else yr!==null&&(wg(yr),yr=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ht.current&1)!==0?Nt===0&&(Nt=3):xg())),a.updateQueue!==null&&(a.flags|=4),sn(a),null);case 4:return Sa(),ug(s,a),s===null&&Wl(a.stateNode.containerInfo),sn(a),null;case 10:return Vp(a.type._context),sn(a),null;case 17:return En(a.type)&&lh(),sn(a),null;case 19:if(it(ht),w=a.memoizedState,w===null)return sn(a),null;if(p=(a.flags&128)!==0,k=w.rendering,k===null)if(p)nu(w,!1);else{if(Nt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(k=wh(s),k!==null){for(a.flags|=128,nu(w,!1),p=k.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,s=k.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return nt(ht,ht.current&1|2),a.child}s=s.sibling}w.tail!==null&&tt()>Ia&&(a.flags|=128,p=!0,nu(w,!1),a.lanes=4194304)}else{if(!p)if(s=wh(k),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),nu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!lt)return sn(a),null}else 2*tt()-w.renderingStartTime>Ia&&c!==1073741824&&(a.flags|=128,p=!0,nu(w,!1),a.lanes=4194304);w.isBackwards?(k.sibling=a.child,a.child=k):(c=w.last,c!==null?c.sibling=k:a.child=k,w.last=k)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=tt(),a.sibling=null,c=ht.current,nt(ht,p?c&1|2:c&1),a):(sn(a),null);case 22:case 23:return Sg(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(jn&1073741824)!==0&&(sn(a),a.subtreeFlags&6&&(a.flags|=8192)):sn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function lC(s,a){switch(Pp(a),a.tag){case 1:return En(a.type)&&lh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Sa(),it(wn),it(nn),qp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Wp(a),null;case 13:if(it(ht),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));_a()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return it(ht),null;case 4:return Sa(),null;case 10:return Vp(a.type._context),null;case 22:case 23:return Sg(),null;case 24:return null;default:return null}}var kh=!1,on=!1,uC=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ta(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){mt(s,a,p)}else c.current=null}function cg(s,a,c){try{c()}catch(p){mt(s,a,p)}}var y0=!1;function cC(s,a){if(Sp=qi,s=G_(),pp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var m=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var k=0,N=-1,z=-1,Y=0,ne=0,re=s,te=null;t:for(;;){for(var ue;re!==c||m!==0&&re.nodeType!==3||(N=k+m),re!==w||p!==0&&re.nodeType!==3||(z=k+p),re.nodeType===3&&(k+=re.nodeValue.length),(ue=re.firstChild)!==null;)te=re,re=ue;for(;;){if(re===s)break t;if(te===c&&++Y===m&&(N=k),te===w&&++ne===p&&(z=k),(ue=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ue}c=N===-1||z===-1?null:{start:N,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(xp={focusedElem:s,selectionRange:c},qi=!1,he=a;he!==null;)if(a=he,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,he=s;else for(;he!==null;){a=he;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,wt=fe.memoizedState,q=a.stateNode,B=q.getSnapshotBeforeUpdate(a.elementType===a.type?pe:_r(a.type,pe),wt);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){mt(a,a.return,se)}if(s=a.sibling,s!==null){s.return=a.return,he=s;break}he=a.return}return fe=y0,y0=!1,fe}function ru(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&s)===s){var w=m.destroy;m.destroy=void 0,w!==void 0&&cg(a,c,w)}m=m.next}while(m!==p)}}function Ah(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function hg(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function _0(s){var a=s.alternate;a!==null&&(s.alternate=null,_0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Nr],delete a[ql],delete a[Cp],delete a[qI],delete a[KI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function v0(s){return s.tag===5||s.tag===3||s.tag===4}function w0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||v0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=oh));else if(p!==4&&(s=s.child,s!==null))for(dg(s,a,c),s=s.sibling;s!==null;)dg(s,a,c),s=s.sibling}function fg(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(fg(s,a,c),s=s.sibling;s!==null;)fg(s,a,c),s=s.sibling}var Gt=null,vr=!1;function ts(s,a,c){for(c=c.child;c!==null;)E0(s,a,c),c=c.sibling}function E0(s,a,c){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Gs,c)}catch{}switch(c.tag){case 5:on||Ta(c,a);case 6:var p=Gt,m=vr;Gt=null,ts(s,a,c),Gt=p,vr=m,Gt!==null&&(vr?(s=Gt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Gt.removeChild(c.stateNode));break;case 18:Gt!==null&&(vr?(s=Gt,c=c.stateNode,s.nodeType===8?Ip(s.parentNode,c):s.nodeType===1&&Ip(s,c),pr(s)):Ip(Gt,c.stateNode));break;case 4:p=Gt,m=vr,Gt=c.stateNode.containerInfo,vr=!0,ts(s,a,c),Gt=p,vr=m;break;case 0:case 11:case 14:case 15:if(!on&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var w=m,k=w.destroy;w=w.tag,k!==void 0&&((w&2)!==0||(w&4)!==0)&&cg(c,a,k),m=m.next}while(m!==p)}ts(s,a,c);break;case 1:if(!on&&(Ta(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(N){mt(c,a,N)}ts(s,a,c);break;case 21:ts(s,a,c);break;case 22:c.mode&1?(on=(p=on)||c.memoizedState!==null,ts(s,a,c),on=p):ts(s,a,c);break;default:ts(s,a,c)}}function S0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new uC),a.forEach(function(p){var m=vC.bind(null,s,p);c.has(p)||(c.add(p),p.then(m,m))})}}function wr(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];try{var w=s,k=a,N=k;e:for(;N!==null;){switch(N.tag){case 5:Gt=N.stateNode,vr=!1;break e;case 3:Gt=N.stateNode.containerInfo,vr=!0;break e;case 4:Gt=N.stateNode.containerInfo,vr=!0;break e}N=N.return}if(Gt===null)throw Error(t(160));E0(w,k,m),Gt=null,vr=!1;var z=m.alternate;z!==null&&(z.return=null),m.return=null}catch(Y){mt(m,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)x0(a,s),a=a.sibling}function x0(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(wr(a,s),Fr(s),p&4){try{ru(3,s,s.return),Ah(3,s)}catch(pe){mt(s,s.return,pe)}try{ru(5,s,s.return)}catch(pe){mt(s,s.return,pe)}}break;case 1:wr(a,s),Fr(s),p&512&&c!==null&&Ta(c,c.return);break;case 5:if(wr(a,s),Fr(s),p&512&&c!==null&&Ta(c,c.return),s.flags&32){var m=s.stateNode;try{Fi(m,"")}catch(pe){mt(s,s.return,pe)}}if(p&4&&(m=s.stateNode,m!=null)){var w=s.memoizedProps,k=c!==null?c.memoizedProps:w,N=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{N==="input"&&w.type==="radio"&&w.name!=null&&Fs(m,w),xl(N,k);var Y=xl(N,w);for(k=0;k<z.length;k+=2){var ne=z[k],re=z[k+1];ne==="style"?wl(m,re):ne==="dangerouslySetInnerHTML"?_l(m,re):ne==="children"?Fi(m,re):$(m,ne,re,Y)}switch(N){case"input":js(m,w);break;case"textarea":zo(m,w);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var ue=w.value;ue!=null?ii(m,!!w.multiple,ue,!1):te!==!!w.multiple&&(w.defaultValue!=null?ii(m,!!w.multiple,w.defaultValue,!0):ii(m,!!w.multiple,w.multiple?[]:"",!1))}m[ql]=w}catch(pe){mt(s,s.return,pe)}}break;case 6:if(wr(a,s),Fr(s),p&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,w=s.memoizedProps;try{m.nodeValue=w}catch(pe){mt(s,s.return,pe)}}break;case 3:if(wr(a,s),Fr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{pr(a.containerInfo)}catch(pe){mt(s,s.return,pe)}break;case 4:wr(a,s),Fr(s);break;case 13:wr(a,s),Fr(s),m=s.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(mg=tt())),p&4&&S0(s);break;case 22:if(ne=c!==null&&c.memoizedState!==null,s.mode&1?(on=(Y=on)||ne,wr(a,s),on=Y):wr(a,s),Fr(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ne&&(s.mode&1)!==0)for(he=s,ne=s.child;ne!==null;){for(re=he=ne;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:ru(4,te,te.return);break;case 1:Ta(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){p=te,c=te.return;try{a=p,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(pe){mt(p,c,pe)}}break;case 5:Ta(te,te.return);break;case 22:if(te.memoizedState!==null){I0(re);continue}}ue!==null?(ue.return=te,he=ue):I0(re)}ne=ne.sibling}e:for(ne=null,re=s;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,Y?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(N=re.stateNode,z=re.memoizedProps.style,k=z!=null&&z.hasOwnProperty("display")?z.display:null,N.style.display=vl("display",k))}catch(pe){mt(s,s.return,pe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=Y?"":re.memoizedProps}catch(pe){mt(s,s.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:wr(a,s),Fr(s),p&4&&S0(s);break;case 21:break;default:wr(a,s),Fr(s)}}function Fr(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(v0(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(Fi(m,""),p.flags&=-33);var w=w0(s);fg(s,w,m);break;case 3:case 4:var k=p.stateNode.containerInfo,N=w0(s);dg(s,N,k);break;default:throw Error(t(161))}}catch(z){mt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function hC(s,a,c){he=s,T0(s)}function T0(s,a,c){for(var p=(s.mode&1)!==0;he!==null;){var m=he,w=m.child;if(m.tag===22&&p){var k=m.memoizedState!==null||kh;if(!k){var N=m.alternate,z=N!==null&&N.memoizedState!==null||on;N=kh;var Y=on;if(kh=k,(on=z)&&!Y)for(he=m;he!==null;)k=he,z=k.child,k.tag===22&&k.memoizedState!==null?C0(m):z!==null?(z.return=k,he=z):C0(m);for(;w!==null;)he=w,T0(w),w=w.sibling;he=m,kh=N,on=Y}b0(s)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,he=w):b0(s)}}function b0(s){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:on||Ah(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!on)if(c===null)p.componentDidMount();else{var m=a.elementType===a.type?c.memoizedProps:_r(a.type,c.memoizedProps);p.componentDidUpdate(m,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Sv(a,w,p);break;case 3:var k=a.updateQueue;if(k!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Sv(a,k,c)}break;case 5:var N=a.stateNode;if(c===null&&a.flags&4){c=N;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ne=Y.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&pr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}on||a.flags&512&&hg(a)}catch(te){mt(a,a.return,te)}}if(a===s){he=null;break}if(c=a.sibling,c!==null){c.return=a.return,he=c;break}he=a.return}}function I0(s){for(;he!==null;){var a=he;if(a===s){he=null;break}var c=a.sibling;if(c!==null){c.return=a.return,he=c;break}he=a.return}}function C0(s){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ah(4,a)}catch(z){mt(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var m=a.return;try{p.componentDidMount()}catch(z){mt(a,m,z)}}var w=a.return;try{hg(a)}catch(z){mt(a,w,z)}break;case 5:var k=a.return;try{hg(a)}catch(z){mt(a,k,z)}}}catch(z){mt(a,a.return,z)}if(a===s){he=null;break}var N=a.sibling;if(N!==null){N.return=a.return,he=N;break}he=a.return}}var dC=Math.ceil,Rh=G.ReactCurrentDispatcher,pg=G.ReactCurrentOwner,Zn=G.ReactCurrentBatchConfig,$e=0,Ut=null,bt=null,Yt=0,jn=0,ba=Qi(0),Nt=0,iu=null,lo=0,Ph=0,gg=0,su=null,xn=null,mg=0,Ia=1/0,vi=null,Oh=!1,yg=null,ns=null,Dh=!1,rs=null,Mh=0,ou=0,_g=null,Nh=-1,Lh=0;function mn(){return($e&6)!==0?tt():Nh!==-1?Nh:Nh=tt()}function is(s){return(s.mode&1)===0?1:($e&2)!==0&&Yt!==0?Yt&-Yt:YI.transition!==null?(Lh===0&&(Lh=Qs()),Lh):(s=je,s!==0||(s=window.event,s=s===void 0?16:Ml(s.type)),s)}function Er(s,a,c,p){if(50<ou)throw ou=0,_g=null,Error(t(185));$i(s,c,p),(($e&2)===0||s!==Ut)&&(s===Ut&&(($e&2)===0&&(Ph|=c),Nt===4&&ss(s,Yt)),Tn(s,p),c===1&&$e===0&&(a.mode&1)===0&&(Ia=tt()+500,ch&&Ji()))}function Tn(s,a){var c=s.callbackNode;ai(s,a);var p=Ys(s,s===Ut?Yt:0);if(p===0)c!==null&&Al(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Al(c),a===1)s.tag===0?GI(A0.bind(null,s)):fv(A0.bind(null,s)),WI(function(){($e&6)===0&&Ji()}),c=null;else{switch(Wi(p)){case 1:c=Ks;break;case 4:c=ji;break;case 16:c=qn;break;case 536870912:c=Lc;break;default:c=qn}c=V0(c,k0.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function k0(s,a){if(Nh=-1,Lh=0,($e&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ca()&&s.callbackNode!==c)return null;var p=Ys(s,s===Ut?Yt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Vh(s,p);else{a=p;var m=$e;$e|=2;var w=P0();(Ut!==s||Yt!==a)&&(vi=null,Ia=tt()+500,co(s,a));do try{gC();break}catch(N){R0(s,N)}while(!0);Lp(),Rh.current=w,$e=m,bt!==null?a=0:(Ut=null,Yt=0,a=Nt)}if(a!==0){if(a===2&&(m=Mn(s),m!==0&&(p=m,a=vg(s,m))),a===1)throw c=iu,co(s,0),ss(s,p),Tn(s,tt()),c;if(a===6)ss(s,p);else{if(m=s.current.alternate,(p&30)===0&&!fC(m)&&(a=Vh(s,p),a===2&&(w=Mn(s),w!==0&&(p=w,a=vg(s,w))),a===1))throw c=iu,co(s,0),ss(s,p),Tn(s,tt()),c;switch(s.finishedWork=m,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:ho(s,xn,vi);break;case 3:if(ss(s,p),(p&130023424)===p&&(a=mg+500-tt(),10<a)){if(Ys(s,0)!==0)break;if(m=s.suspendedLanes,(m&p)!==p){mn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=bp(ho.bind(null,s,xn,vi),a);break}ho(s,xn,vi);break;case 4:if(ss(s,p),(p&4194240)===p)break;for(a=s.eventTimes,m=-1;0<p;){var k=31-fn(p);w=1<<k,k=a[k],k>m&&(m=k),p&=~w}if(p=m,p=tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*dC(p/1960))-p,10<p){s.timeoutHandle=bp(ho.bind(null,s,xn,vi),p);break}ho(s,xn,vi);break;case 5:ho(s,xn,vi);break;default:throw Error(t(329))}}}return Tn(s,tt()),s.callbackNode===c?k0.bind(null,s):null}function vg(s,a){var c=su;return s.current.memoizedState.isDehydrated&&(co(s,a).flags|=256),s=Vh(s,a),s!==2&&(a=xn,xn=c,a!==null&&wg(a)),s}function wg(s){xn===null?xn=s:xn.push.apply(xn,s)}function fC(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var m=c[p],w=m.getSnapshot;m=m.value;try{if(!mr(w(),m))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ss(s,a){for(a&=~gg,a&=~Ph,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-fn(a),p=1<<c;s[c]=-1,a&=~p}}function A0(s){if(($e&6)!==0)throw Error(t(327));Ca();var a=Ys(s,0);if((a&1)===0)return Tn(s,tt()),null;var c=Vh(s,a);if(s.tag!==0&&c===2){var p=Mn(s);p!==0&&(a=p,c=vg(s,p))}if(c===1)throw c=iu,co(s,0),ss(s,a),Tn(s,tt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ho(s,xn,vi),Tn(s,tt()),null}function Eg(s,a){var c=$e;$e|=1;try{return s(a)}finally{$e=c,$e===0&&(Ia=tt()+500,ch&&Ji())}}function uo(s){rs!==null&&rs.tag===0&&($e&6)===0&&Ca();var a=$e;$e|=1;var c=Zn.transition,p=je;try{if(Zn.transition=null,je=1,s)return s()}finally{je=p,Zn.transition=c,$e=a,($e&6)===0&&Ji()}}function Sg(){jn=ba.current,it(ba)}function co(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,BI(c)),bt!==null)for(c=bt.return;c!==null;){var p=c;switch(Pp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&lh();break;case 3:Sa(),it(wn),it(nn),qp();break;case 5:Wp(p);break;case 4:Sa();break;case 13:it(ht);break;case 19:it(ht);break;case 10:Vp(p.type._context);break;case 22:case 23:Sg()}c=c.return}if(Ut=s,bt=s=os(s.current,null),Yt=jn=a,Nt=0,iu=null,gg=Ph=lo=0,xn=su=null,so!==null){for(a=0;a<so.length;a++)if(c=so[a],p=c.interleaved,p!==null){c.interleaved=null;var m=p.next,w=c.pending;if(w!==null){var k=w.next;w.next=m,p.next=k}c.pending=p}so=null}return s}function R0(s,a){do{var c=bt;try{if(Lp(),Eh.current=bh,Sh){for(var p=dt.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}Sh=!1}if(ao=0,zt=Mt=dt=null,Jl=!1,Zl=0,pg.current=null,c===null||c.return===null){Nt=1,iu=a,bt=null;break}e:{var w=s,k=c.return,N=c,z=a;if(a=Yt,N.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,ne=N,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=t0(k);if(ue!==null){ue.flags&=-257,n0(ue,k,N,w,a),ue.mode&1&&e0(w,Y,a),a=ue,z=Y;var fe=a.updateQueue;if(fe===null){var pe=new Set;pe.add(z),a.updateQueue=pe}else fe.add(z);break e}else{if((a&1)===0){e0(w,Y,a),xg();break e}z=Error(t(426))}}else if(lt&&N.mode&1){var wt=t0(k);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),n0(wt,k,N,w,a),Mp(xa(z,N));break e}}w=z=xa(z,N),Nt!==4&&(Nt=2),su===null?su=[w]:su.push(w),w=k;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var q=Jv(w,z,a);Ev(w,q);break e;case 1:N=z;var B=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ns===null||!ns.has(K)))){w.flags|=65536,a&=-a,w.lanes|=a;var se=Zv(w,N,a);Ev(w,se);break e}}w=w.return}while(w!==null)}D0(c)}catch(me){a=me,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(!0)}function P0(){var s=Rh.current;return Rh.current=bh,s===null?bh:s}function xg(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ut===null||(lo&268435455)===0&&(Ph&268435455)===0||ss(Ut,Yt)}function Vh(s,a){var c=$e;$e|=2;var p=P0();(Ut!==s||Yt!==a)&&(vi=null,co(s,a));do try{pC();break}catch(m){R0(s,m)}while(!0);if(Lp(),$e=c,Rh.current=p,bt!==null)throw Error(t(261));return Ut=null,Yt=0,Nt}function pC(){for(;bt!==null;)O0(bt)}function gC(){for(;bt!==null&&!Mc();)O0(bt)}function O0(s){var a=L0(s.alternate,s,jn);s.memoizedProps=s.pendingProps,a===null?D0(s):bt=a,pg.current=null}function D0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=aC(c,a,jn),c!==null){bt=c;return}}else{if(c=lC(c,a),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Nt=6,bt=null;return}}if(a=a.sibling,a!==null){bt=a;return}bt=a=s}while(a!==null);Nt===0&&(Nt=5)}function ho(s,a,c){var p=je,m=Zn.transition;try{Zn.transition=null,je=1,mC(s,a,c,p)}finally{Zn.transition=m,je=p}return null}function mC(s,a,c,p){do Ca();while(rs!==null);if(($e&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(et(s,w),s===Ut&&(bt=Ut=null,Yt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Dh||(Dh=!0,V0(qn,function(){return Ca(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Zn.transition,Zn.transition=null;var k=je;je=1;var N=$e;$e|=4,pg.current=null,cC(s,c),x0(c,s),LI(xp),qi=!!Sp,xp=Sp=null,s.current=c,hC(c),op(),$e=N,je=k,Zn.transition=w}else s.current=c;if(Dh&&(Dh=!1,rs=s,Mh=m),w=s.pendingLanes,w===0&&(ns=null),Vc(c.stateNode),Tn(s,tt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)m=a[c],p(m.value,{componentStack:m.stack,digest:m.digest});if(Oh)throw Oh=!1,s=yg,yg=null,s;return(Mh&1)!==0&&s.tag!==0&&Ca(),w=s.pendingLanes,(w&1)!==0?s===_g?ou++:(ou=0,_g=s):ou=0,Ji(),null}function Ca(){if(rs!==null){var s=Wi(Mh),a=Zn.transition,c=je;try{if(Zn.transition=null,je=16>s?16:s,rs===null)var p=!1;else{if(s=rs,rs=null,Mh=0,($e&6)!==0)throw Error(t(331));var m=$e;for($e|=4,he=s.current;he!==null;){var w=he,k=w.child;if((he.flags&16)!==0){var N=w.deletions;if(N!==null){for(var z=0;z<N.length;z++){var Y=N[z];for(he=Y;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:ru(8,ne,w)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var te=ne.sibling,ue=ne.return;if(_0(ne),ne===Y){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var fe=w.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var wt=pe.sibling;pe.sibling=null,pe=wt}while(pe!==null)}}he=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,he=k;else e:for(;he!==null;){if(w=he,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ru(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,he=q;break e}he=w.return}}var B=s.current;for(he=B;he!==null;){k=he;var K=k.child;if((k.subtreeFlags&2064)!==0&&K!==null)K.return=k,he=K;else e:for(k=B;he!==null;){if(N=he,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Ah(9,N)}}catch(me){mt(N,N.return,me)}if(N===k){he=null;break e}var se=N.sibling;if(se!==null){se.return=N.return,he=se;break e}he=N.return}}if($e=m,Ji(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Gs,s)}catch{}p=!0}return p}finally{je=c,Zn.transition=a}}return!1}function M0(s,a,c){a=xa(c,a),a=Jv(s,a,1),s=es(s,a,1),a=mn(),s!==null&&($i(s,1,a),Tn(s,a))}function mt(s,a,c){if(s.tag===3)M0(s,s,c);else for(;a!==null;){if(a.tag===3){M0(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ns===null||!ns.has(p))){s=xa(c,s),s=Zv(a,s,1),a=es(a,s,1),s=mn(),a!==null&&($i(a,1,s),Tn(a,s));break}}a=a.return}}function yC(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=mn(),s.pingedLanes|=s.suspendedLanes&c,Ut===s&&(Yt&c)===c&&(Nt===4||Nt===3&&(Yt&130023424)===Yt&&500>tt()-mg?co(s,0):gg|=c),Tn(s,a)}function N0(s,a){a===0&&((s.mode&1)===0?a=1:(a=Qo,Qo<<=1,(Qo&130023424)===0&&(Qo=4194304)));var c=mn();s=mi(s,a),s!==null&&($i(s,a,c),Tn(s,c))}function _C(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),N0(s,c)}function vC(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),N0(s,c)}var L0;L0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||wn.current)Sn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Sn=!1,oC(s,a,c);Sn=(s.flags&131072)!==0}else Sn=!1,lt&&(a.flags&1048576)!==0&&pv(a,dh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Ch(s,a),s=a.pendingProps;var m=ga(a,nn.current);wa(a,c),m=Yp(null,a,p,s,m,c);var w=Qp();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,En(p)?(w=!0,uh(a)):w=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,zp(a),m.updater=_h,a.stateNode=m,m._reactInternals=a,$p(a,p,s,c),a=ig(null,a,p,!0,w,c)):(a.tag=0,lt&&w&&Rp(a),gn(null,a,m,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Ch(s,a),s=a.pendingProps,m=p._init,p=m(p._payload),a.type=p,m=a.tag=EC(p),s=_r(p,s),m){case 0:a=rg(null,a,p,s,c);break e;case 1:a=l0(null,a,p,s,c);break e;case 11:a=r0(null,a,p,s,c);break e;case 14:a=i0(null,a,p,_r(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:_r(p,m),rg(s,a,p,m,c);case 1:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:_r(p,m),l0(s,a,p,m,c);case 3:e:{if(u0(a),s===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,m=w.element,wv(s,a),yh(a,p,null,c);var k=a.memoizedState;if(p=k.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){m=xa(Error(t(423)),a),a=c0(s,a,p,c,m);break e}else if(p!==m){m=xa(Error(t(424)),a),a=c0(s,a,p,c,m);break e}else for(Fn=Yi(a.stateNode.containerInfo.firstChild),Vn=a,lt=!0,yr=null,c=Av(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_a(),p===m){a=_i(s,a,c);break e}gn(s,a,p,c)}a=a.child}return a;case 5:return Rv(a),s===null&&Dp(a),p=a.type,m=a.pendingProps,w=s!==null?s.memoizedProps:null,k=m.children,Tp(p,m)?k=null:w!==null&&Tp(p,w)&&(a.flags|=32),a0(s,a),gn(s,a,k,c),a.child;case 6:return s===null&&Dp(a),null;case 13:return h0(s,a,c);case 4:return Bp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Ea(a,null,p,c):gn(s,a,p,c),a.child;case 11:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:_r(p,m),r0(s,a,p,m,c);case 7:return gn(s,a,a.pendingProps,c),a.child;case 8:return gn(s,a,a.pendingProps.children,c),a.child;case 12:return gn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,m=a.pendingProps,w=a.memoizedProps,k=m.value,nt(ph,p._currentValue),p._currentValue=k,w!==null)if(mr(w.value,k)){if(w.children===m.children&&!wn.current){a=_i(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var N=w.dependencies;if(N!==null){k=w.child;for(var z=N.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=yi(-1,c&-c),z.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var ne=Y.pending;ne===null?z.next=z:(z.next=ne.next,ne.next=z),Y.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),Fp(w.return,c,a),N.lanes|=c;break}z=z.next}}else if(w.tag===10)k=w.type===a.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(t(341));k.lanes|=c,N=k.alternate,N!==null&&(N.lanes|=c),Fp(k,c,a),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===a){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}gn(s,a,m.children,c),a=a.child}return a;case 9:return m=a.type,p=a.pendingProps.children,wa(a,c),m=Xn(m),p=p(m),a.flags|=1,gn(s,a,p,c),a.child;case 14:return p=a.type,m=_r(p,a.pendingProps),m=_r(p.type,m),i0(s,a,p,m,c);case 15:return s0(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:_r(p,m),Ch(s,a),a.tag=1,En(p)?(s=!0,uh(a)):s=!1,wa(a,c),bv(a,p,m),$p(a,p,m,c),ig(null,a,p,!0,s,c);case 19:return f0(s,a,c);case 22:return o0(s,a,c)}throw Error(t(156,a.tag))};function V0(s,a){return Go(s,a)}function wC(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(s,a,c,p){return new wC(s,a,c,p)}function Tg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function EC(s){if(typeof s=="function")return Tg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ye)return 14}return 2}function os(s,a){var c=s.alternate;return c===null?(c=er(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Fh(s,a,c,p,m,w){var k=2;if(p=s,typeof s=="function")Tg(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case I:return fo(c.children,m,w,a);case b:k=8,m|=8;break;case C:return s=er(12,c,a,m|2),s.elementType=C,s.lanes=w,s;case D:return s=er(13,c,a,m),s.elementType=D,s.lanes=w,s;case Ee:return s=er(19,c,a,m),s.elementType=Ee,s.lanes=w,s;case _e:return jh(c,m,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:k=10;break e;case M:k=9;break e;case F:k=11;break e;case ye:k=14;break e;case Ce:k=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=er(k,c,a,m),a.elementType=s,a.type=p,a.lanes=w,a}function fo(s,a,c,p){return s=er(7,s,p,a),s.lanes=c,s}function jh(s,a,c,p){return s=er(22,s,p,a),s.elementType=_e,s.lanes=c,s.stateNode={isHidden:!1},s}function bg(s,a,c){return s=er(6,s,null,a),s.lanes=c,s}function Ig(s,a,c){return a=er(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function SC(s,a,c,p,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Cg(s,a,c,p,m,w,k,N,z){return s=new SC(s,a,c,N,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=er(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(w),s}function xC(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function F0(s){if(!s)return Xi;s=s._reactInternals;e:{if(ur(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(En(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(En(c))return hv(s,c,a)}return a}function j0(s,a,c,p,m,w,k,N,z){return s=Cg(c,p,!0,s,m,w,k,N,z),s.context=F0(null),c=s.current,p=mn(),m=is(c),w=yi(p,m),w.callback=a??null,es(c,w,m),s.current.lanes=m,$i(s,m,p),Tn(s,p),s}function zh(s,a,c,p){var m=a.current,w=mn(),k=is(m);return c=F0(c),a.context===null?a.context=c:a.pendingContext=c,a=yi(w,k),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=es(m,a,k),s!==null&&(Er(s,m,k,w),mh(s,m,k)),k}function Uh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function z0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function kg(s,a){z0(s,a),(s=s.alternate)&&z0(s,a)}function TC(){return null}var U0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ag(s){this._internalRoot=s}$h.prototype.render=Ag.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));zh(s,a,null,null)},$h.prototype.unmount=Ag.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;uo(function(){zh(null,s,null,null)}),a[di]=null}};function $h(s){this._internalRoot=s}$h.prototype.unstable_scheduleHydration=function(s){if(s){var a=$c();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Pr.length&&a!==0&&a<Pr[c].priority;c++);Pr.splice(c,0,s),c===0&&Hc(s)}};function Rg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Bh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function $0(){}function bC(s,a,c,p,m){if(m){if(typeof p=="function"){var w=p;p=function(){var Y=Uh(k);w.call(Y)}}var k=j0(a,p,s,0,null,!1,!1,"",$0);return s._reactRootContainer=k,s[di]=k.current,Wl(s.nodeType===8?s.parentNode:s),uo(),k}for(;m=s.lastChild;)s.removeChild(m);if(typeof p=="function"){var N=p;p=function(){var Y=Uh(z);N.call(Y)}}var z=Cg(s,0,!1,null,null,!1,!1,"",$0);return s._reactRootContainer=z,s[di]=z.current,Wl(s.nodeType===8?s.parentNode:s),uo(function(){zh(a,z,c,p)}),z}function Wh(s,a,c,p,m){var w=c._reactRootContainer;if(w){var k=w;if(typeof m=="function"){var N=m;m=function(){var z=Uh(k);N.call(z)}}zh(a,k,s,m)}else k=bC(c,a,s,m,p);return Uh(k)}zc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=zi(a.pendingLanes);c!==0&&(Bi(a,c|1),Tn(a,tt()),($e&6)===0&&(Ia=tt()+500,Ji()))}break;case 13:uo(function(){var p=mi(s,1);if(p!==null){var m=mn();Er(p,s,1,m)}}),kg(s,1)}},Xo=function(s){if(s.tag===13){var a=mi(s,134217728);if(a!==null){var c=mn();Er(a,s,134217728,c)}kg(s,134217728)}},Uc=function(s){if(s.tag===13){var a=is(s),c=mi(s,a);if(c!==null){var p=mn();Er(c,s,a,p)}kg(s,a)}},$c=function(){return je},Bc=function(s,a){var c=je;try{return je=s,a()}finally{je=c}},$o=function(s,a,c){switch(a){case"input":if(js(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var m=ah(p);if(!m)throw Error(t(90));tn(p),js(p,m)}}}break;case"textarea":zo(s,c);break;case"select":a=c.value,a!=null&&ii(s,!!c.multiple,a,!1)}},Bs=Eg,bl=uo;var IC={usingClientEntryPoint:!1,Events:[Kl,fa,ah,Ar,Tl,Eg]},au={findFiberByHostInstance:to,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CC={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kl(s),s===null?null:s.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||TC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{Gs=Hh.inject(CC),Dn=Hh}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC,bn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(a))throw Error(t(200));return xC(s,a,null,c)},bn.createRoot=function(s,a){if(!Rg(s))throw Error(t(299));var c=!1,p="",m=U0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Cg(s,1,!1,null,null,c,!1,p,m),s[di]=a.current,Wl(s.nodeType===8?s.parentNode:s),new Ag(a)},bn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=kl(a),s=s===null?null:s.stateNode,s},bn.flushSync=function(s){return uo(s)},bn.hydrate=function(s,a,c){if(!Bh(a))throw Error(t(200));return Wh(null,s,a,!0,c)},bn.hydrateRoot=function(s,a,c){if(!Rg(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,m=!1,w="",k=U0;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),a=j0(a,null,s,1,c??null,m,!1,w,k),s[di]=a.current,Wl(s),p)for(s=0;s<p.length;s++)c=p[s],m=c._getVersion,m=m(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,m]:a.mutableSourceEagerHydrationData.push(c,m);return new $h(a)},bn.render=function(s,a,c){if(!Bh(a))throw Error(t(200));return Wh(null,s,a,!1,c)},bn.unmountComponentAtNode=function(s){if(!Bh(s))throw Error(t(40));return s._reactRootContainer?(uo(function(){Wh(null,null,s,!1,function(){s._reactRootContainer=null,s[di]=null})}),!0):!1},bn.unstable_batchedUpdates=Eg,bn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Bh(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Wh(s,a,c,!1,p)},bn.version="18.2.0-next-9e3b772b8-20220608",bn}var Q0;function VC(){if(Q0)return Dg.exports;Q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dg.exports=LC(),Dg.exports}var X0;function FC(){if(X0)return qh;X0=1;var n=VC();return qh.createRoot=n.createRoot,qh.hydrateRoot=n.hydrateRoot,qh}var jC=FC();const zC=uc(jC);var uu={},J0;function UC(){if(J0)return uu;J0=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.parse=l,uu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,x){const S=new o,T=y.length;if(T<2)return S;const A=(x==null?void 0:x.decode)||g;let O=0;do{const V=y.indexOf("=",O);if(V===-1)break;const $=y.indexOf(";",O),G=$===-1?T:$;if(V>G){O=y.lastIndexOf(";",V-1)+1;continue}const L=u(y,O,V),Q=h(y,V,L),I=y.slice(L,Q);if(S[I]===void 0){let b=u(y,V+1,G),C=h(y,G,b);const P=A(y.slice(b,C));S[I]=P}O=G+1}while(O<T);return S}function u(y,x,S){do{const T=y.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<S);return S}function h(y,x,S){for(;x>S;){const T=y.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return S}function f(y,x,S){const T=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=T(x);if(!e.test(A))throw new TypeError(`argument val is invalid: ${x}`);let O=y+"="+A;if(!S)return O;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);O+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);O+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);O+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);O+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(O+="; HttpOnly"),S.secure&&(O+="; Secure"),S.partitioned&&(O+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return O}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function _(y){return i.call(y)==="[object Date]"}return uu}UC();var Z0="popstate";function $C(n={}){function e(i,o){let{pathname:l="/",search:u="",hash:h=""}=Mo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),gm("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=i.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:Wu(o))}function r(i,o){ir(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return WC(e,t,r,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ir(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BC(){return Math.random().toString(36).substring(2,10)}function ew(n,e){return{usr:n.state,key:n.key,idx:e}}function gm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:t,key:e&&e.key||r||BC()}}function Wu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Mo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function WC(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function _(){u="POP";let A=g(),O=A==null?null:A-f;f=A,h&&h({action:u,location:T.location,delta:O})}function y(A,O){u="PUSH";let V=gm(T.location,A,O);t&&t(V,A),f=g()+1;let $=ew(V,f),G=T.createHref(V);try{l.pushState($,"",G)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(G)}o&&h&&h({action:u,location:T.location,delta:1})}function x(A,O){u="REPLACE";let V=gm(T.location,A,O);t&&t(V,A),f=g();let $=ew(V,f),G=T.createHref(V);l.replaceState($,"",G),o&&h&&h({action:u,location:T.location,delta:0})}function S(A){return HC(A)}let T={get action(){return u},get location(){return n(i,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Z0,_),h=A,()=>{i.removeEventListener(Z0,_),h=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let O=S(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:x,go(A){return l.go(A)}};return T}function HC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Wu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ES(n,e,t="/"){return qC(n,e,t,!1)}function qC(n,e,t,r){let i=typeof e=="string"?Mo(e):e,o=ki(i.pathname||"/",t);if(o==null)return null;let l=SS(n);KC(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=ik(o);u=nk(l[h],f,r)}return u}function SS(n,e=[],t=[],r=""){let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=Ii([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),SS(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:ek(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of xS(o.path))i(o,l,h)}),e}function xS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=xS(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function KC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GC=/^:[\w-]+$/,YC=3,QC=2,XC=1,JC=10,ZC=-2,tw=n=>n==="*";function ek(n,e){let t=n.split("/"),r=t.length;return t.some(tw)&&(r+=ZC),e&&(r+=QC),t.filter(i=>!tw(i)).reduce((i,o)=>i+(GC.test(o)?YC:o===""?XC:JC),r)}function tk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function nk(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Od({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),y=h.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=Od({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Ii([o,_.pathname]),pathnameBase:lk(Ii([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=Ii([o,_.pathnameBase]))}return l}function Od(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},y)=>{if(g==="*"){let S=u[y]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[y];return _&&!x?f[g]=void 0:f[g]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function rk(n,e=!1,t=!0){ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ik(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ki(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function sk(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Mo(n):n;return{pathname:t?t.startsWith("/")?t:ok(t,e):e,search:uk(r),hash:ck(i)}}function ok(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Lg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ak(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uy(n){let e=ak(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function cy(n,e,t,r=!1){let i;typeof n=="string"?i=Mo(n):(i={...n},ct(!i.pathname||!i.pathname.includes("?"),Lg("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Lg("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Lg("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),_-=1;i.pathname=y.join("/")}u=_>=0?e[_]:"/"}let h=sk(i,u),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var Ii=n=>n.join("/").replace(/\/\/+/g,"/"),lk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ck=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var dk=["GET",...TS];new Set(dk);var il=U.createContext(null);il.displayName="DataRouter";var mf=U.createContext(null);mf.displayName="DataRouterState";var bS=U.createContext({isTransitioning:!1});bS.displayName="ViewTransition";var fk=U.createContext(new Map);fk.displayName="Fetchers";var pk=U.createContext(null);pk.displayName="Await";var Cr=U.createContext(null);Cr.displayName="Navigation";var hc=U.createContext(null);hc.displayName="Location";var Zr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var hy=U.createContext(null);hy.displayName="RouteError";function gk(n,{relative:e}={}){ct(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(Cr),{hash:i,pathname:o,search:l}=dc(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Ii([t,o])),r.createHref({pathname:u,search:l,hash:i})}function sl(){return U.useContext(hc)!=null}function ei(){return ct(sl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(hc).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(n){U.useContext(Cr).static||U.useLayoutEffect(n)}function Ds(){let{isDataRoute:n}=U.useContext(Zr);return n?kk():mk()}function mk(){ct(sl(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(il),{basename:e,navigator:t}=U.useContext(Cr),{matches:r}=U.useContext(Zr),{pathname:i}=ei(),o=JSON.stringify(uy(r)),l=U.useRef(!1);return CS(()=>{l.current=!0}),U.useCallback((h,f={})=>{if(ir(l.current,IS),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=cy(h,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ii([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}U.createContext(null);function dc(n,{relative:e}={}){let{matches:t}=U.useContext(Zr),{pathname:r}=ei(),i=JSON.stringify(uy(t));return U.useMemo(()=>cy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function yk(n,e){return kS(n,e)}function kS(n,e,t,r){var O;ct(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(Cr),{matches:o}=U.useContext(Zr),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let V=g&&g.path||"";AS(h,!g||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let _=ei(),y;if(e){let V=typeof e=="string"?Mo(e):e;ct(f==="/"||((O=V.pathname)==null?void 0:O.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${V.pathname}" was given in the \`location\` prop.`),y=V}else y=_;let x=y.pathname||"/",S=x;if(f!=="/"){let V=f.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(V.length).join("/")}let T=ES(n,{pathname:S});ir(g||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ir(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Sk(T&&T.map(V=>Object.assign({},V,{params:Object.assign({},u,V.params),pathname:Ii([f,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?f:Ii([f,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),o,t,r);return e&&A?U.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function _k(){let n=Ck(),e=hk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:i},t):null,l)}var vk=U.createElement(_k,null),wk=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(Zr.Provider,{value:this.props.routeContext},U.createElement(hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ek({routeContext:n,match:e,children:t}){let r=U.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Zr.Provider,{value:n},t)}function Sk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:_}=t,y=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,g)=>{let _,y=!1,x=null,S=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||vk,l&&(u<0&&g===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):u===g&&(y=!0,S=f.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,g+1)),A=()=>{let O;return _?O=x:y?O=S:f.route.Component?O=U.createElement(f.route.Component,null):f.route.element?O=f.route.element:O=h,U.createElement(Ek,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:O})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?U.createElement(wk,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):A()},null)}function dy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xk(n){let e=U.useContext(il);return ct(e,dy(n)),e}function Tk(n){let e=U.useContext(mf);return ct(e,dy(n)),e}function bk(n){let e=U.useContext(Zr);return ct(e,dy(n)),e}function fy(n){let e=bk(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ik(){return fy("useRouteId")}function Ck(){var r;let n=U.useContext(hy),e=Tk("useRouteError"),t=fy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function kk(){let{router:n}=xk("useNavigate"),e=fy("useNavigate"),t=U.useRef(!1);return CS(()=>{t.current=!0}),U.useCallback(async(i,o={})=>{ir(t.current,IS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var nw={};function AS(n,e,t){!e&&!nw[n]&&(nw[n]=!0,ir(!1,t))}U.memo(Ak);function Ak({routes:n,future:e,state:t}){return kS(n,void 0,t,e)}function RS({to:n,replace:e,state:t,relative:r}){ct(sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=U.useContext(Cr);ir(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=U.useContext(Zr),{pathname:l}=ei(),u=Ds(),h=cy(n,uy(o),l,r==="path"),f=JSON.stringify(h);return U.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:r})},[u,f,r,e,t]),null}function vo(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){ct(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Mo(t));let{pathname:h="/",search:f="",hash:g="",state:_=null,key:y="default"}=t,x=U.useMemo(()=>{let S=ki(h,l);return S==null?null:{location:{pathname:S,search:f,hash:g,state:_,key:y},navigationType:r}},[l,h,f,g,_,y,r]);return ir(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:U.createElement(Cr.Provider,{value:u},U.createElement(hc.Provider,{children:e,value:x}))}function Pk({children:n,location:e}){return yk(mm(n),e)}function mm(n,e=[]){let t=[];return U.Children.forEach(n,(r,i)=>{if(!U.isValidElement(r))return;let o=[...e,i];if(r.type===U.Fragment){t.push.apply(t,mm(r.props.children,o));return}ct(r.type===vo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=mm(r.props.children,o)),t.push(l)}),t}var gd="get",md="application/x-www-form-urlencoded";function yf(n){return n!=null&&typeof n.tagName=="string"}function Ok(n){return yf(n)&&n.tagName.toLowerCase()==="button"}function Dk(n){return yf(n)&&n.tagName.toLowerCase()==="form"}function Mk(n){return yf(n)&&n.tagName.toLowerCase()==="input"}function Nk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Lk(n,e){return n.button===0&&(!e||e==="_self")&&!Nk(n)}var Kh=null;function Vk(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var Fk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(n){return n!=null&&!Fk.has(n)?(ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${md}"`),null):n}function jk(n,e){let t,r,i,o,l;if(Dk(n)){let u=n.getAttribute("action");r=u?ki(u,e):null,t=n.getAttribute("method")||gd,i=Vg(n.getAttribute("enctype"))||md,o=new FormData(n)}else if(Ok(n)||Mk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?ki(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||gd,i=Vg(n.getAttribute("formenctype"))||Vg(u.getAttribute("enctype"))||md,o=new FormData(u,n),!Vk()){let{name:f,type:g,value:_}=n;if(g==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,_)}}else{if(yf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gd,r=null,i=md,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function py(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Uk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $k(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await zk(o,t);return l.links?l.links():[]}return[]}));return qk(r.flat(1).filter(Uk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rw(n,e,t,r,i,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var g;return t[f].pathname!==h.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{var _;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Bk(n,e,{includeHydrateFallback:t}={}){return Wk(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Wk(n){return[...new Set(n)]}function Hk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qk(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(Hk(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kk=new Set([100,101,204,205]);function Gk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ki(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function PS(){let n=U.useContext(il);return py(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Yk(){let n=U.useContext(mf);return py(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gy=U.createContext(void 0);gy.displayName="FrameworkContext";function OS(){let n=U.useContext(gy);return py(n,"You must render this element inside a <HydratedRouter> element"),n}function Qk(n,e){let t=U.useContext(gy),[r,i]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,y=U.useRef(null);U.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let T=O=>{O.forEach(V=>{l(V.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[n]),U.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let x=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:cu(u,x),onBlur:cu(h,S),onMouseEnter:cu(f,x),onMouseLeave:cu(g,S),onTouchStart:cu(_,x)}]:[!1,y,{}]}function cu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Xk({page:n,...e}){let{router:t}=PS(),r=U.useMemo(()=>ES(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?U.createElement(Zk,{page:n,matches:r,...e}):null}function Jk(n){let{manifest:e,routeModules:t}=OS(),[r,i]=U.useState([]);return U.useEffect(()=>{let o=!1;return $k(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function Zk({page:n,matches:e,...t}){let r=ei(),{manifest:i,routeModules:o}=OS(),{basename:l}=PS(),{loaderData:u,matches:h}=Yk(),f=U.useMemo(()=>rw(n,e,h,i,r,"data"),[n,e,h,i,r]),g=U.useMemo(()=>rw(n,e,h,i,r,"assets"),[n,e,h,i,r]),_=U.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(e.forEach(O=>{var $;let V=i.routes[O.route.id];!V||!V.hasLoader||(!f.some(G=>G.route.id===O.route.id)&&O.route.id in u&&(($=o[O.route.id])!=null&&$.shouldRevalidate)||V.hasClientLoader?T=!0:S.add(O.route.id))}),S.size===0)return[];let A=Gk(n,l);return T&&S.size>0&&A.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[l,u,r,i,f,e,n,o]),y=U.useMemo(()=>Bk(g,i),[g,i]),x=Jk(g);return U.createElement(U.Fragment,null,_.map(S=>U.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),y.map(S=>U.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),x.map(({key:S,link:T})=>U.createElement("link",{key:S,...T})))}function eA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DS&&(window.__reactRouterVersion="7.6.2")}catch{}function tA({basename:n,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=$C({window:t,v5Compat:!0}));let i=r.current,[o,l]=U.useState({action:i.action,location:i.location}),u=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>i.listen(u),[i,u]),U.createElement(Rk,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NS=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:g,viewTransition:_,...y},x){let{basename:S}=U.useContext(Cr),T=typeof f=="string"&&MS.test(f),A,O=!1;if(typeof f=="string"&&T&&(A=f,DS))try{let C=new URL(window.location.href),P=f.startsWith("//")?new URL(C.protocol+f):new URL(f),M=ki(P.pathname,S);P.origin===C.origin&&M!=null?f=M+P.search+P.hash:O=!0}catch{ir(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=gk(f,{relative:i}),[$,G,L]=Qk(r,y),Q=sA(f,{replace:l,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:_});function I(C){e&&e(C),C.defaultPrevented||Q(C)}let b=U.createElement("a",{...y,...L,href:A||V,onClick:O||o?e:I,ref:eA(x,G),target:h,"data-discover":!T&&t==="render"?"true":void 0});return $&&!T?U.createElement(U.Fragment,null,b,U.createElement(Xk,{page:V})):b});NS.displayName="Link";var nA=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:h,...f},g){let _=dc(l,{relative:f.relative}),y=ei(),x=U.useContext(mf),{navigator:S,basename:T}=U.useContext(Cr),A=x!=null&&cA(_)&&u===!0,O=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,V=y.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(V=V.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&T&&($=ki($,T)||$);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let L=V===O||!i&&V.startsWith(O)&&V.charAt(G)==="/",Q=$!=null&&($===O||!i&&$.startsWith(O)&&$.charAt(O.length)==="/"),I={isActive:L,isPending:Q,isTransitioning:A},b=L?e:void 0,C;typeof r=="function"?C=r(I):C=[r,L?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(I):o;return U.createElement(NS,{...f,"aria-current":b,className:C,ref:g,style:P,to:l,viewTransition:u},typeof h=="function"?h(I):h)});nA.displayName="NavLink";var rA=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=gd,action:u,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:_,...y},x)=>{let S=lA(),T=uA(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&MS.test(u),V=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let G=$.nativeEvent.submitter,L=(G==null?void 0:G.getAttribute("formmethod"))||l;S(G||$.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return U.createElement("form",{ref:x,method:A,action:T,onSubmit:r?h:V,...y,"data-discover":!O&&n==="render"?"true":void 0})});rA.displayName="Form";function iA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(n){let e=U.useContext(il);return ct(e,iA(n)),e}function sA(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=Ds(),h=ei(),f=dc(n,{relative:o});return U.useCallback(g=>{if(Lk(g,e)){g.preventDefault();let _=t!==void 0?t:Wu(h)===Wu(f);u(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,u,f,t,r,e,n,i,o,l])}var oA=0,aA=()=>`__${String(++oA)}__`;function lA(){let{router:n}=LS("useSubmit"),{basename:e}=U.useContext(Cr),t=Ik();return U.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=jk(r,e);if(i.navigate===!1){let g=i.fetcherKey||aA();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function uA(n,{relative:e}={}){let{basename:t}=U.useContext(Cr),r=U.useContext(Zr);ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...dc(n||".",{relative:e})},l=ei();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(_=>_).forEach(_=>u.append("index",_));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ii([t,o.pathname])),Wu(o)}function cA(n,e={}){let t=U.useContext(bS);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LS("useViewTransitionState"),i=dc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ki(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ki(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Od(i.pathname,l)!=null||Od(i.pathname,o)!=null}[...Kk];const VS=U.createContext(),hA=({children:n})=>{const[e,t]=U.useState(()=>localStorage.getItem("theme")==="dark");U.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),document.body.style.backgroundColor=e?"#1a1a1a":"#f5f7ff"},[e]);const i={isDarkMode:e,toggleTheme:()=>{t(!e)},colors:{background:e?"#1a1a1a":"#f5f7ff",cardBackground:e?"#2d2d2d":"#ffffff",text:e?"#ffffff":"#1a237e",textSecondary:e?"#b0b0b0":"#546e7a",border:e?"#404040":"#e0e0e0",inputBackground:e?"#404040":"#f8f9fa"}};return W.jsx(VS.Provider,{value:i,children:n})},ti=()=>{const n=U.useContext(VS);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},dA=()=>{};var iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,g=o>>2,_=(o&3)<<4|u>>4;let y=(u&15)<<2|f>>6,x=f&63;h||(x=64,l||(y=64)),r.push(t[g],t[_],t[y],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||f==null||_==null)throw new pA;const y=o<<2|u>>4;if(r.push(y),f!==64){const x=u<<4&240|f>>2;if(r.push(x),_!==64){const S=f<<6&192|_;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gA=function(n){const e=FS(n);return jS.encodeByteArray(e,!0)},Dd=function(n){return gA(n).replace(/\./g,"")},zS=function(n){try{return jS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=()=>mA().__FIREBASE_DEFAULTS__,_A=()=>{if(typeof process>"u"||typeof iw>"u")return;const n=iw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zS(n[1]);return e&&JSON.parse(e)},_f=()=>{try{return dA()||yA()||_A()||vA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},US=n=>{var e,t;return(t=(e=_f())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wA=n=>{const e=US(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$S=()=>{var n;return(n=_f())===null||n===void 0?void 0:n.config},BS=n=>{var e;return(e=_f())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(n){return n.endsWith(".cloudworkstations.dev")}async function WS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dd(JSON.stringify(t)),Dd(JSON.stringify(l)),""].join(".")}const Ou={};function xA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?n.emulator.push(e):n.prod.push(e);return n}function TA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sw=!1;function HS(n,e){if(typeof window>"u"||typeof document>"u"||!fc(window.location.host)||Ou[n]===e||Ou[n]||sw)return;Ou[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=xA().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{sw=!0,l()},y}function g(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function _(){const y=TA(r),x=t("text"),S=document.getElementById(x)||document.createElement("span"),T=t("learnmore"),A=document.getElementById(T)||document.createElement("a"),O=t("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const $=y.element;u($),g(A,T);const G=f();h(V,O),$.append(V,S,A,G),document.body.appendChild($)}o?(S.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function IA(){var n;const e=(n=_f())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RA(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PA(){return!IA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function DA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class Vi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?NA(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Vi(i,u,r)}}function NA(n,e){return n.replace(LA,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LA=/\{\$([^}]+)}/g;function VA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Co(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(ow(o)&&ow(l)){if(!Co(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ow(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Eu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function FA(n,e){const t=new jA(n,e);return t.subscribe.bind(t)}class jA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Fg),i.error===void 0&&(i.error=Fg),i.complete===void 0&&(i.complete=Fg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n){return n&&n._delegate?n._delegate:n}class ko{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new EA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BA(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$A(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(n){return n===wo?void 0:n}function BA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const HA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},qA=Ve.INFO,KA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},GA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=KA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=qA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const YA=(n,e)=>e.some(t=>n instanceof t);let aw,lw;function QA(){return aw||(aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XA(){return lw||(lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,ym=new WeakMap,KS=new WeakMap,jg=new WeakMap,yy=new WeakMap;function JA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(_s(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&qS.set(t,n)}).catch(()=>{}),yy.set(e,n),e}function ZA(n){if(ym.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ym.set(n,e)}let _m={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ym.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eR(n){_m=n(_m)}function tR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(zg(this),e,...t);return KS.set(r,e.sort?e.sort():[e]),_s(r)}:XA().includes(n)?function(...e){return n.apply(zg(this),e),_s(qS.get(this))}:function(...e){return _s(n.apply(zg(this),e))}}function nR(n){return typeof n=="function"?tR(n):(n instanceof IDBTransaction&&ZA(n),YA(n,QA())?new Proxy(n,_m):n)}function _s(n){if(n instanceof IDBRequest)return JA(n);if(jg.has(n))return jg.get(n);const e=nR(n);return e!==n&&(jg.set(n,e),yy.set(e,n)),e}const zg=n=>yy.get(n);function rR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=_s(l);return r&&l.addEventListener("upgradeneeded",h=>{r(_s(l.result),h.oldVersion,h.newVersion,_s(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const iR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],Ug=new Map;function uw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=sR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iR.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&h.done]))[0]};return Ug.set(e,o),o}eR(n=>({...n,get:(e,t,r)=>uw(e,t)||n.get(e,t,r),has:(e,t)=>!!uw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function aR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",cw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new my("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",hR="@firebase/app-check-compat",dR="@firebase/app-check",fR="@firebase/auth",pR="@firebase/auth-compat",gR="@firebase/database",mR="@firebase/data-connect",yR="@firebase/database-compat",_R="@firebase/functions",vR="@firebase/functions-compat",wR="@firebase/installations",ER="@firebase/installations-compat",SR="@firebase/messaging",xR="@firebase/messaging-compat",TR="@firebase/performance",bR="@firebase/performance-compat",IR="@firebase/remote-config",CR="@firebase/remote-config-compat",kR="@firebase/storage",AR="@firebase/storage-compat",RR="@firebase/firestore",PR="@firebase/ai",OR="@firebase/firestore-compat",DR="firebase",MR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",NR={[vm]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[dR]:"fire-app-check",[hR]:"fire-app-check-compat",[fR]:"fire-auth",[pR]:"fire-auth-compat",[gR]:"fire-rtdb",[mR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[_R]:"fire-fn",[vR]:"fire-fn-compat",[wR]:"fire-iid",[ER]:"fire-iid-compat",[SR]:"fire-fcm",[xR]:"fire-fcm-compat",[TR]:"fire-perf",[bR]:"fire-perf-compat",[IR]:"fire-rc",[CR]:"fire-rc-compat",[kR]:"fire-gcs",[AR]:"fire-gcs-compat",[RR]:"fire-fst",[OR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,LR=new Map,Em=new Map;function hw(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ka(n){const e=n.name;if(Em.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,n);for(const t of Md.values())hw(t,n);for(const t of LR.values())hw(t,n);return!0}function _y(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new pc("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=MR;function GS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw vs.create("bad-app-name",{appName:String(i)});if(t||(t=$S()),!t)throw vs.create("no-options");const o=Md.get(i);if(o){if(Co(t,o.options)&&Co(r,o.config))return o;throw vs.create("duplicate-app",{appName:i})}const l=new WA(i);for(const h of Em.values())l.addComponent(h);const u=new FR(t,r,l);return Md.set(i,u),u}function YS(n=wm){const e=Md.get(n);if(!e&&n===wm&&$S())return GS();if(!e)throw vs.create("no-app",{appName:n});return e}function ws(n,e,t){var r;let i=(r=NR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(u.join(" "));return}Ka(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",zR=1,Hu="firebase-heartbeat-store";let $g=null;function QS(){return $g||($g=rR(jR,zR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw vs.create("idb-open",{originalErrorMessage:n.message})})),$g}async function UR(n){try{const t=(await QS()).transaction(Hu),r=await t.objectStore(Hu).get(XS(n));return await t.done,r}catch(e){if(e instanceof Vi)Ai.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function dw(n,e){try{const r=(await QS()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,XS(n)),await r.done}catch(t){if(t instanceof Vi)Ai.warn(t.message);else{const r=vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(r.message)}}}function XS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1024,BR=30;class WR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>BR){const l=KR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fw(),{heartbeatsToSend:r,unsentEntries:i}=HR(this._heartbeatsCache.heartbeats),o=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function fw(){return new Date().toISOString().substring(0,10)}function HR(n,e=$R){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),pw(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),pw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class qR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?DA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return dw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return dw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pw(n){return Dd(JSON.stringify({version:2,heartbeats:n})).length}function KR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){Ka(new ko("platform-logger",e=>new oR(e),"PRIVATE")),Ka(new ko("heartbeat",e=>new WR(e),"PRIVATE")),ws(vm,cw,n),ws(vm,cw,"esm2017"),ws("fire-js","")}GR("");function vy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=JS,ZS=new pc("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new my("@firebase/auth");function QR(n,...e){Nd.logLevel<=Ve.WARN&&Nd.warn(`Auth (${ol}): ${n}`,...e)}function yd(n,...e){Nd.logLevel<=Ve.ERROR&&Nd.error(`Auth (${ol}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(n,...e){throw wy(n,...e)}function Hr(n,...e){return wy(n,...e)}function ex(n,e,t){const r=Object.assign(Object.assign({},YR()),{[e]:t});return new pc("auth","Firebase",r).create(e,{appName:n.name})}function Es(n){return ex(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZS.create(n,...e)}function be(n,e,...t){if(!n)throw wy(e,...t)}function Ti(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yd(e),new Error(e)}function Ri(n,e){n||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function XR(){return gw()==="http:"||gw()==="https:"}function gw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||kA()||"connection"in navigator)?navigator.onLine:!0}function ZR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ri(t>e,"Short delay should be less than long delay!"),this.isMobile=bA()||AA()}get(){return JR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,e){Ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nP=new mc(3e4,6e4);function No(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ms(n,e,t,r,i={}){return nx(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=gc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return CA()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&fc(n.emulatorConfig.host)&&(f.credentials="include"),tx.fetch()(await rx(n,n.config.apiHost,t,u),f)})}async function nx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eP),e);try{const i=new iP(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Gh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Gh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Gh(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ex(n,g,f);Tr(n,g)}}catch(i){if(i instanceof Vi)throw i;Tr(n,"network-request-failed",{message:String(i)})}}async function vf(n,e,t,r,i={}){const o=await Ms(n,e,t,r,i);return"mfaPendingCredential"in o&&Tr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function rx(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?Ey(n.config,i):`${n.config.apiScheme}://${i}`;return tP.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function rP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),nP.get())})}}function Gh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Hr(n,e,r);return i.customData._tokenResponse=t,i}function mw(n){return n!==void 0&&n.enterprise!==void 0}class sP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oP(n,e){return Ms(n,"GET","/v2/recaptchaConfig",No(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e){return Ms(n,"POST","/v1/accounts:delete",e)}async function Ld(n,e){return Ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lP(n,e=!1){const t=Ht(n),r=await t.getIdToken(e),i=Sy(r);be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Du(Bg(i.auth_time)),issuedAtTime:Du(Bg(i.iat)),expirationTime:Du(Bg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Bg(n){return Number(n)*1e3}function Sy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=zS(t);return i?JSON.parse(i):(yd("Failed to decode base64 JWT payload"),null)}catch(i){return yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yw(n){const e=Sy(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vi&&uP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await qu(n,Ld(t,{idToken:r}));be(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ix(o.providerUserInfo):[],u=dP(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),g=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function hP(n){const e=Ht(n);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dP(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ix(n){return n.map(e=>{var{providerId:t}=e,r=vy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e){const t=await nx(n,{},async()=>{const r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await rx(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",tx.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pP(n,e){return Ms(n,"POST","/v2/accounts:revokeToken",No(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await fP(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new za;return r&&(be(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lP(this,e)}reload(){return hP(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await qu(this,aP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,h,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,T=(u=t.tenantId)!==null&&u!==void 0?u:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:$,emailVerified:G,isAnonymous:L,providerData:Q,stsTokenManager:I}=t;be($&&I,e,"internal-error");const b=za.fromJSON(this.name,I);be(typeof $=="string",e,"internal-error"),ls(_,e.name),ls(y,e.name),be(typeof G=="boolean",e,"internal-error"),be(typeof L=="boolean",e,"internal-error"),ls(x,e.name),ls(S,e.name),ls(T,e.name),ls(A,e.name),ls(O,e.name),ls(V,e.name);const C=new xr({uid:$,auth:e,email:y,emailVerified:G,displayName:_,isAnonymous:L,photoURL:S,phoneNumber:x,tenantId:T,stsTokenManager:b,createdAt:O,lastLoginAt:V});return Q&&Array.isArray(Q)&&(C.providerData=Q.map(P=>Object.assign({},P))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new za;i.updateFromServerResponse(t);const o=new xr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ix(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new za;u.updateFromIdToken(r);const h=new xr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;function bi(n){Ri(n instanceof Function,"Expected a class definition");let e=_w.get(n);return e?(Ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_w.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sx.type="NONE";const vw=sx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n,e,t){return`firebase:${n}:${e}:${t}`}class Ua{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,o),this.fullPersistenceKey=_d("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ld(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ua(bi(vw),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||bi(vw);const l=_d(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const g=await f._get(l);if(g){let _;if(typeof g=="string"){const y=await Ld(e,{idToken:g}).catch(()=>{});if(!y)break;_=await xr._fromGetAccountInfoResponse(e,y,g)}else _=xr._fromJSON(e,g);f!==o&&(u=_),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ua(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ua(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hx(e))return"Blackberry";if(dx(e))return"Webos";if(ax(e))return"Safari";if((e.includes("chrome/")||lx(e))&&!e.includes("edge/"))return"Chrome";if(cx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ox(n=dn()){return/firefox\//i.test(n)}function ax(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lx(n=dn()){return/crios\//i.test(n)}function ux(n=dn()){return/iemobile/i.test(n)}function cx(n=dn()){return/android/i.test(n)}function hx(n=dn()){return/blackberry/i.test(n)}function dx(n=dn()){return/webos/i.test(n)}function xy(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gP(n=dn()){var e;return xy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mP(){return RA()&&document.documentMode===10}function fx(n=dn()){return xy(n)||cx(n)||dx(n)||hx(n)||/windows phone/i.test(n)||ux(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n,e=[]){let t;switch(n){case"Browser":t=ww(dn());break;case"Worker":t=`${ww(dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e={}){return Ms(n,"GET","/v2/passwordPolicy",No(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=6;class wP{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:vP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ew(this),this.idTokenSubscription=new Ew(this),this.beforeStateQueue=new yP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ld(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Es(this));const t=e?Ht(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _P(this),t=new wP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bi(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=px(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&QR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function al(n){return Ht(n)}class Ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=FA(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SP(n){wf=n}function gx(n){return wf.loadJS(n)}function xP(){return wf.recaptchaEnterpriseScript}function TP(){return wf.gapiScript}function bP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IP{constructor(){this.enterprise=new CP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kP="recaptcha-enterprise",mx="NO_RECAPTCHA";class AP{constructor(e){this.type=kP,this.auth=al(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{oP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new sP(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function i(o,l,u){const h=window.grecaptcha;mw(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(mx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&mw(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=xP();h.length!==0&&(h+=u),gx(h).then(()=>{i(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Sw(n,e,t,r=!1,i=!1){const o=new AP(n);let l;if(i)l=mx;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xw(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Sw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Sw(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n,e){const t=_y(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Co(o,e??{}))return i;Tr(i,"already-initialized")}return t.initialize({options:e})}function PP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OP(n,e,t){const r=al(n);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=yx(e),{host:l,port:u}=DP(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Co(f,r.config.emulator)&&Co(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,fc(l)?(WS(`${o}//${l}${h}`),HS("Auth",!0)):MP()}function yx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DP(n){const e=yx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Tw(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Tw(l)}}}function Tw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,t){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function NP(n,e){return Ms(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e){return vf(n,"POST","/v1/accounts:signInWithPassword",No(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(n,e){return vf(n,"POST","/v1/accounts:signInWithEmailLink",No(n,e))}async function FP(n,e){return vf(n,"POST","/v1/accounts:signInWithEmailLink",No(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Ty{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ku(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ku(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,t,"signInWithPassword",LP);case"emailLink":return VP(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,r,"signUpPassword",NP);case"emailLink":return FP(e,{idToken:t,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(n,e){return vf(n,"POST","/v1/accounts:signInWithIdp",No(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="http://localhost";class Ao extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=vy(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ao(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return $a(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$a(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$a(e,t)}buildRequest(){const e={requestUri:jP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UP(n){const e=wu(Eu(n)).link,t=e?wu(Eu(e)).deep_link_id:null,r=wu(Eu(n)).deep_link_id;return(r?wu(Eu(r)).link:null)||r||t||e||n}class by{constructor(e){var t,r,i,o,l,u;const h=wu(Eu(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,_=zP((i=h.mode)!==null&&i!==void 0?i:null);be(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=UP(e);try{return new by(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,t){return Ku._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=by.parseLink(t);return be(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends _x{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends yc{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ao._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hs.credential(t,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends yc{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends yc{constructor(){super("twitter.com")}static credential(e,t){return Ao._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fs.credential(t,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await xr._fromIdTokenResponse(e,r,i),l=bw(r);return new Ga({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=bw(r);return new Ga({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function bw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Vi{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Fd(e,t,r,i)}}function vx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(n,o,e,r):o})}async function $P(n,e,t=!1){const r=await qu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ga._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(n,e,t=!1){const{auth:r}=n;if(Sr(r.app))return Promise.reject(Es(r));const i="reauthenticate";try{const o=await qu(n,vx(r,i,e,n),t);be(o.idToken,r,"internal-error");const l=Sy(o.idToken);be(l,r,"internal-error");const{sub:u}=l;return be(n.uid===u,r,"user-mismatch"),Ga._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(n,e,t=!1){if(Sr(n.app))return Promise.reject(Es(n));const r="signIn",i=await vx(n,r,e),o=await Ga._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function WP(n,e){return wx(al(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(n){const e=al(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qP(n,e,t){return Sr(n.app)?Promise.reject(Es(n)):WP(Ht(n),ll.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HP(n),r})}function KP(n,e,t,r){return Ht(n).onIdTokenChanged(e,t,r)}function GP(n,e,t){return Ht(n).beforeAuthStateChanged(e,t)}function Ex(n,e,t,r){return Ht(n).onAuthStateChanged(e,t,r)}function YP(n){return Ht(n).signOut()}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=1e3,XP=10;class xx extends Sx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);mP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XP):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xx.type="LOCAL";const JP=xx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx extends Sx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tx.type="SESSION";const bx=Tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,o)),h=await ZP(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=Iy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const y=_;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function t2(n){qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function n2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function i2(){return Ix()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebaseLocalStorageDb",s2=1,zd="firebaseLocalStorage",kx="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sf(n,e){return n.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function o2(){const n=indexedDB.deleteDatabase(Cx);return new _c(n).toPromise()}function Tm(){const n=indexedDB.open(Cx,s2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(zd,{keyPath:kx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(zd)?e(r):(r.close(),await o2(),e(await Tm()))})})}async function Iw(n,e,t){const r=Sf(n,!0).put({[kx]:e,value:t});return new _c(r).toPromise()}async function a2(n,e){const t=Sf(n,!1).get(e),r=await new _c(t).toPromise();return r===void 0?null:r.value}function Cw(n,e){const t=Sf(n,!0).delete(e);return new _c(t).toPromise()}const l2=800,u2=3;class Ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>u2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ix()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(i2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await n2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await Iw(e,jd,"1"),await Cw(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Iw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>a2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Sf(i,!1).getAll();return new _c(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ax.type="LOCAL";const c2=Ax;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(n,e){return e?bi(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $a(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function d2(n){return wx(n.auth,new Cy(n),n.bypassAuthState)}function f2(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),BP(t,new Cy(n),n.bypassAuthState)}async function p2(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),$P(t,new Cy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return p2;case"reauthViaPopup":case"reauthViaRedirect":return f2;default:Tr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new mc(2e3,1e4);class ja extends Rx{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g2.get())};e()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="pendingRedirect",vd=new Map;class y2 extends Rx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const r=await _2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(n,e){const t=E2(e),r=w2(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function v2(n,e){vd.set(n._key(),e)}function w2(n){return bi(n._redirectPersistence)}function E2(n){return _d(m2,n.config.apiKey,n.name)}async function S2(n,e,t=!1){if(Sr(n.app))return Promise.reject(Es(n));const r=al(n),i=h2(r,e),l=await new y2(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=10*60*1e3;class T2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Px(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Hr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(kw(e))}saveEventToCache(e){this.cachedEventUids.add(kw(e)),this.lastProcessedEventTime=Date.now()}}function kw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Px({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Px(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,e={}){return Ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function A2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await I2(n);for(const t of e)try{if(R2(t))return}catch{}Tr(n,"unauthorized-domain")}function R2(n){const e=Sm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!k2.test(t))return!1;if(C2.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new mc(3e4,6e4);function Aw(){const n=qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O2(n){return new Promise((e,t)=>{var r,i,o;function l(){Aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aw(),t(Hr(n,"network-request-failed"))},timeout:P2.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=qr().gapi)===null||o===void 0)&&o.load)l();else{const u=bP("iframefcb");return qr()[u]=()=>{gapi.load?l():t(Hr(n,"network-request-failed"))},gx(`${TP()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw wd=null,e})}let wd=null;function D2(n){return wd=wd||O2(n),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new mc(5e3,15e3),N2="__/auth/iframe",L2="emulator/auth/iframe",V2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ey(e,L2):`https://${n.config.authDomain}/${N2}`,r={apiKey:e.apiKey,appName:n.name,v:ol},i=F2.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${gc(r).slice(1)}`}async function z2(n){const e=await D2(n),t=qr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:j2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Hr(n,"network-request-failed"),u=qr().setTimeout(()=>{o(l)},M2.get());function h(){qr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$2=500,B2=600,W2="_blank",H2="http://localhost";class Rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q2(n,e,t,r=$2,i=B2){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},U2),{width:r.toString(),height:i.toString(),top:o,left:l}),f=dn().toLowerCase();t&&(u=lx(f)?W2:t),ox(f)&&(e=e||H2,h.scrollbars="yes");const g=Object.entries(h).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(gP(f)&&u!=="_self")return K2(e||"",u),new Rw(null);const _=window.open(e||"",u,g);be(_,n,"popup-blocked");try{_.focus()}catch{}return new Rw(_)}function K2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="__/auth/handler",Y2="emulator/auth/handler",Q2=encodeURIComponent("fac");async function Pw(n,e,t,r,i,o){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ol,eventId:i};if(e instanceof _x){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",VA(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof yc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),f=h?`#${Q2}=${encodeURIComponent(h)}`:"";return`${X2(n)}?${gc(u).slice(1)}${f}`}function X2({config:n}){return n.emulator?Ey(n,Y2):`https://${n.authDomain}/${G2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class J2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bx,this._completeRedirectFn=S2,this._overrideRedirectResult=v2}async _openPopup(e,t,r,i){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Pw(e,t,r,Sm(),i);return q2(e,l,Iy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await Pw(e,t,r,Sm(),i);return t2(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await z2(e),r=new T2(e);return t.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wg,{type:Wg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Wg];l!==void 0&&t(!!l),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=A2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fx()||ax()||xy()}}const Z2=J2;var Ow="@firebase/auth",Dw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nO(n){Ka(new ko("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:px(n)},f=new EP(r,i,o,h);return PP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ka(new ko("auth-internal",e=>{const t=al(e.getProvider("auth").getImmediate());return(r=>new eO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Ow,Dw,tO(n)),ws(Ow,Dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=5*60,iO=BS("authIdTokenMaxAge")||rO;let Mw=null;const sO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iO)return;const i=t==null?void 0:t.token;Mw!==i&&(Mw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oO(n=YS()){const e=_y(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RP(n,{popupRedirectResolver:Z2,persistence:[c2,JP,bx]}),r=BS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=sO(o.toString());GP(t,l,()=>l(t.currentUser)),KP(t,u=>l(u))}}const i=US("auth");return i&&OP(t,`http://${i}`),t}function aO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}SP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Hr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",aO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nO("Browser");var lO="firebase",uO="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(lO,uO,"app");var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,Ox;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function C(){}C.prototype=b.prototype,I.D=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(P,M,F){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return b.prototype[M].apply(P,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,b,C){C||(C=0);var P=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)P[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;16>M;++M)P[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],M=I.g[2];var F=I.g[3],D=b+(F^C&(M^F))+P[0]+3614090360&4294967295;b=C+(D<<7&4294967295|D>>>25),D=F+(M^b&(C^M))+P[1]+3905402710&4294967295,F=b+(D<<12&4294967295|D>>>20),D=M+(C^F&(b^C))+P[2]+606105819&4294967295,M=F+(D<<17&4294967295|D>>>15),D=C+(b^M&(F^b))+P[3]+3250441966&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(F^C&(M^F))+P[4]+4118548399&4294967295,b=C+(D<<7&4294967295|D>>>25),D=F+(M^b&(C^M))+P[5]+1200080426&4294967295,F=b+(D<<12&4294967295|D>>>20),D=M+(C^F&(b^C))+P[6]+2821735955&4294967295,M=F+(D<<17&4294967295|D>>>15),D=C+(b^M&(F^b))+P[7]+4249261313&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(F^C&(M^F))+P[8]+1770035416&4294967295,b=C+(D<<7&4294967295|D>>>25),D=F+(M^b&(C^M))+P[9]+2336552879&4294967295,F=b+(D<<12&4294967295|D>>>20),D=M+(C^F&(b^C))+P[10]+4294925233&4294967295,M=F+(D<<17&4294967295|D>>>15),D=C+(b^M&(F^b))+P[11]+2304563134&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(F^C&(M^F))+P[12]+1804603682&4294967295,b=C+(D<<7&4294967295|D>>>25),D=F+(M^b&(C^M))+P[13]+4254626195&4294967295,F=b+(D<<12&4294967295|D>>>20),D=M+(C^F&(b^C))+P[14]+2792965006&4294967295,M=F+(D<<17&4294967295|D>>>15),D=C+(b^M&(F^b))+P[15]+1236535329&4294967295,C=M+(D<<22&4294967295|D>>>10),D=b+(M^F&(C^M))+P[1]+4129170786&4294967295,b=C+(D<<5&4294967295|D>>>27),D=F+(C^M&(b^C))+P[6]+3225465664&4294967295,F=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(F^b))+P[11]+643717713&4294967295,M=F+(D<<14&4294967295|D>>>18),D=C+(F^b&(M^F))+P[0]+3921069994&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(M^F&(C^M))+P[5]+3593408605&4294967295,b=C+(D<<5&4294967295|D>>>27),D=F+(C^M&(b^C))+P[10]+38016083&4294967295,F=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(F^b))+P[15]+3634488961&4294967295,M=F+(D<<14&4294967295|D>>>18),D=C+(F^b&(M^F))+P[4]+3889429448&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(M^F&(C^M))+P[9]+568446438&4294967295,b=C+(D<<5&4294967295|D>>>27),D=F+(C^M&(b^C))+P[14]+3275163606&4294967295,F=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(F^b))+P[3]+4107603335&4294967295,M=F+(D<<14&4294967295|D>>>18),D=C+(F^b&(M^F))+P[8]+1163531501&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(M^F&(C^M))+P[13]+2850285829&4294967295,b=C+(D<<5&4294967295|D>>>27),D=F+(C^M&(b^C))+P[2]+4243563512&4294967295,F=b+(D<<9&4294967295|D>>>23),D=M+(b^C&(F^b))+P[7]+1735328473&4294967295,M=F+(D<<14&4294967295|D>>>18),D=C+(F^b&(M^F))+P[12]+2368359562&4294967295,C=M+(D<<20&4294967295|D>>>12),D=b+(C^M^F)+P[5]+4294588738&4294967295,b=C+(D<<4&4294967295|D>>>28),D=F+(b^C^M)+P[8]+2272392833&4294967295,F=b+(D<<11&4294967295|D>>>21),D=M+(F^b^C)+P[11]+1839030562&4294967295,M=F+(D<<16&4294967295|D>>>16),D=C+(M^F^b)+P[14]+4259657740&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(C^M^F)+P[1]+2763975236&4294967295,b=C+(D<<4&4294967295|D>>>28),D=F+(b^C^M)+P[4]+1272893353&4294967295,F=b+(D<<11&4294967295|D>>>21),D=M+(F^b^C)+P[7]+4139469664&4294967295,M=F+(D<<16&4294967295|D>>>16),D=C+(M^F^b)+P[10]+3200236656&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(C^M^F)+P[13]+681279174&4294967295,b=C+(D<<4&4294967295|D>>>28),D=F+(b^C^M)+P[0]+3936430074&4294967295,F=b+(D<<11&4294967295|D>>>21),D=M+(F^b^C)+P[3]+3572445317&4294967295,M=F+(D<<16&4294967295|D>>>16),D=C+(M^F^b)+P[6]+76029189&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(C^M^F)+P[9]+3654602809&4294967295,b=C+(D<<4&4294967295|D>>>28),D=F+(b^C^M)+P[12]+3873151461&4294967295,F=b+(D<<11&4294967295|D>>>21),D=M+(F^b^C)+P[15]+530742520&4294967295,M=F+(D<<16&4294967295|D>>>16),D=C+(M^F^b)+P[2]+3299628645&4294967295,C=M+(D<<23&4294967295|D>>>9),D=b+(M^(C|~F))+P[0]+4096336452&4294967295,b=C+(D<<6&4294967295|D>>>26),D=F+(C^(b|~M))+P[7]+1126891415&4294967295,F=b+(D<<10&4294967295|D>>>22),D=M+(b^(F|~C))+P[14]+2878612391&4294967295,M=F+(D<<15&4294967295|D>>>17),D=C+(F^(M|~b))+P[5]+4237533241&4294967295,C=M+(D<<21&4294967295|D>>>11),D=b+(M^(C|~F))+P[12]+1700485571&4294967295,b=C+(D<<6&4294967295|D>>>26),D=F+(C^(b|~M))+P[3]+2399980690&4294967295,F=b+(D<<10&4294967295|D>>>22),D=M+(b^(F|~C))+P[10]+4293915773&4294967295,M=F+(D<<15&4294967295|D>>>17),D=C+(F^(M|~b))+P[1]+2240044497&4294967295,C=M+(D<<21&4294967295|D>>>11),D=b+(M^(C|~F))+P[8]+1873313359&4294967295,b=C+(D<<6&4294967295|D>>>26),D=F+(C^(b|~M))+P[15]+4264355552&4294967295,F=b+(D<<10&4294967295|D>>>22),D=M+(b^(F|~C))+P[6]+2734768916&4294967295,M=F+(D<<15&4294967295|D>>>17),D=C+(F^(M|~b))+P[13]+1309151649&4294967295,C=M+(D<<21&4294967295|D>>>11),D=b+(M^(C|~F))+P[4]+4149444226&4294967295,b=C+(D<<6&4294967295|D>>>26),D=F+(C^(b|~M))+P[11]+3174756917&4294967295,F=b+(D<<10&4294967295|D>>>22),D=M+(b^(F|~C))+P[2]+718787259&4294967295,M=F+(D<<15&4294967295|D>>>17),D=C+(F^(M|~b))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+F&4294967295}r.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var C=b-this.blockSize,P=this.B,M=this.h,F=0;F<b;){if(M==0)for(;F<=C;)i(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<b;)if(P[M++]=I.charCodeAt(F++),M==this.blockSize){i(this,P),M=0;break}}else for(;F<b;)if(P[M++]=I[F++],M==this.blockSize){i(this,P),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var C=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=C&255,C/=256;for(this.u(I),I=Array(16),b=C=0;4>b;++b)for(var P=0;32>P;P+=8)I[C++]=this.g[b]>>>P&255;return I};function o(I,b){var C=u;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function l(I,b){this.h=b;for(var C=[],P=!0,M=I.length-1;0<=M;M--){var F=I[M]|0;P&&F==b||(C[M]=F,P=!1)}this.g=C}var u={};function h(I){return-128<=I&&128>I?o(I,function(b){return new l([b|0],0>b?-1:0)}):new l([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return A(f(-I));for(var b=[],C=1,P=0;I>=C;P++)b[P]=I/C|0,C*=4294967296;return new l(b,0)}function g(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return A(g(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(b,8)),P=_,M=0;M<I.length;M+=8){var F=Math.min(8,I.length-M),D=parseInt(I.substring(M,M+F),b);8>F?(F=f(Math.pow(b,F)),P=P.j(F).add(f(D))):(P=P.j(C),P=P.add(f(D)))}return P}var _=h(0),y=h(1),x=h(16777216);n=l.prototype,n.m=function(){if(T(this))return-A(this).m();for(var I=0,b=1,C=0;C<this.g.length;C++){var P=this.i(C);I+=(0<=P?P:4294967296+P)*b,b*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(T(this))return"-"+A(this).toString(I);for(var b=f(Math.pow(I,6)),C=this,P="";;){var M=G(C,b).g;C=O(C,M.j(b));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=M,S(C))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function T(I){return I.h==-1}n.l=function(I){return I=O(this,I),T(I)?-1:S(I)?0:1};function A(I){for(var b=I.g.length,C=[],P=0;P<b;P++)C[P]=~I.g[P];return new l(C,~I.h).add(y)}n.abs=function(){return T(this)?A(this):this},n.add=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0,M=0;M<=b;M++){var F=P+(this.i(M)&65535)+(I.i(M)&65535),D=(F>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);P=D>>>16,F&=65535,D&=65535,C[M]=D<<16|F}return new l(C,C[C.length-1]&-2147483648?-1:0)};function O(I,b){return I.add(A(b))}n.j=function(I){if(S(this)||S(I))return _;if(T(this))return T(I)?A(this).j(A(I)):A(A(this).j(I));if(T(I))return A(this.j(A(I)));if(0>this.l(x)&&0>I.l(x))return f(this.m()*I.m());for(var b=this.g.length+I.g.length,C=[],P=0;P<2*b;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<I.g.length;M++){var F=this.i(P)>>>16,D=this.i(P)&65535,Ee=I.i(M)>>>16,ye=I.i(M)&65535;C[2*P+2*M]+=D*ye,V(C,2*P+2*M),C[2*P+2*M+1]+=F*ye,V(C,2*P+2*M+1),C[2*P+2*M+1]+=D*Ee,V(C,2*P+2*M+1),C[2*P+2*M+2]+=F*Ee,V(C,2*P+2*M+2)}for(P=0;P<b;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=b;P<2*b;P++)C[P]=0;return new l(C,0)};function V(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function $(I,b){this.g=I,this.h=b}function G(I,b){if(S(b))throw Error("division by zero");if(S(I))return new $(_,_);if(T(I))return b=G(A(I),b),new $(A(b.g),A(b.h));if(T(b))return b=G(I,A(b)),new $(A(b.g),b.h);if(30<I.g.length){if(T(I)||T(b))throw Error("slowDivide_ only works with positive integers.");for(var C=y,P=b;0>=P.l(I);)C=L(C),P=L(P);var M=Q(C,1),F=Q(P,1);for(P=Q(P,2),C=Q(C,2);!S(P);){var D=F.add(P);0>=D.l(I)&&(M=M.add(C),F=D),P=Q(P,1),C=Q(C,1)}return b=O(I,M.j(b)),new $(M,b)}for(M=_;0<=I.l(b);){for(C=Math.max(1,Math.floor(I.m()/b.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=f(C),D=F.j(b);T(D)||0<D.l(I);)C-=P,F=f(C),D=F.j(b);S(F)&&(F=y),M=M.add(F),I=O(I,D)}return new $(M,I)}n.A=function(I){return G(this,I).h},n.and=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0;P<b;P++)C[P]=this.i(P)&I.i(P);return new l(C,this.h&I.h)},n.or=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0;P<b;P++)C[P]=this.i(P)|I.i(P);return new l(C,this.h|I.h)},n.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0;P<b;P++)C[P]=this.i(P)^I.i(P);return new l(C,this.h^I.h)};function L(I){for(var b=I.g.length+1,C=[],P=0;P<b;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new l(C,I.h)}function Q(I,b){var C=b>>5;b%=32;for(var P=I.g.length-C,M=[],F=0;F<P;F++)M[F]=0<b?I.i(F+C)>>>b|I.i(F+C+1)<<32-b:I.i(F+C);return new l(M,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ox=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Ss=l}).apply(typeof Nw<"u"?Nw:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dx,Su,Mx,Ed,bm,Nx,Lx,Vx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in E))break e;E=E[H]}d=d[d.length-1],R=E[d],v=v(R),v!=R&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,R=!1,H={next:function(){if(!R&&E<d.length){var X=E++;return{value:v(X,d[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,E){return d.call.apply(d.bind,arguments)}function _(d,v,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function y(d,v,E){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,y.apply(null,arguments)}function x(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function S(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,H,X){for(var oe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)oe[Ye-2]=arguments[Ye];return v.prototype[H].apply(R,oe)}}function T(d){const v=d.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=d[R];return E}return[]}function A(d,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(h(R)){const H=d.length||0,X=R.length||0;d.length=H+X;for(let oe=0;oe<X;oe++)d[H+oe]=R[oe]}else d.push(R)}}class O{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var L=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Q(d,v,E){for(const R in d)v.call(E,d[R],R,d)}function I(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function b(d){const v={};for(const E in d)v[E]=d[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let E,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(E in R)d[E]=R[E];for(let X=0;X<C.length;X++)E=C[X],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function M(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function F(d){u.setTimeout(()=>{throw d},0)}function D(){var d=le;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,E){const R=ye.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var ye=new O(()=>new Ce,d=>d.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ie=!1,le=new Ee,j=()=>{const d=u.Promise.resolve(void 0);_e=()=>{d.then(J)}};var J=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){F(E)}var v=ye;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ie=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return d}();function Oe(d,v){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(L){e:{try{G(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Oe.aa.h.call(this)}}S(Oe,ge);var ve={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function gt(d,v,E,R,H){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=H,this.key=++Le,this.da=this.fa=!1}function ni(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Wn(d){this.src=d,this.g={},this.h=0}Wn.prototype.add=function(d,v,E,R,H){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var oe=Rt(d,v,R,H);return-1<oe?(v=d[oe],E||(v.fa=!1)):(v=new gt(v,this.src,X,!!R,H),v.fa=E,d.push(v)),v};function tn(d,v){var E=v.type;if(E in d.g){var R=d.g[E],H=Array.prototype.indexOf.call(R,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(R,H,1),X&&(ni(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Rt(d,v,E,R){for(var H=0;H<d.length;++H){var X=d[H];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==R)return H}return-1}var On="closure_lm_"+(1e6*Math.random()|0),or={};function Fs(d,v,E,R,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Fs(d,v[X],E,R,H);return null}return E=yl(E),d&&d[Pe]?d.K(v,E,f(R)?!!R.capture:!1,H):js(d,v,E,!1,R,H)}function js(d,v,E,R,H,X){if(!v)throw Error("Invalid event type");var oe=f(H)?!!H.capture:!!H,Ye=jo(d);if(Ye||(d[On]=Ye=new Wn(d)),E=Ye.add(v,E,R,oe,X),E.proxy)return E;if(R=Pc(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)Te||(H=oe),H===void 0&&(H=!1),d.addEventListener(v.toString(),R,H);else if(d.attachEvent)d.attachEvent(ii(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pc(){function d(E){return v.call(d.src,d.listener,E)}const v=ml;return d}function Fo(d,v,E,R,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Fo(d,v[X],E,R,H);else R=f(R)?!!R.capture:!!R,E=yl(E),d&&d[Pe]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],E=Rt(X,E,R,H),-1<E&&(ni(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=jo(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Rt(v,E,R,H)),(E=-1<d?v[d]:null)&&ri(E))}function ri(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Pe])tn(v.i,d);else{var E=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(E,R,d.capture):v.detachEvent?v.detachEvent(ii(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=jo(v))?(tn(E,d),E.h==0&&(E.src=null,v[On]=null)):ni(d)}}}function ii(d){return d in or?or[d]:or[d]="on"+d}function ml(d,v){if(d.da)d=!0;else{v=new Oe(v,this);var E=d.listener,R=d.ha||d.src;d.fa&&ri(d),d=E.call(R,v)}return d}function jo(d){return d=d[On],d instanceof Wn?d:null}var zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function yl(d){return typeof d=="function"?d:(d[zo]||(d[zo]=function(v){return d.handleEvent(v)}),d[zo])}function Pt(){ae.call(this),this.i=new Wn(this),this.M=this,this.F=null}S(Pt,ae),Pt.prototype[Pe]=!0,Pt.prototype.removeEventListener=function(d,v,E,R){Fo(this,d,v,E,R)};function Ot(d,v){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new ge(v,d);else if(v instanceof ge)v.target=v.target||d;else{var H=v;v=new ge(R,d),P(v,H)}if(H=!0,E)for(var X=E.length-1;0<=X;X--){var oe=v.g=E[X];H=si(oe,R,!0,v)&&H}if(oe=v.g=d,H=si(oe,R,!0,v)&&H,H=si(oe,R,!1,v)&&H,E)for(X=0;X<E.length;X++)oe=v.g=E[X],H=si(oe,R,!1,v)&&H}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],R=0;R<E.length;R++)ni(E[R]);delete d.g[v],d.h--}}this.F=null},Pt.prototype.K=function(d,v,E,R){return this.i.add(String(d),v,!1,E,R)},Pt.prototype.L=function(d,v,E,R){return this.i.add(String(d),v,!0,E,R)};function si(d,v,E,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var oe=v[X];if(oe&&!oe.da&&oe.capture==E){var Ye=oe.listener,Dt=oe.ha||oe.src;oe.fa&&tn(d.i,oe),H=Ye.call(Dt,R)!==!1&&H}}return H&&!R.defaultPrevented}function _l(d,v,E){if(typeof d=="function")E&&(d=y(d,E));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function Fi(d){d.g=_l(()=>{d.g=null,d.i&&(d.i=!1,Fi(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class zs extends ae{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Fi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(d){ae.call(this),this.h=d,this.g={}}S(Us,ae);var vl=[];function wl(d){Q(d.g,function(v,E){this.g.hasOwnProperty(E)&&ri(v)},d),d.g={}}Us.prototype.N=function(){Us.aa.N.call(this),wl(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var El=u.JSON.stringify,Sl=u.JSON.parse,xl=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function $s(){}$s.prototype.h=null;function Uo(d){return d.h||(d.h=d.i())}function $o(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){ge.call(this,"d")}S(kr,ge);function Bo(){ge.call(this,"c")}S(Bo,ge);var Ar={},Tl=null;function Bs(){return Tl=Tl||new Pt}Ar.La="serverreachability";function bl(d){ge.call(this,Ar.La,d)}S(bl,ge);function oi(d){const v=Bs();Ot(v,new bl(v))}Ar.STAT_EVENT="statevent";function Il(d,v){ge.call(this,Ar.STAT_EVENT,d),this.stat=v}S(Il,ge);function vt(d){const v=Bs();Ot(v,new Il(v,d))}Ar.Ma="timingevent";function Wo(d,v){ge.call(this,Ar.Ma,d),this.size=v}S(Wo,ge);function ar(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Ws(){this.g=!0}Ws.prototype.xa=function(){this.g=!1};function Hs(d,v,E,R,H,X){d.info(function(){if(d.g)if(X)for(var oe="",Ye=X.split("&"),Dt=0;Dt<Ye.length;Dt++){var ze=Ye[Dt].split("=");if(1<ze.length){var jt=ze[0];ze=ze[1];var Tt=jt.split("_");oe=2<=Tt.length&&Tt[1]=="type"?oe+(jt+"="+ze+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+E+`
`+oe})}function Ho(d,v,E,R,H,X,oe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+E+`
`+X+" "+oe})}function lr(d,v,E,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+sp(d,E)+(R?" "+R:"")})}function Cl(d,v){d.info(function(){return"TIMEOUT: "+v})}Ws.prototype.info=function(){};function sp(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return El(E)}catch{return v}}var qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ur;function qs(){}S(qs,$s),qs.prototype.g=function(){return new XMLHttpRequest},qs.prototype.i=function(){return{}},ur=new qs;function cr(d,v,E,R){this.j=d,this.i=v,this.l=E,this.R=R||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dc}function Dc(){this.i=null,this.g="",this.h=!1}var kl={},Ko={};function Go(d,v,E){d.L=1,d.v=Bi(Mn(v)),d.m=E,d.P=!0,Al(d,null)}function Al(d,v){d.F=Date.now(),tt(d),d.A=Mn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Hi(E.i,"t",R),d.C=0,E=d.j.J,d.h=new Dc,d.g=Xc(d.j,E?v:null,!d.m),0<d.O&&(d.M=new zs(y(d.Y,d,d.g),d.O)),v=d.U,E=d.g,R=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(vl[0]=H.toString()),H=vl);for(var X=0;X<H.length;X++){var oe=Fs(E,H[X],R||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),oi(),Hs(d.i,d.u,d.A,d.l,d.R,d.m)}cr.prototype.ca=function(d){d=d.target;const v=this.M;v&&vn(d)==3?v.j():this.Y(d)},cr.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=vn(this.g);var v=this.g.Ba();const Gn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Nl(this.g)))){this.J||Tt!=4||v==7||(v==8||0>=Gn?oi(3):oi(2)),Ks(this);var E=this.g.Z();this.X=E;t:if(Mc(this)){var R=Nl(this.g);d="";var H=R.length,X=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),ji(this);var oe="";break t}this.h.i=new u.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(X&&v==H-1)});R.length=0,this.h.g+=d,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Ho(this.i,this.u,this.A,this.l,this.R,Tt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Dt=this.g;if((Ye=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ye)){var ze=Ye;break t}}ze=null}if(E=ze)lr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rl(this,E);else{this.o=!1,this.s=3,vt(12),qn(this),ji(this);break e}}if(this.P){E=!0;let Ln;for(;!this.J&&this.C<oe.length;)if(Ln=op(this,oe),Ln==Ko){Tt==4&&(this.s=4,vt(14),E=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==kl){this.s=4,vt(15),lr(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else lr(this.i,this.l,Ln,null),Rl(this,Ln);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||oe.length!=0||this.h.h||(this.s=1,vt(16),E=!1),this.o=this.o&&E,!E)lr(this.i,this.l,oe,"[Invalid Chunked Response]"),qn(this),ji(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Vl(jt),jt.M=!0,vt(11))}}else lr(this.i,this.l,oe,null),Rl(this,oe);Tt==4&&qn(this),this.o&&!this.J&&(Tt==4?sa(this.j,this):(this.o=!1,tt(this)))}else ea(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),qn(this),ji(this)}}}catch{}finally{}};function Mc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function op(d,v){var E=d.C,R=v.indexOf(`
`,E);return R==-1?Ko:(E=Number(v.substring(E,R)),isNaN(E)?kl:(R+=1,R+E>v.length?Ko:(v=v.slice(R,R+E),d.C=R+E,v)))}cr.prototype.cancel=function(){this.J=!0,qn(this)};function tt(d){d.S=Date.now()+d.I,Nc(d,d.I)}function Nc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ar(y(d.ba,d),v)}function Ks(d){d.B&&(u.clearTimeout(d.B),d.B=null)}cr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Cl(this.i,this.A),this.L!=2&&(oi(),vt(17)),qn(this),this.s=2,ji(this)):Nc(this,this.S-d)};function ji(d){d.j.G==0||d.J||sa(d.j,d)}function qn(d){Ks(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,wl(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Rl(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||fn(E.h,d))){if(!d.K&&fn(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ia(E),gr(E);else break e;ra(E),vt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=ar(y(E.Za,E),6e3));if(1>=Vc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else hi(E,11)}else if((d.K||E.g==d)&&ia(E),!V(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let ze=H[v];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const jt=ze[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const Tt=ze[4];Tt!=null&&(E.Aa=Tt,E.j.info("SVER="+E.Aa));const Gn=ze[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(R=1.5*Gn,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Ln=d.g;if(Ln){const eo=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eo){var X=R.h;X.g||eo.indexOf("spdy")==-1&&eo.indexOf("quic")==-1&&eo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Pl(X,X.h),X.h=null))}if(R.D){const aa=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(R.ya=aa,et(R.I,R.D,aa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var oe=d;if(R.qa=Qc(R,R.J?R.ia:null,R.W),oe.K){Fc(R.h,oe);var Ye=oe,Dt=R.L;Dt&&(Ye.I=Dt),Ye.B&&(Ks(Ye),tt(Ye)),R.g=oe}else Zs(R);0<E.i.length&&Dr(E)}else ze[0]!="stop"&&ze[0]!="close"||hi(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?hi(E,7):Kt(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}oi(4)}catch{}}var Lc=class{constructor(d,v){this.g=d,this.map=v}};function Gs(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vc(d){return d.h?1:d.g?d.g.size:0}function fn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Pl(d,v){d.g?d.g.add(v):d.h=v}function Fc(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Gs.prototype.cancel=function(){if(this.i=jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function jc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return T(d.i)}function Yo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,R=0;R<E;R++)v.push(d[R]);return v}v=[],E=0;for(R in d)v[E++]=d[R];return v}function Qo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const R in d)v[E++]=R;return v}}}function zi(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Qo(d),R=Yo(d),H=R.length,X=0;X<H;X++)v.call(void 0,R[X],E&&E[X],d)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ap(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),H=null;if(0<=R){var X=d[E].substring(0,R);H=d[E].substring(R+1)}else X=d[E];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ai(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ai){this.h=d.h,Qs(this,d.j),this.o=d.o,this.g=d.g,Ui(this,d.s),this.l=d.l;var v=d.i,E=new Rr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),$i(this,E),this.m=d.m}else d&&(v=String(d).match(Ys))?(this.h=!1,Qs(this,v[1]||"",!0),this.o=je(v[2]||""),this.g=je(v[3]||"",!0),Ui(this,v[4]),this.l=je(v[5]||"",!0),$i(this,v[6]||"",!0),this.m=je(v[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}ai.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Wi(v,Xo,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Wi(v,Xo,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Wi(E,E.charAt(0)=="/"?$c:Uc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Wi(E,Ol)),d.join("")};function Mn(d){return new ai(d)}function Qs(d,v,E){d.j=E?je(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ui(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function $i(d,v,E){v instanceof Rr?(d.i=v,Pr(d.i,d.h)):(E||(v=Wi(v,Bc)),d.i=new Rr(v,d.h))}function et(d,v,E){d.i.set(v,E)}function Bi(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function je(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Wi(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,zc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function zc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xo=/[#\/\?@]/g,Uc=/[#\?:]/g,$c=/[#\?]/g,Bc=/[#\?@]/g,Ol=/#/g;function Rr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qt(d){d.g||(d.g=new Map,d.h=0,d.i&&ap(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Rr.prototype,n.add=function(d,v){qt(this),this.i=null,d=Kn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function hr(d,v){qt(d),v=Kn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function dr(d,v){return qt(d),v=Kn(d,v),d.g.has(v)}n.forEach=function(d,v){qt(this),this.g.forEach(function(E,R){E.forEach(function(H){d.call(v,H,R,this)},this)},this)},n.na=function(){qt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const H=d[R];for(let X=0;X<H.length;X++)E.push(v[R])}return E},n.V=function(d){qt(this);let v=[];if(typeof d=="string")dr(this,d)&&(v=v.concat(this.g.get(Kn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},n.set=function(d,v){return qt(this),this.i=null,d=Kn(this,d),dr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Hi(d,v,E){hr(d,v),0<E.length&&(d.i=null,d.g.set(Kn(d,v),T(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const X=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var H=X;oe[R]!==""&&(H+="="+encodeURIComponent(String(oe[R]))),d.push(H)}}return this.i=d.join("&")};function Kn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Pr(d,v){v&&!d.j&&(qt(d),d.i=null,d.g.forEach(function(E,R){var H=R.toLowerCase();R!=H&&(hr(this,R),Hi(this,H,E))},d)),d.j=v}function lp(d,v){const E=new Ws;if(u.Image){const R=new Image;R.onload=x(_n,E,"TestLoadImage: loaded",!0,v,R),R.onerror=x(_n,E,"TestLoadImage: error",!1,v,R),R.onabort=x(_n,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=x(_n,E,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Wc(d,v){const E=new Ws,R=new AbortController,H=setTimeout(()=>{R.abort(),_n(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(X=>{clearTimeout(H),X.ok?_n(E,"TestPingServer: ok",!0,v):_n(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),_n(E,"TestPingServer: error",!1,v)})}function _n(d,v,E,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(E)}catch{}}function up(){this.g=new xl}function Hc(d,v,E){const R=E||"";try{zi(d,function(H,X){let oe=H;f(H)&&(oe=El(H)),v.push(R+X+"="+encodeURIComponent(oe))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function li(d){this.l=d.Ub||null,this.j=d.eb||!1}S(li,$s),li.prototype.g=function(){return new Xs(this.l,this.j)},li.prototype.i=function(d){return function(){return d}}({});function Xs(d,v){Pt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Xs,Pt),n=Xs.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,pr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function qc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?fr(this):pr(this),this.readyState==3&&qc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,fr(this))},n.Qa=function(d){this.g&&(this.response=d,fr(this))},n.ga=function(){this.g&&fr(this)};function fr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,pr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function pr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ui(d){let v="";return Q(d,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function qi(d,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=ui(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):et(d,v,E))}function at(d){Pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(at,Pt);var cp=/^https?$/i,Dl=["POST","PUT"];n=at.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ur.g(),this.v=this.o?Uo(this.o):Uo(ur),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){Js(this,X);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)E.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())E.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Dl,v,void 0))||R||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of E)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zo(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Js(this,X)}};function Js(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Jo(d),Nn(d)}function Jo(d){d.A||(d.A=!0,Ot(d,"complete"),Ot(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ot(this,"complete"),Ot(this,"abort"),Nn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},n.bb=function(){Ml(this)};function Ml(d){if(d.h&&typeof l<"u"&&(!d.v[1]||vn(d)!=4||d.Z()!=2)){if(d.u&&vn(d)==4)_l(d.Ea,0,d);else if(Ot(d,"readystatechange"),vn(d)==4){d.h=!1;try{const oe=d.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=oe===0){var H=String(d.D).match(Ys)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),R=!cp.test(H?H.toLowerCase():"")}E=R}if(E)Ot(d,"complete"),Ot(d,"success");else{d.m=6;try{var X=2<vn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Jo(d)}}finally{Nn(d)}}}}function Nn(d,v){if(d.g){Zo(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ot(d,"ready");try{E.onreadystatechange=R}catch{}}}function Zo(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function vn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Sl(v)}};function Nl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(d){const v={};d=(d.g&&2<=vn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(V(d[R]))continue;var E=M(d[R]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[H]||[];v[H]=X,X.push(E)}I(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Ll(d){this.Aa=0,this.i=[],this.j=new Ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,d),this.cb=Or("retryDelaySeedMs",1e4,d),this.Wa=Or("forwardChannelMaxRetries",2,d),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(d&&d.concurrentRequestLimit),this.Da=new up,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ll.prototype,n.la=8,n.G=1,n.connect=function(d,v,E,R){vt(0),this.W=d,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Qc(this,null,this.W),Dr(this)};function Kt(d){if(ta(d),d.G==3){var v=d.U++,E=Mn(d.I);if(et(E,"SID",d.K),et(E,"RID",v),et(E,"TYPE","terminate"),ci(d,E),v=new cr(d,d.j,v),v.L=2,v.v=Bi(Mn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.v,E=!0),E||(v.g=Xc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),tt(v)}Yc(d)}function gr(d){d.g&&(Vl(d),d.g.cancel(),d.g=null)}function ta(d){gr(d),d.u&&(u.clearTimeout(d.u),d.u=null),ia(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Dr(d){if(!Dn(d.h)&&!d.s){d.s=!0;var v=d.Ga;_e||j(),ie||(_e(),ie=!0),le.add(v,d),d.B=0}}function hp(d,v){return Vc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ar(y(d.Ga,d,v),Gc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new cr(this,this.j,d);let X=this.o;if(this.S&&(X?(X=b(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Ki(this,H,v),E=Mn(this.I),et(E,"RID",d),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),ci(this,E),X&&(this.O?v="headers="+encodeURIComponent(String(ui(X)))+"&"+v:this.m&&qi(E,this.m,X)),Pl(this.h,H),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",v),et(E,"SID","null"),H.T=!0,Go(H,E,null)):Go(H,E,v),this.G=2}}else this.G==3&&(d?na(this,d):this.i.length==0||Dn(this.h)||na(this))};function na(d,v){var E;v?E=v.l:E=d.U++;const R=Mn(d.I);et(R,"SID",d.K),et(R,"RID",E),et(R,"AID",d.T),ci(d,R),d.m&&d.o&&qi(R,d.m,d.o),E=new cr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Ki(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Pl(d.h,E),Go(E,R,v)}function ci(d,v){d.H&&Q(d.H,function(E,R){et(v,R,E)}),d.l&&zi({},function(E,R){et(v,R,E)})}function Ki(d,v,E){E=Math.min(d.i.length,E);var R=d.l?y(d.l.Na,d.l,d):null;e:{var H=d.i;let X=-1;for(;;){const oe=["count="+E];X==-1?0<E?(X=H[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Ye=!0;for(let Dt=0;Dt<E;Dt++){let ze=H[Dt].g;const jt=H[Dt].map;if(ze-=X,0>ze)X=Math.max(0,H[Dt].g-100),Ye=!1;else try{Hc(jt,oe,"req"+ze+"_")}catch{R&&R(jt)}}if(Ye){R=oe.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,R}function Zs(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;_e||j(),ie||(_e(),ie=!0),le.add(v,d),d.v=0}}function ra(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ar(y(d.Fa,d),Gc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ar(y(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),gr(this),Kc(this))};function Vl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Kc(d){d.g=new cr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Mn(d.qa);et(v,"RID","rpc"),et(v,"SID",d.K),et(v,"AID",d.T),et(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(v,"TO",d.ja),et(v,"TYPE","xmlhttp"),ci(d,v),d.m&&d.o&&qi(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Bi(Mn(v)),E.m=null,E.P=!0,Al(E,d)}n.Za=function(){this.C!=null&&(this.C=null,gr(this),ra(this),vt(19))};function ia(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function sa(d,v){var E=null;if(d.g==v){ia(d),Vl(d),d.g=null;var R=2}else if(fn(d.h,v))E=v.D,Fc(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;R=Bs(),Ot(R,new Wo(R,E)),Dr(d)}else Zs(d);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&hp(d,v)||R==2&&ra(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),H){case 1:hi(d,5);break;case 4:hi(d,10);break;case 3:hi(d,6);break;default:hi(d,2)}}}function Gc(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function hi(d,v){if(d.j.info("Error code "+v),v==2){var E=y(d.fb,d),R=d.Xa;const H=!R;R=new ai(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qs(R,"https"),Bi(R),H?lp(R.toString(),E):Wc(R.toString(),E)}else vt(2);d.G=0,d.l&&d.l.sa(v),Yc(d),ta(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Yc(d){if(d.G=0,d.ka=[],d.l){const v=jc(d.h);(v.length!=0||d.i.length!=0)&&(A(d.ka,v),A(d.ka,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.ra()}}function Qc(d,v,E){var R=E instanceof ai?Mn(E):new ai(E);if(R.g!="")v&&(R.g=v+"."+R.g),Ui(R,R.s);else{var H=u.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new ai(null);R&&Qs(X,R),v&&(X.g=v),H&&Ui(X,H),E&&(X.l=E),R=X}return E=d.D,v=d.ya,E&&v&&et(R,E,v),et(R,"VER",d.la),ci(d,R),R}function Xc(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new at(new li({eb:E})):new at(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fl(){}n=Fl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oa(){}oa.prototype.g=function(d,v){return new pn(d,v)};function pn(d,v){Pt.call(this),this.g=new Ll(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!V(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Mr(this)}S(pn,Pt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kt(this.g)},pn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=El(d),d=E);v.i.push(new Lc(v.Ya++,d)),v.G==3&&Dr(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,pn.aa.N.call(this)};function Jc(d){kr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}S(Jc,kr);function Zc(){Bo.call(this),this.status=1}S(Zc,Bo);function Mr(d){this.g=d}S(Mr,Fl),Mr.prototype.ua=function(){Ot(this.g,"a")},Mr.prototype.ta=function(d){Ot(this.g,new Jc(d))},Mr.prototype.sa=function(d){Ot(this.g,new Zc)},Mr.prototype.ra=function(){Ot(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Vx=function(){return new oa},Lx=function(){return Bs()},Nx=Ar,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,Ed=qo,Oc.COMPLETE="complete",Mx=Oc,$o.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Su=$o,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,Dx=at}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const Lw="@firebase/firestore",Vw="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new my("@firebase/firestore");function Na(){return Ro.logLevel}function ce(n,...e){if(Ro.logLevel<=Ve.DEBUG){const t=e.map(ky);Ro.debug(`Firestore (${ul}): ${n}`,...t)}}function Pi(n,...e){if(Ro.logLevel<=Ve.ERROR){const t=e.map(ky);Ro.error(`Firestore (${ul}): ${n}`,...t)}}function Ya(n,...e){if(Ro.logLevel<=Ve.WARN){const t=e.map(ky);Ro.warn(`Firestore (${ul}): ${n}`,...t)}}function ky(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Fx(n,r,t)}function Fx(n,e,t){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Pi(r),new Error(r)}function Ge(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Fx(e,i,r)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class hO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ci,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ci)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new jx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class fO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new fO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function Im(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Me(r,i);{const o=zx(),l=yO(o.encode(jw(n,t)),o.encode(jw(e,t)));return l!==0?l:Me(r,i)}}t+=r>65535?2:1}return Me(n.length,e.length)}function jw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function yO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function Qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,Uw=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Uw);return new Vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zw)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uw}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Vt(0,0))}static max(){return new Ae(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="__name__";class $r{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=$r.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Me(e.length,t.length)}static compareSegments(e,t){const r=$r.isNumericId(e),i=$r.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?$r.extractNumericId(e).compare($r.extractNumericId(t)):Im(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class ot extends $r{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const _O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends $r{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return _O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$w}static keyField(){return new Jt([$w])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ot.fromString(e))}static fromName(e){return new we(ot.fromString(e).popFirst(5))}static empty(){return new we(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;function vO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new bs(i,we.empty(),e)}function wO(n){return new bs(n.readTime,n.key,Gu)}class bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bs(Ae.min(),we.empty(),Gu)}static max(){return new bs(Ae.max(),we.empty(),Gu)}}function EO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==SO)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(i=>i?Z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(g=>{l[f]=g,++u,u===o&&r(l)},g=>i(g))}})}static doWhile(e,t){return new Z((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function TO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}xf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-1;function Tf(n){return n==null}function Ud(n){return n===0&&1/n==-1/0}function bO(n){return typeof n=="number"&&Number.isInteger(n)&&!Ud(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="";function IO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Bw(e)),e=CO(n.get(t),e);return Bw(e)}function CO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case $x:t+="";break;default:t+=o}}return t}function Bw(n){return n+$x+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ns(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qh(this.root,e,this.comparator,!0)}}class Qh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=o??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Qt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Ft(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Wx("Invalid base64 string: "+o):o}}(e);return new en(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const kO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=kO.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="server_timestamp",qx="__type__",Kx="__previous_value__",Gx="__local_write_time__";function Ry(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qx])===null||t===void 0?void 0:t.stringValue)===Hx}function bf(n){const e=n.mapValue.fields[Kx];return Ry(e)?bf(e):e}function Yu(n){const e=Is(n.mapValue.fields[Gx].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t,r,i,o,l,u,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const $d="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||$d}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===$d}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="__type__",RO="__max__",Xh={mapValue:{}},Qx="__vector__",Bd="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ry(n)?4:OO(n)?9007199254740991:PO(n)?10:11:Ie(28295,{value:n})}function Jr(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yu(n).isEqual(Yu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Is(i.timestampValue),u=Is(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Cs(i.bytesValue).isEqual(Cs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Et(i.doubleValue),u=Et(o.doubleValue);return l===u?Ud(l)===Ud(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(Ww(l)!==Ww(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Jr(l[h],u[h])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function Xu(n,e){return(n.values||[]).find(t=>Jr(t,e))!==void 0}function Xa(n,e){if(n===e)return 0;const t=ks(n),r=ks(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Et(o.integerValue||o.doubleValue),h=Et(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return qw(n.timestampValue,e.timestampValue);case 4:return qw(Yu(n),Yu(e));case 5:return Im(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Cs(o),h=Cs(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=Me(u[f],h[f]);if(g!==0)return g}return Me(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Me(Et(o.latitude),Et(l.latitude));return u!==0?u:Me(Et(o.longitude),Et(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Kw(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,f,g;const _=o.fields||{},y=l.fields||{},x=(u=_[Bd])===null||u===void 0?void 0:u.arrayValue,S=(h=y[Bd])===null||h===void 0?void 0:h.arrayValue,T=Me(((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return T!==0?T:Kw(x,S)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Xh.mapValue&&l===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(l===Xh.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const y=Im(h[_],g[_]);if(y!==0)return y;const x=Xa(u[h[_]],f[g[_]]);if(x!==0)return x}return Me(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{Pe:t})}}function qw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Is(n),r=Is(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function Kw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Xa(t[i],r[i]);if(o)return o}return Me(t.length,r.length)}function Ja(n){return Cm(n)}function Cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Is(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Cm(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Cm(t.fields[l])}`;return i+"}"}(n.mapValue):Ie(61005,{value:n})}function Sd(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(n);return e?16+Sd(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Sd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ns(r.fields,(o,l)=>{i+=o.length+Sd(l)}),i}(n.mapValue);default:throw Ie(13486,{value:n})}}function Gw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function km(n){return!!n&&"integerValue"in n}function Py(n){return!!n&&"arrayValue"in n}function Yw(n){return!!n&&"nullValue"in n}function Qw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xd(n){return!!n&&"mapValue"in n}function PO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Yx])===null||t===void 0?void 0:t.stringValue)===Qx}function Mu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=Jt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Mu(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ns(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Mu(this.value))}}function Xx(n){const e=[];return Ns(n.fields,(t,r)=>{const i=new Jt([t]);if(xd(r)){const o=Xx(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),kn.empty(),0)}static newFoundDocument(e,t,r,i){return new cn(e,1,t,Ae.min(),r,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Ae.min(),Ae.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Ae.min(),Ae.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.position=e,this.inclusive=t}}function Xw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),t.key):r=Xa(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t="asc"){this.field=e,this.dir=t}}function DO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{}class kt extends Jx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new NO(e,t,r):t==="array-contains"?new FO(e,r):t==="in"?new jO(e,r):t==="not-in"?new zO(e,r):t==="array-contains-any"?new UO(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LO(e,r):new VO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xa(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends Jx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new br(e,t)}matches(e){return Zx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Zx(n){return n.op==="and"}function eT(n){return MO(n)&&Zx(n)}function MO(n){for(const e of n.filters)if(e instanceof br)return!1;return!0}function Am(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+Ja(n.value);if(eT(n))return n.filters.map(e=>Am(e)).join(",");{const e=n.filters.map(t=>Am(t)).join(",");return`${n.op}(${e})`}}function tT(n,e){return n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(n,e):n instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&tT(l,i.filters[u]),!0):!1}(n,e):void Ie(19439)}function nT(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ja(t.value)}`}(n):n instanceof br?function(t){return t.op.toString()+" {"+t.getFilters().map(nT).join(" ,")+"}"}(n):"Filter"}class NO extends kt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class LO extends kt{constructor(e,t){super(e,"in",t),this.keys=rT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VO extends kt{constructor(e,t){super(e,"not-in",t),this.keys=rT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class FO extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Py(t)&&Xu(t.arrayValue,this.value)}}class jO extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class zO extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xu(this.value.arrayValue,t)}}class UO extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Py(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function Zw(n,e=null,t=[],r=[],i=null,o=null,l=null){return new $O(n,e,t,r,i,o,l)}function Oy(n){const e=Re(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Am(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ja(r)).join(",")),e.Ie=t}return e.Ie}function Dy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jw(n.startAt,e.startAt)&&Jw(n.endAt,e.endAt)}function Rm(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BO(n,e,t,r,i,o,l,u){return new vc(n,e,t,r,i,o,l,u)}function My(n){return new vc(n)}function eE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iT(n){return n.collectionGroup!==null}function Nu(n){const e=Re(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ft(Jt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Hd(o,r))}),t.has(Jt.keyField().canonicalString())||e.Ee.push(new Hd(Jt.keyField(),r))}return e.Ee}function Kr(n){const e=Re(n);return e.de||(e.de=WO(e,Nu(n))),e.de}function WO(n,e){if(n.limitType==="F")return Zw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Hd(i.field,o)});const t=n.endAt?new Wd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wd(n.startAt.position,n.startAt.inclusive):null;return Zw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pm(n,e){const t=n.filters.concat([e]);return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Om(n,e,t){return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function If(n,e){return Dy(Kr(n),Kr(e))&&n.limitType===e.limitType}function sT(n){return`${Oy(Kr(n))}|lt:${n.limitType}`}function La(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nT(i)).join(", ")}]`),Tf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ja(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ja(i)).join(",")),`Target(${r})`}(Kr(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Nu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const f=Xw(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,Nu(r),i)||r.endAt&&!function(l,u,h){const f=Xw(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,Nu(r),i))}(n,e)}function HO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oT(n){return(e,t)=>{let r=!1;for(const i of Nu(n)){const o=qO(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function qO(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Xa(h,f):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Bx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new pt(we.comparator);function Oi(){return KO}const aT=new pt(we.comparator);function xu(...n){let e=aT;for(const t of n)e=e.insert(t.key,t);return e}function lT(n){let e=aT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function So(){return Lu()}function uT(){return Lu()}function Lu(){return new Lo(n=>n.toString(),(n,e)=>n.isEqual(e))}const GO=new pt(we.comparator),YO=new Ft(we.comparator);function Fe(...n){let e=YO;for(const t of n)e=e.add(t);return e}const QO=new Ft(Me);function XO(){return QO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function cT(n){return{integerValue:""+n}}function JO(n,e){return bO(e)?cT(e):Ny(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function ZO(n,e,t){return n instanceof qd?function(i,o){const l={fields:{[qx]:{stringValue:Hx},[Gx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ry(o)&&(o=bf(o)),o&&(l.fields[Kx]=o),{mapValue:l}}(t,e):n instanceof Ju?dT(n,e):n instanceof Zu?fT(n,e):function(i,o){const l=hT(i,o),u=tE(l)+tE(i.Re);return km(l)&&km(i.Re)?cT(u):Ny(i.serializer,u)}(n,e)}function eD(n,e,t){return n instanceof Ju?dT(n,e):n instanceof Zu?fT(n,e):t}function hT(n,e){return n instanceof Kd?function(r){return km(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class qd extends kf{}class Ju extends kf{constructor(e){super(),this.elements=e}}function dT(n,e){const t=pT(e);for(const r of n.elements)t.some(i=>Jr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zu extends kf{constructor(e){super(),this.elements=e}}function fT(n,e){let t=pT(e);for(const r of n.elements)t=t.filter(i=>!Jr(i,r));return{arrayValue:{values:t}}}class Kd extends kf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function tE(n){return Et(n.integerValue||n.doubleValue)}function pT(n){return Py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tD(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ju&&i instanceof Ju||r instanceof Zu&&i instanceof Zu?Qa(r.elements,i.elements,Jr):r instanceof Kd&&i instanceof Kd?Jr(r.Re,i.Re):r instanceof qd&&i instanceof qd}(n.transform,e.transform)}class nD{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Af{}function gT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yT(n.key,Gr.none()):new wc(n.key,n.data,Gr.none());{const t=n.data,r=kn.empty();let i=new Ft(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Ls(n.key,r,new $n(i.toArray()),Gr.none())}}function rD(n,e,t){n instanceof wc?function(i,o,l){const u=i.value.clone(),h=rE(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ls?function(i,o,l){if(!Td(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=rE(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(mT(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Vu(n,e,t,r){return n instanceof wc?function(o,l,u,h){if(!Td(o.precondition,l))return u;const f=o.value.clone(),g=iE(o.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ls?function(o,l,u,h){if(!Td(o.precondition,l))return u;const f=iE(o.fieldTransforms,h,l),g=l.data;return g.setAll(mT(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,l,u){return Td(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function iD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=hT(r.transform,i||null);o!=null&&(t===null&&(t=kn.empty()),t.set(r.field,o))}return t||null}function nE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qa(r,i,(o,l)=>tD(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wc extends Af{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ls extends Af{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rE(n,e,t){const r=new Map;Ge(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,eD(l,u,t[i]))}return r}function iE(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,ZO(o,l,e))}return r}class yT extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&rD(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uT();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const h=gT(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(t,r)=>nE(t,r))&&Qa(this.baseMutations,e.baseMutations,(t,r)=>nE(t,r))}}class Ly{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return GO}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Ly(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ue;function uD(n){switch(n){case ee.OK:return Ie(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function _T(n){if(n===void 0)return Pi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return Ie(39323,{code:n})}}(Ue=It||(It={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Ss([4294967295,4294967295],0);function sE(n){const e=zx().encode(n),t=new Ox;return t.update(e),new Uint8Array(t.digest())}function oE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ss([t,r],0),new Ss([i,o],0)]}class Vy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tu(`Invalid padding: ${t}`);if(r<0)throw new Tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ss.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ss.fromNumber(r)));return i.compare(cD)===1&&(i=new Ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=sE(e),[r,i]=oE(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Vy(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=sE(e),[r,i]=oE(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rf(Ae.min(),i,new pt(Me),Oi(),Fe())}}class Ec{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ec(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class vT{constructor(e,t){this.targetId=e,this.Ce=t}}class wT{constructor(e,t,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class aE{constructor(){this.Fe=0,this.Me=lE(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),t=Fe(),r=Fe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:o})}}),new Ec(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=lE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hD{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new pt(Me)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(Rm(o))if(r===0){const l=new we(o.path);this.tt(t,l,cn.newNoDocument(l,Ae.min()))}else Ge(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Cs(r).toUint8Array()}catch(h){if(h instanceof Wx)return Ya("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Vy(l,i,o)}catch(h){return Ya(h instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&Rm(u.target)){const h=new we(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,cn.newNoDocument(h,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=Fe();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this._t(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new Rf(e,t,this.Ze,this.He,r);return this.He=Oi(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new pt(Me),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new aE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ft(Me),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ft(Me),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new aE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Jh(){return new pt(we.comparator)}function lE(){return new pt(we.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class gD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dm(n,e){return n.useProto3Json||Tf(e)?e:{value:e}}function Gd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ET(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mD(n,e){return Gd(n,e.toTimestamp())}function Yr(n){return Ge(!!n,49232),Ae.fromTimestamp(function(t){const r=Is(t);return new Vt(r.seconds,r.nanos)}(n))}function Fy(n,e){return Mm(n,e).canonicalString()}function Mm(n,e){const t=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ST(n){const e=ot.fromString(n);return Ge(CT(e),10190,{key:e.toString()}),e}function Nm(n,e){return Fy(n.databaseId,e.path)}function Hg(n,e){const t=ST(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(TT(t))}function xT(n,e){return Fy(n.databaseId,e)}function yD(n){const e=ST(n);return e.length===4?ot.emptyPath():TT(e)}function Lm(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TT(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uE(n,e,t){return{name:Nm(n,e),fields:t.value.mapValue.fields}}function _D(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ge(g===void 0||typeof g=="string",58123),en.fromBase64String(g||"")):(Ge(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),en.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const g=f.code===void 0?ee.UNKNOWN:_T(f.code);return new de(g,f.message||"")}(l);t=new wT(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hg(n,r.document.name),o=Yr(r.document.updateTime),l=r.document.createTime?Yr(r.document.createTime):Ae.min(),u=new kn({mapValue:{fields:r.document.fields}}),h=cn.newFoundDocument(i,o,l,u),f=r.targetIds||[],g=r.removedTargetIds||[];t=new bd(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hg(n,r.document),o=r.readTime?Yr(r.readTime):Ae.min(),l=cn.newNoDocument(i,o),u=r.removedTargetIds||[];t=new bd([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hg(n,r.document),o=r.removedTargetIds||[];t=new bd([],o,i,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new lD(i,o),u=r.targetId;t=new vT(u,l)}}return t}function vD(n,e){let t;if(e instanceof wc)t={update:uE(n,e.key,e.value)};else if(e instanceof yT)t={delete:Nm(n,e.key)};else if(e instanceof Ls)t={update:uE(n,e.key,e.data),updateMask:kD(e.fieldMask)};else{if(!(e instanceof sD))return Ie(16599,{ft:e.type});t={verify:Nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof qd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ju)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Zu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Kd)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Ie(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:mD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie(27497)}(n,e.precondition)),t}function wD(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?Yr(i.updateTime):Yr(o);return l.isEqual(Ae.min())&&(l=Yr(o)),new nD(l,i.transformResults||[])}(t,e))):[]}function ED(n,e){return{documents:[xT(n,e.path)]}}function SD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=xT(n,i);const o=function(f){if(f.length!==0)return IT(br.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(g=>function(y){return{field:Va(y.field),direction:bD(y.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Dm(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function xD(n){let e=yD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ge(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const y=bT(_);return y instanceof br&&eT(y)?y.getFilters():[y]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(y=>function(S){return new Hd(Fa(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(_){let y;return y=typeof _=="object"?_.value:_,Tf(y)?null:y}(t.limit));let h=null;t.startAt&&(h=function(_){const y=!!_.before,x=_.values||[];return new Wd(x,y)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const y=!_.before,x=_.values||[];return new Wd(x,y)}(t.endAt)),BO(e,i,l,o,u,"F",h,f)}function TD(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fa(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fa(t.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fa(t.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fa(t.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return kt.create(Fa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return br.create(t.compositeFilter.filters.map(r=>bT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function bD(n){return dD[n]}function ID(n){return fD[n]}function CD(n){return pD[n]}function Va(n){return{fieldPath:n.canonicalString()}}function Fa(n){return Jt.fromServerFormat(n.fieldPath)}function IT(n){return n instanceof kt?function(t){if(t.op==="=="){if(Qw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NAN"}};if(Yw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NAN"}};if(Yw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(t.field),op:ID(t.op),value:t.value}}}(n):n instanceof br?function(t){const r=t.getFilters().map(i=>IT(i));return r.length===1?r[0]:{compositeFilter:{op:CD(t.op),filters:r}}}(n):Ie(54877,{filter:n})}function kD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,r,i,o=Ae.min(),l=Ae.min(),u=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.wt=e}}function RD(n){const e=xD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Cn=new OD}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(bs.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class OD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ft(ot.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(kT,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Za(0)}static lr(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",DD=1048576;function dE([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class MD{constructor(e){this.Er=e,this.buffer=new Ft(dE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();dE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ND{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(hE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hl(t)?ce(hE,"Ignoring IndexedDB error during garbage collection: ",t):await cl(t)}await this.mr(3e5)})}}class LD{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(xf.le);const r=new MD(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(cE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,l,u,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,u=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Na()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${_} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function VD(n,e){return new LD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new Lo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Vu(r.mutation,i,$n.empty(),Vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=So();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=xu();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=So();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=Oi();const l=Lu(),u=function(){return Lu()}();return t.forEach((h,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Ls)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Vu(g.mutation,f,g.mutation.getFieldMask(),Vt.now())):l.set(f.key,$n.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>{var _;return u.set(f,new jD(g,(_=l.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Lu();let i=new pt((l,u)=>l-u),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let g=r.get(h)||$n.empty();g=u.applyToLocalView(f,g),r.set(h,g);const _=(i.get(u.batchId)||Fe()).add(h);i=i.insert(u.batchId,_)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,_=uT();g.forEach(y=>{if(!o.has(y)){const x=gT(t.get(y),r.get(y));x!==null&&_.set(y,x),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Z.resolve(So());let u=Gu,h=o;return l.next(f=>Z.forEach(f,(g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(y=>{h=h.insert(g,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Fe())).next(g=>({batchId:u,changes:lT(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let i=xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=xu();return this.indexManager.getCollectionParents(e,o).next(u=>Z.forEach(u,h=>{const f=function(_,y){return new vc(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,y)=>{l=l.insert(_,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,cn.newInvalidDocument(g)))});let u=xu();return l.forEach((h,f)=>{const g=o.get(h);g!==void 0&&Vu(g.mutation,f,$n.empty(),Vt.now()),Cf(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Z.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:RD(i.bundledQuery),readTime:Yr(i.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.overlays=new pt(we.comparator),this.Qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=So();return Z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=So(),o=t.length+1,l=new we(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new pt((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=So(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=So(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=i)););return Z.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new aD(t,r));let o=this.Qr.get(t);o===void 0&&(o=Fe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.$r=new Ft(Bt.Ur),this.Kr=new Ft(Bt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Bt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new we(new ot([])),r=new Bt(t,e),i=new Bt(t,e+1),o=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new we(new ot([])),r=new Bt(t,e),i=new Bt(t,e+1);let o=Fe();return this.Kr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Bt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return we.comparator(e.key,t.key)||Me(e.Zr,t.Zr)}static Wr(e,t){return Me(e.Zr,t.Zr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ft(Bt.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new oD(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new Bt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ay:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),i=new Bt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);o.push(u)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Me);return t.forEach(i=>{const o=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],u=>{r=r.add(u.Zr)})}),Z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const l=new Bt(new we(o),0);let u=new Ft(Me);return this.Xr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Zr)),!0)},l),Z.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ge(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Z.forEach(t.mutations,i=>{const o=new Bt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Bt(t,0),i=this.Xr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.ii=e,this.docs=function(){return new pt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Oi();const l=t.path,u=new we(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||EO(wO(g),r)<=0||(i.has(g.key)||Cf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ie(9500)}si(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qD(this)}getSize(e){return Z.resolve(this.size)}}class qD extends FD{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.persistence=e,this.oi=new Lo(t=>Oy(t),Dy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new jy,this.targetCount=0,this.ui=Za.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),Z.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Za(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Tr(t),Z.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t){this.ci={},this.overlays={},this.li=new xf(0),this.hi=!1,this.hi=!0,this.Pi=new BD,this.referenceDelegate=e(this),this.Ti=new KD(this),this.indexManager=new PD,this.remoteDocumentCache=function(i){return new HD(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new AD(t),this.Ei=new UD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $D,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new WD(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const i=new GD(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return Z.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class GD extends xO{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Vi=new jy,this.mi=null}static fi(e){return new zy(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,r=>{const i=we.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,Ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Z.or([()=>Z.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Yd{constructor(e,t){this.persistence=e,this.yi=new Lo(r=>IO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=VD(this,t)}static fi(e,t){return new Yd(e,t)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return Z.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?Z.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sd(e.data.value)),t}Dr(e,t,r){return Z.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Fe(),i=Fe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Uy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return PA()?8:TO(dn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ws(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new YD;return this.Ss(e,t,l).next(u=>{if(o.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Na()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",La(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(Na()<=Ve.DEBUG&&ce("QueryEngine","Query:",La(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Na()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",La(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(t))):Z.resolve())}ws(e,t){if(eE(t))return Z.resolve(null);let r=Kr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Om(t,null,"F"),r=Kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Fe(...o);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.vs(t,u);return this.Cs(t,f,l,h.readTime)?this.ws(e,Om(t,null,"F")):this.Fs(e,f,t,h)}))})))}bs(e,t,r,i){return eE(t)||i.isEqual(Ae.min())?Z.resolve(null):this.ys.getDocuments(e,r).next(o=>{const l=this.vs(t,o);return this.Cs(t,l,r,i)?Z.resolve(null):(Na()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(t)),this.Fs(e,l,t,vO(i,Gu)).next(u=>u))})}vs(e,t){let r=new Ft(oT(e));return t.forEach((i,o)=>{Cf(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Na()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",La(t)),this.ys.getDocumentsMatchingQuery(e,t,bs.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="LocalStore",XD=3e8;class JD{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new pt(Me),this.Os=new Lo(o=>Oy(o),Dy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function ZD(n,e,t,r){return new JD(n,e,t,r)}async function RT(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=Fe();for(const f of i){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:u}))})})}function eM(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,h,f,g){const _=f.batch,y=_.keys();let x=Z.resolve();return y.forEach(S=>{x=x.next(()=>g.getEntry(h,S)).next(T=>{const A=f.docVersions.get(S);Ge(A!==null,48541),T.version.compareTo(A)<0&&(_.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),g.addEntry(T)))})}),x.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Fe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function PT(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function tM(n,e){const t=Re(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((g,_)=>{const y=i.get(_);if(!y)return;u.push(t.Ti.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,g.addedDocuments,_)));let x=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),i=i.insert(_,x),function(T,A,O){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=XD?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,x,g)&&u.push(t.Ti.updateTargetData(o,x))});let h=Oi(),f=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(nM(o,l,e.documentUpdates).next(g=>{h=g.qs,f=g.Qs})),!r.isEqual(Ae.min())){const g=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(g)}return Z.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.xs=i,o))}function nM(n,e,t){let r=Fe(),i=Fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Oi();return t.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Ae.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ce($y,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{qs:l,Qs:i}})}function rM(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ay),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iM(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new gs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Vm(n,e,t){const r=Re(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!hl(l))throw l;ce($y,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function fE(n,e,t){const r=Re(n);let i=Ae.min(),o=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const _=Re(h),y=_.Os.get(g);return y!==void 0?Z.resolve(_.xs.get(y)):_.Ti.getTargetData(f,g)}(r,l,Kr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:Ae.min(),t?o:Fe())).next(u=>(sM(r,HO(e),u),{documents:u,$s:o})))}function sM(n,e,t){let r=n.Ns.get(e)||Ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}class pE{constructor(){this.activeTargetIds=XO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oM{constructor(){this.xo=new pE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new pE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="ConnectivityMonitor";class mE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(gE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(gE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function Fm(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="RestConnection",lM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===$d?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){const l=Fm(),u=this.jo(e,t.toUriEncodedString());ce(qg,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,o);const{host:f}=new URL(u),g=fc(f);return this.Jo(e,u,h,r,g).then(_=>(ce(qg,`Received RPC '${e}' ${l}: `,_),_),_=>{throw Ya(qg,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",r),_})}Yo(e,t,r,i,o,l){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){const r=lM[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class hM extends uM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const l=Fm();return new Promise((u,h)=>{const f=new Dx;f.setWithCredentials(!0),f.listenOnce(Mx.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ed.NO_ERROR:const _=f.getResponseJson();ce(an,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case Ed.TIMEOUT:ce(an,`RPC '${e}' ${l} timed out`),h(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const y=f.getStatus();if(ce(an,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const T=function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(V)>=0?V:ee.UNKNOWN}(S.status);h(new de(T,S.message))}else h(new de(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{h_:e,streamId:l,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{ce(an,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);ce(an,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",g,r,15)})}I_(e,t,r){const i=Fm(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Vx(),u=Lx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");ce(an,`Creating RPC '${e}' stream ${i}: ${g}`,h);const _=l.createWebChannel(g,h);this.E_(_);let y=!1,x=!1;const S=new cM({Zo:A=>{x?ce(an,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(ce(an,`Opening RPC '${e}' stream ${i} transport.`),_.open(),y=!0),ce(an,`RPC '${e}' stream ${i} sending:`,A),_.send(A))},Xo:()=>_.close()}),T=(A,O,V)=>{A.listen(O,$=>{try{V($)}catch(G){setTimeout(()=>{throw G},0)}})};return T(_,Su.EventType.OPEN,()=>{x||(ce(an,`RPC '${e}' stream ${i} transport opened.`),S.__())}),T(_,Su.EventType.CLOSE,()=>{x||(x=!0,ce(an,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(_))}),T(_,Su.EventType.ERROR,A=>{x||(x=!0,Ya(an,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.u_(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),T(_,Su.EventType.MESSAGE,A=>{var O;if(!x){const V=A.data[0];Ge(!!V,16349);const $=V,G=($==null?void 0:$.error)||((O=$[0])===null||O===void 0?void 0:O.error);if(G){ce(an,`RPC '${e}' stream ${i} received error:`,G);const L=G.status;let Q=function(C){const P=It[C];if(P!==void 0)return _T(P)}(L),I=G.message;Q===void 0&&(Q=ee.INTERNAL,I="Unknown error status: "+L+" with message "+G.message),x=!0,S.u_(new de(Q,I)),_.close()}else ce(an,`RPC '${e}' stream ${i} received:`,V),S.c_(V)}}),T(u,Nx.STAT_EVENT,A=>{A.stat===bm.PROXY?ce(an,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===bm.NOPROXY&&ce(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n){return new gD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class DT{constructor(e,t,r,i,o,l,u,h){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new OT(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(yE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ce(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dM extends DT{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=_D(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ae.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Yr(l.readTime):Ae.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Lm(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=Rm(h)?{documents:ED(o,h)}:{query:SD(o,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=ET(o,l.resumeToken);const f=Dm(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ae.min())>0){u.readTime=Gd(o,l.snapshotVersion.toTimestamp());const f=Dm(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=TD(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Lm(this.serializer),t.removeTarget=e,this.Q_(t)}}class fM extends DT{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=wD(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Lm(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vD(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{}class gM extends pM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,Mm(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ee.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,Mm(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ee.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class mM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Pi(t),this.ua=!1):ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="RemoteStore";class yM{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Vo(this)&&(ce(Po,"Restarting streams for network reachability change."),await async function(h){const f=Re(h);f.da.add(4),await Sc(f),f.Va.set("Unknown"),f.da.delete(4),await Of(f)}(this))})}),this.Va=new mM(r,i)}}async function Of(n){if(Vo(n))for(const e of n.Aa)await e(!0)}async function Sc(n){for(const e of n.Aa)await e(!1)}function MT(n,e){const t=Re(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),qy(t)?Hy(t):dl(t).N_()&&Wy(t,e))}function By(n,e){const t=Re(n),r=dl(t);t.Ea.delete(e),r.N_()&&NT(t,e),t.Ea.size===0&&(r.N_()?r.k_():Vo(t)&&t.Va.set("Unknown"))}function Wy(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(n).Z_(e)}function NT(n,e){n.ma.Ke(e),dl(n).X_(e)}function Hy(n){n.ma=new hD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),dl(n).start(),n.Va.ca()}function qy(n){return Vo(n)&&!dl(n).O_()&&n.Ea.size>0}function Vo(n){return Re(n).da.size===0}function LT(n){n.ma=void 0}async function _M(n){n.Va.set("Online")}async function vM(n){n.Ea.forEach((e,t)=>{Wy(n,e)})}async function wM(n,e){LT(n),qy(n)?(n.Va.Pa(e),Hy(n)):n.Va.set("Unknown")}async function EM(n,e,t){if(n.Va.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(n,e)}catch(r){ce(Po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(n,r)}else if(e instanceof bd?n.ma.Xe(e):e instanceof vT?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ae.min()))try{const r=await PT(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.ma.It(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ea.get(f);g&&o.Ea.set(f,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const g=o.Ea.get(h);if(!g)return;o.Ea.set(h,g.withResumeToken(en.EMPTY_BYTE_STRING,g.snapshotVersion)),NT(o,h);const _=new gs(g.target,h,f,g.sequenceNumber);Wy(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ce(Po,"Failed to raise snapshot:",r),await Qd(n,r)}}async function Qd(n,e,t){if(!hl(e))throw e;n.da.add(1),await Sc(n),n.Va.set("Offline"),t||(t=()=>PT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Po,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Of(n)})}function VT(n,e){return e().catch(t=>Qd(n,t,e))}async function Df(n){const e=Re(n),t=As(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ay;for(;SM(e);)try{const i=await rM(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,xM(e,i)}catch(i){await Qd(e,i)}FT(e)&&jT(e)}function SM(n){return Vo(n)&&n.Ia.length<10}function xM(n,e){n.Ia.push(e);const t=As(n);t.N_()&&t.ea&&t.ta(e.mutations)}function FT(n){return Vo(n)&&!As(n).O_()&&n.Ia.length>0}function jT(n){As(n).start()}async function TM(n){As(n).ia()}async function bM(n){const e=As(n);for(const t of n.Ia)e.ta(t.mutations)}async function IM(n,e,t){const r=n.Ia.shift(),i=Ly.from(r,e,t);await VT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Df(n)}async function CM(n,e){e&&As(n).ea&&await async function(r,i){if(function(l){return uD(l)&&l!==ee.ABORTED}(i.code)){const o=r.Ia.shift();As(r).L_(),await VT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Df(r)}}(n,e),FT(n)&&jT(n)}async function _E(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ce(Po,"RemoteStore received new credentials");const r=Vo(t);t.da.add(3),await Sc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Of(t)}async function kM(n,e){const t=Re(n);e?(t.da.delete(2),await Of(t)):e||(t.da.add(2),await Sc(t),t.Va.set("Unknown"))}function dl(n){return n.fa||(n.fa=function(t,r,i){const o=Re(t);return o.oa(),new dM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:_M.bind(null,n),n_:vM.bind(null,n),i_:wM.bind(null,n),Y_:EM.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),qy(n)?Hy(n):n.Va.set("Unknown")):(await n.fa.stop(),LT(n))})),n.fa}function As(n){return n.ga||(n.ga=function(t,r,i){const o=Re(t);return o.oa(),new fM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:TM.bind(null,n),i_:CM.bind(null,n),na:bM.bind(null,n),ra:IM.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Df(n)):(await n.ga.stop(),n.Ia.length>0&&(ce(Po,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new Ky(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(Pi("AsyncQueue",`${e}: ${n}`),hl(n))return new de(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(e){return new Ba(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=xu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.pa=new pt(we.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class el{constructor(e,t,r,i,o,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new el(e,t,Ba.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class RM{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Re(t),o=i.queries;i.queries=wE(),o.forEach((l,u)=>{for(const h of u.Sa)h.onError(r)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function wE(){return new Lo(n=>sT(n),If)}async function zT(n,e){const t=Re(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new AM,r=e.va()?0:1);try{switch(r){case 0:o.ba=await t.onListen(i,!0);break;case 1:o.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Gy(l,`Initialization of query '${La(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&Yy(t)}async function UT(n,e){const t=Re(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function PM(n,e){const t=Re(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.Sa)u.Ma(i)&&(r=!0);l.ba=i}}r&&Yy(t)}function OM(n,e,t){const r=Re(n),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);r.queries.delete(e)}function Yy(n){n.Ca.forEach(e=>{e.next()})}var jm,EE;(EE=jm||(jm={})).xa="default",EE.Cache="cache";class $T{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class DM{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.Za=oT(e),this.Xa=new Ba(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new vE,i=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const y=i.get(g),x=Cf(this.query,_)?_:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let A=!1;y&&x?y.data.isEqual(x.data)?S!==T&&(r.track({type:3,doc:x}),A=!0):this.ru(y,x)||(r.track({type:2,doc:x}),A=!0,(h&&this.Za(x,h)>0||f&&this.Za(x,f)<0)&&(u=!0)):!y&&x?(r.track({type:0,doc:x}),A=!0):y&&!x&&(r.track({type:1,doc:y}),A=!0,(h||f)&&(u=!0)),A&&(x?(l=l.add(x),o=T?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Xa:l,nu:r,Cs:u,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((g,_)=>function(x,S){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:A})}};return T(x)-T(S)}(g.type,_.type)||this.Za(g.doc,_.doc)),this.iu(r),i=i!=null&&i;const u=t&&!i?this.su():[],h=this.Ya.size===0&&this.current&&!i?1:0,f=h!==this.Ja;return this.Ja=h,l.length!==0||f?{snapshot:new el(this.query,e.Xa,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new WT(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new BT(r))}),t}au(e){this.Ha=e.$s,this.Ya=Fe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return el.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qy="SyncEngine";class MM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NM{constructor(e){this.key=e,this.cu=!1}}class LM{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Lo(u=>sT(u),If),this.Pu=new Map,this.Tu=new Set,this.Iu=new pt(we.comparator),this.Eu=new Map,this.du=new jy,this.Au={},this.Ru=new Map,this.Vu=Za.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function VM(n,e,t=!0){const r=QT(n);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await HT(r,e,t,!0),i}async function FM(n,e){const t=QT(n);await HT(t,e,!0,!1)}async function HT(n,e,t,r){const i=await iM(n.localStore,Kr(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await jM(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&MT(n.remoteStore,i),u}async function jM(n,e,t,r,i){n.fu=(_,y,x)=>async function(T,A,O,V){let $=A.view.tu(O);$.Cs&&($=await fE(T.localStore,A.query,!1).then(({documents:I})=>A.view.tu(I,$)));const G=V&&V.targetChanges.get(A.targetId),L=V&&V.targetMismatches.get(A.targetId)!=null,Q=A.view.applyChanges($,T.isPrimaryClient,G,L);return xE(T,A.targetId,Q.ou),Q.snapshot}(n,_,y,x);const o=await fE(n.localStore,e,!0),l=new DM(e,o.$s),u=l.tu(o.documents),h=Ec.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,h);xE(n,t,f.ou);const g=new MM(e,t,l);return n.hu.set(e,g),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function zM(n,e,t){const r=Re(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(l=>!If(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&By(r.remoteStore,i.targetId),zm(r,i.targetId)}).catch(cl)):(zm(r,i.targetId),await Vm(r.localStore,i.targetId,!0))}async function UM(n,e){const t=Re(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),By(t.remoteStore,r.targetId))}async function $M(n,e,t){const r=YM(n);try{const i=await function(l,u){const h=Re(l),f=Vt.now(),g=u.reduce((x,S)=>x.add(S.key),Fe());let _,y;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=Oi(),T=Fe();return h.Bs.getEntries(x,g).next(A=>{S=A,S.forEach((O,V)=>{V.isValidDocument()||(T=T.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,S)).next(A=>{_=A;const O=[];for(const V of u){const $=iD(V,_.get(V.key).overlayedDocument);$!=null&&O.push(new Ls(V.key,$,Xx($.value.mapValue),Gr.exists(!0)))}return h.mutationQueue.addMutationBatch(x,f,O,u)}).next(A=>{y=A;const O=A.applyToLocalDocumentSet(_,T);return h.documentOverlayCache.saveOverlays(x,A.batchId,O)})}).then(()=>({batchId:y.batchId,changes:lT(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let f=l.Au[l.currentUser.toKey()];f||(f=new pt(Me)),f=f.insert(u,h),l.Au[l.currentUser.toKey()]=f}(r,i.batchId,t),await xc(r,i.changes),await Df(r.remoteStore)}catch(i){const o=Gy(i,"Failed to persist write");t.reject(o)}}async function qT(n,e){const t=Re(n);try{const r=await tM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Eu.get(o);l&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?Ge(l.cu,14607):i.removedDocuments.size>0&&(Ge(l.cu,42227),l.cu=!1))}),await xc(t,r,e)}catch(r){await cl(r)}}function SE(n,e,t){const r=Re(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((o,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=Re(l);h.onlineState=u;let f=!1;h.queries.forEach((g,_)=>{for(const y of _.Sa)y.Fa(u)&&(f=!0)}),f&&Yy(h)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BM(n,e,t){const r=Re(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new pt(we.comparator);l=l.insert(o,cn.newNoDocument(o,Ae.min()));const u=Fe().add(o),h=new Rf(Ae.min(),new Map,new pt(Me),l,u);await qT(r,h),r.Iu=r.Iu.remove(o),r.Eu.delete(e),Xy(r)}else await Vm(r.localStore,e,!1).then(()=>zm(r,e,t)).catch(cl)}async function WM(n,e){const t=Re(n),r=e.batch.batchId;try{const i=await eM(t.localStore,e);GT(t,r,null),KT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await xc(t,i)}catch(i){await cl(i)}}async function HM(n,e,t){const r=Re(n);try{const i=await function(l,u){const h=Re(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next(_=>(Ge(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(f,_))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(r.localStore,e);GT(r,e,t),KT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await xc(r,i)}catch(i){await cl(i)}}function KT(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function GT(n,e,t){const r=Re(n);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||YT(n,r)})}function YT(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(By(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Xy(n))}function xE(n,e,t){for(const r of t)r instanceof BT?(n.du.addReference(r.key,e),qM(n,r)):r instanceof WT?(ce(Qy,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||YT(n,r.key)):Ie(19791,{pu:r})}function qM(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(ce(Qy,"New document in limbo: "+t),n.Tu.add(r),Xy(n))}function Xy(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new we(ot.fromString(e)),r=n.Vu.next();n.Eu.set(r,new NM(t)),n.Iu=n.Iu.insert(t,r),MT(n.remoteStore,new gs(Kr(My(t.path)),r,"TargetPurposeLimboResolution",xf.le))}}async function xc(n,e,t){const r=Re(n),i=[],o=[],l=[];r.hu.isEmpty()||(r.hu.forEach((u,h)=>{l.push(r.fu(h,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(f){i.push(f);const _=Uy.Rs(h.targetId,f);o.push(_)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(h,f){const g=Re(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Z.forEach(f,y=>Z.forEach(y.ds,x=>g.persistence.referenceDelegate.addReference(_,y.targetId,x)).next(()=>Z.forEach(y.As,x=>g.persistence.referenceDelegate.removeReference(_,y.targetId,x)))))}catch(_){if(!hl(_))throw _;ce($y,"Failed to update sequence numbers: "+_)}for(const _ of f){const y=_.targetId;if(!_.fromCache){const x=g.xs.get(y),S=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(S);g.xs=g.xs.insert(y,T)}}}(r.localStore,o))}async function KM(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ce(Qy,"User change. New user:",e.toKey());const r=await RT(t.localStore,e);t.currentUser=e,function(o,l){o.Ru.forEach(u=>{u.forEach(h=>{h.reject(new de(ee.CANCELLED,l))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xc(t,r.ks)}}function GM(n,e){const t=Re(n),r=t.Eu.get(e);if(r&&r.cu)return Fe().add(r.key);{let i=Fe();const o=t.Pu.get(e);if(!o)return i;for(const l of o){const u=t.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function QT(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BM.bind(null,e),e.lu.Y_=PM.bind(null,e.eventManager),e.lu.gu=OM.bind(null,e.eventManager),e}function YM(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HM.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return ZD(this.persistence,new QD,e.initialUser,this.serializer)}Su(e){return new AT(zy.fi,this.serializer)}bu(e){return new oM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class QM extends Xd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ge(this.persistence.referenceDelegate instanceof Yd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ND(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new AT(r=>Yd.fi(r,t),this.serializer)}}class Um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KM.bind(null,this.syncEngine),await kM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RM}()}createDatastore(e){const t=Pf(e.databaseInfo.databaseId),r=function(o){return new hM(o)}(e.databaseInfo);return function(o,l,u,h){return new gM(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new yM(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>SE(this.syncEngine,t,0),function(){return mE.C()?new mE:new aM}())}createSyncEngine(e,t){return function(i,o,l,u,h,f,g){const _=new LM(i,o,l,u,h,f);return g&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Re(i);ce(Po,"RemoteStore shutting down."),o.da.add(5),await Sc(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class XM{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=Ux.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ce(Rs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(Rs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gg(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Rs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function TE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JM(n);ce(Rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_E(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_E(e.remoteStore,i)),n._onlineComponents=e}async function JM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Rs,"Using user provided OfflineComponentProvider");try{await Gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ya("Error using user provided cache. Falling back to memory cache: "+t),await Gg(n,new Xd)}}else ce(Rs,"Using default OfflineComponentProvider"),await Gg(n,new QM(void 0));return n._offlineComponents}async function JT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Rs,"Using user provided OnlineComponentProvider"),await TE(n,n._uninitializedComponentsProvider._online)):(ce(Rs,"Using default OnlineComponentProvider"),await TE(n,new Um))),n._onlineComponents}function ZM(n){return JT(n).then(e=>e.syncEngine)}async function ZT(n){const e=await JT(n),t=e.eventManager;return t.onListen=VM.bind(null,e.syncEngine),t.onUnlisten=zM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UM.bind(null,e.syncEngine),t}function eN(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const g=new XT({next:y=>{g.xu(),l.enqueueAndForget(()=>UT(o,_));const x=y.docs.has(u);!x&&y.fromCache?f.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&h&&h.source==="server"?f.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),_=new $T(My(u.path),g,{includeMetadataChanges:!0,Qa:!0});return zT(o,_)}(await ZT(n),n.asyncQueue,e,t,r)),r.promise}function tN(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const g=new XT({next:y=>{g.xu(),l.enqueueAndForget(()=>UT(o,_)),y.fromCache&&h.source==="server"?f.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),_=new $T(u,g,{includeMetadataChanges:!0,Qa:!0});return zT(o,_)}(await ZT(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n,e,t){if(!t)throw new de(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nN(n,e,t,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IE(n){if(!we.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CE(n){if(we.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mf(n);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firestore.googleapis.com",kE=!0;class AE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nb,this.ssl=kE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cO;switch(r.type){case"firstParty":return new pO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=bE.get(t);r&&(ce("ComponentProvider","Removing Datastore"),bE.delete(t),r.terminate())}(this),Promise.resolve()}}function rN(n,e,t,r={}){var i;n=Di(n,Nf);const o=fc(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&(WS(`https://${h}`),HS("Firestore",!0)),l.host!==nb&&l.host!==h&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!Co(f,u)&&(n._setSettings(f),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=un.MOCK_USER;else{g=SA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(y)}n._authCredentials=new hO(new jx(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class xs extends fl{constructor(e,t,r){super(e,t,My(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new we(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function Jd(n,e,...t){if(n=Ht(n),tb("collection","path",e),n instanceof Nf){const r=ot.fromString(e,...t);return CE(r),new xs(n,null,r)}{if(!(n instanceof yn||n instanceof xs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return CE(r),new xs(n.firestore,null,r)}}function $m(n,e,...t){if(n=Ht(n),arguments.length===1&&(e=Ux.newId()),tb("doc","path",e),n instanceof Nf){const r=ot.fromString(e,...t);return IE(r),new yn(n,null,new we(r))}{if(!(n instanceof yn||n instanceof xs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return IE(r),new yn(n.firestore,n instanceof xs?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new OT(this,"async_queue_retry"),this.rc=()=>{const r=Kg();r&&ce(RE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=Kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!hl(e))throw e;ce(RE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Pi("INTERNAL UNHANDLED ERROR: ",OE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Ky.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Ie(47125,{cc:OE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function OE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Tc extends Nf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function iN(n,e){const t=typeof n=="object"?n:YS(),r=typeof n=="string"?n:$d,i=_y(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=wA("firestore");o&&rN(i,...o)}return i}function Jy(n){if(n._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sN(n),n._firestoreClient}function sN(n){var e,t,r;const i=n._freezeSettings(),o=function(u,h,f,g){return new AO(u,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,eb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new XM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(en.fromBase64String(e))}catch(t){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=/^__.*__$/;class aN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new wc(e,this.data,t,this.fieldTransforms)}}class rb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ib(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ic:n})}}class n_{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(ib(this.Ic)&&oN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class lN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pf(e)}bc(e,t,r,i=!1){return new n_({Ic:e,methodName:t,wc:r,path:Jt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r_(n){const e=n._freezeSettings(),t=Pf(n._databaseId);return new lN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uN(n,e,t,r,i,o={}){const l=n.bc(o.merge||o.mergeFields?2:0,e,t,i);i_("Data must be an object, but it was:",l,r);const u=sb(r,l);let h,f;if(o.merge)h=new $n(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const y=Bm(e,_,t);if(!l.contains(y))throw new de(ee.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);ab(g,y)||g.push(y)}h=new $n(g),f=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=l.fieldTransforms;return new aN(new kn(u),h,f)}class Vf extends Zy{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function cN(n,e,t,r){const i=n.bc(1,e,t);i_("Data must be an object, but it was:",i,r);const o=[],l=kn.empty();Ns(r,(h,f)=>{const g=s_(e,h,t);f=Ht(f);const _=i.mc(g);if(f instanceof Vf)o.push(g);else{const y=bc(f,_);y!=null&&(o.push(g),l.set(g,y))}});const u=new $n(o);return new rb(l,u,i.fieldTransforms)}function hN(n,e,t,r,i,o){const l=n.bc(1,e,t),u=[Bm(e,r,t)],h=[i];if(o.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(Bm(e,o[y])),h.push(o[y+1]);const f=[],g=kn.empty();for(let y=u.length-1;y>=0;--y)if(!ab(f,u[y])){const x=u[y];let S=h[y];S=Ht(S);const T=l.mc(x);if(S instanceof Vf)f.push(x);else{const A=bc(S,T);A!=null&&(f.push(x),g.set(x,A))}}const _=new $n(f);return new rb(g,_,l.fieldTransforms)}function dN(n,e,t,r=!1){return bc(t,n.bc(r?4:3,e))}function bc(n,e){if(ob(n=Ht(n)))return i_("Unsupported field value:",e,n),sb(n,e);if(n instanceof Zy)return function(r,i){if(!ib(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let h=bc(u,i.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vt.fromDate(r);return{timestampValue:Gd(i.serializer,o)}}if(r instanceof Vt){const o=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gd(i.serializer,o)}}if(r instanceof e_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tl)return{bytesValue:ET(i.serializer,r._byteString)};if(r instanceof yn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof t_)return function(l,u){return{mapValue:{fields:{[Yx]:{stringValue:Qx},[Bd]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.gc("VectorValues must only contain numeric values.");return Ny(u.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Mf(r)}`)}(n,e)}function sb(n,e){const t={};return Bx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(n,(r,i)=>{const o=bc(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ob(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof e_||n instanceof tl||n instanceof yn||n instanceof Zy||n instanceof t_)}function i_(n,e,t){if(!ob(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Mf(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Bm(n,e,t){if((e=Ht(e))instanceof Lf)return e._internalPath;if(typeof e=="string")return s_(n,e);throw Zd("Field path arguments must be of type string or ",n,!1,void 0,t)}const fN=new RegExp("[~\\*/\\[\\]]");function s_(n,e,t){if(e.search(fN)>=0)throw Zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lf(...e.split("."))._internalPath}catch{throw Zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zd(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new de(ee.INVALID_ARGUMENT,u+n+h)}function ab(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(o_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pN extends lb{data(){return super.data()}}function o_(n,e){return typeof e=="string"?s_(n,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a_{}class mN extends a_{}function ef(n,e,...t){let r=[];e instanceof a_&&r.push(e),r=r.concat(t),function(o){const l=o.filter(h=>h instanceof l_).length,u=o.filter(h=>h instanceof Ff).length;if(l>1||l>0&&u>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Ff extends mN{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ff(e,t,r)}_apply(e){const t=this._parse(e);return ub(e._query,t),new fl(e.firestore,e.converter,Pm(e._query,t))}_parse(e){const t=r_(e.firestore);return function(o,l,u,h,f,g,_){let y;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ME(_,g);const S=[];for(const T of _)S.push(DE(h,o,T));y={arrayValue:{values:S}}}else y=DE(h,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ME(_,g),y=dN(u,l,_,g==="in"||g==="not-in");return kt.create(f,g,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xo(n,e,t){const r=e,i=o_("where",n);return Ff._create(i,r,t)}class l_ extends a_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new l_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:br.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const h of u)ub(l,h),l=Pm(l,h)}(e._query,t),new fl(e.firestore,e.converter,Pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DE(n,e,t){if(typeof(t=Ht(t))=="string"){if(t==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(e)&&t.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!we.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gw(n,new we(r))}if(t instanceof yn)return Gw(n,t._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(t)}.`)}function ME(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ub(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yN{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ns(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Bd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Et(l.doubleValue));return new t_(o)}convertGeoPoint(e){return new e_(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=Is(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Ge(CT(r),9688,{name:e});const i=new Qu(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(t)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cb extends lb{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(o_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Id extends cb{data(e={}){return super.data(e)}}class vN{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Id(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new Id(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Id(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:wN(u.type),doc:h,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){n=Di(n,yn);const e=Di(n.firestore,Tc);return eN(Jy(e),n._key).then(t=>TN(e,n,t))}class hb extends yN{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function tf(n){n=Di(n,fl);const e=Di(n.firestore,Tc),t=Jy(e),r=new hb(e);return gN(n._query),tN(t,n._query).then(i=>new vN(e,r,n,i))}function SN(n,e,t){n=Di(n,yn);const r=Di(n.firestore,Tc),i=_N(n.converter,e);return db(r,[uN(r_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Gr.none())])}function xN(n,e,t,...r){n=Di(n,yn);const i=Di(n.firestore,Tc),o=r_(i);let l;return l=typeof(e=Ht(e))=="string"||e instanceof Lf?hN(o,"updateDoc",n._key,e,t,r):cN(o,"updateDoc",n._key,e),db(i,[l.toMutation(n._key,Gr.exists(!0))])}function db(n,e){return function(r,i){const o=new Ci;return r.asyncQueue.enqueueAndForget(async()=>$M(await ZM(r),i,o)),o.promise}(Jy(n),e)}function TN(n,e,t){const r=t.docs.get(e._key),i=new hb(n);return new cb(n,i,e._key,r,new bu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ul=i})(ol),Ka(new ko("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Tc(new dO(r.getProvider("auth-internal")),new gO(l,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(f.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ws(Lw,Vw,e),ws(Lw,Vw,"esm2017")})();const bN={apiKey:"AIzaSyCMc039S4o_DUxgt4iKjjFu5sa4NZishX0",authDomain:"ipbeep.firebaseapp.com",projectId:"ipbeep",storageBucket:"ipbeep.firebasestorage.app",messagingSenderId:"430401935725",appId:"1:430401935725:web:ef4af7ecbee326bb6ae264",measurementId:"G-1NXLCLE1EW"},fb=GS(bN),bo=iN(fb),jf=oO(fb),IN=()=>{const n=Ds(),{colors:e}=ti(),[t,r]=U.useState(""),[i,o]=U.useState(""),[l,u]=U.useState(""),[h,f]=U.useState(!1),g=async x=>{x.preventDefault(),u(""),f(!0);try{await qP(jf,t,i),n("/courses")}catch(S){switch(console.error("Sign in error:",S),S.code){case"auth/invalid-email":u("Invalid email address");break;case"auth/user-disabled":u("This account has been disabled");break;case"auth/user-not-found":u("No account found with this email");break;case"auth/wrong-password":u("Incorrect password");break;default:u("Failed to sign in. Please try again.")}}finally{f(!1)}},[_,y]=U.useState(!1);return W.jsx("div",{style:{minHeight:"100vh",backgroundColor:e.background,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Outfit', sans-serif",padding:"24px"},children:W.jsxs("div",{style:{backgroundColor:e.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"400px",width:"100%",textAlign:"center"},children:[W.jsx("img",{src:"/IpBeep/IPBeep.png",alt:"IPBeep Logo",style:{width:"200px",height:"auto",marginBottom:"20px"}}),W.jsx("h1",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:700,color:e.text,fontSize:"2rem",marginBottom:"16px",marginTop:0},children:"Sign In"}),W.jsx("p",{style:{fontFamily:"'Outfit', sans-serif",color:e.textSecondary,fontSize:"1rem",marginBottom:"24px"},children:"Sign in with your credentials"}),l&&W.jsx("div",{style:{color:"#dc3545",backgroundColor:"rgba(220, 53, 69, 0.1)",padding:"12px",borderRadius:"8px",marginBottom:"16px",width:"100%",fontSize:"0.9rem"},children:l}),W.jsxs("form",{onSubmit:g,style:{width:"100%"},children:[W.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:x=>r(x.target.value),required:!0,style:{margin:"0 auto",width:"90%",padding:"12px",marginBottom:"16px",border:`1px solid ${e.border}`,borderRadius:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",backgroundColor:e.inputBackground,color:e.text,outline:"none",transition:"border-color 0.3s ease",margin:"0 auto 16px auto"}}),W.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:x=>o(x.target.value),required:!0,style:{width:"90%",padding:"12px",marginBottom:"24px",border:`1px solid ${e.border}`,borderRadius:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",backgroundColor:e.inputBackground,color:e.text,outline:"none",transition:"border-color 0.3s ease",margin:"0 auto 24px auto"}}),W.jsx("button",{type:"submit",disabled:h,style:{width:"80%",padding:"12px",backgroundColor:h?"#6c757d":"#1a237e",color:"#fff",border:"none",borderRadius:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",fontWeight:600,cursor:h?"not-allowed":"pointer",transition:"background-color 0.3s ease",opacity:h?.7:1},children:h?"Signing in...":"Sign In"})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ic(n){return n+.5|0}const ms=(n,e,t)=>Math.max(Math.min(n,t),e);function Iu(n){return ms(Ic(n*2.55),0,255)}function Ts(n){return ms(Ic(n*255),0,255)}function xi(n){return ms(Ic(n/2.55)/100,0,1)}function NE(n){return ms(Ic(n*100),0,100)}const tr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wm=[..."0123456789ABCDEF"],CN=n=>Wm[n&15],kN=n=>Wm[(n&240)>>4]+Wm[n&15],ed=n=>(n&240)>>4===(n&15),AN=n=>ed(n.r)&&ed(n.g)&&ed(n.b)&&ed(n.a);function RN(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&tr[n[1]]*17,g:255&tr[n[2]]*17,b:255&tr[n[3]]*17,a:e===5?tr[n[4]]*17:255}:(e===7||e===9)&&(t={r:tr[n[1]]<<4|tr[n[2]],g:tr[n[3]]<<4|tr[n[4]],b:tr[n[5]]<<4|tr[n[6]],a:e===9?tr[n[7]]<<4|tr[n[8]]:255})),t}const PN=(n,e)=>n<255?e(n):"";function ON(n){var e=AN(n)?CN:kN;return n?"#"+e(n.r)+e(n.g)+e(n.b)+PN(n.a,e):void 0}const DN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pb(n,e,t){const r=e*Math.min(t,1-t),i=(o,l=(o+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function MN(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function NN(n,e,t){const r=pb(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function LN(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function u_(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),l=Math.min(t,r,i),u=(o+l)/2;let h,f,g;return o!==l&&(g=o-l,f=u>.5?g/(2-o-l):g/(o+l),h=LN(t,r,i,g,o),h=h*60+.5),[h|0,f||0,u]}function c_(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Ts)}function h_(n,e,t){return c_(pb,n,e,t)}function VN(n,e,t){return c_(NN,n,e,t)}function FN(n,e,t){return c_(MN,n,e,t)}function gb(n){return(n%360+360)%360}function jN(n){const e=DN.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Iu(+e[5]):Ts(+e[5]));const i=gb(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=VN(i,o,l):e[1]==="hsv"?r=FN(i,o,l):r=h_(i,o,l),{r:r[0],g:r[1],b:r[2],a:t}}function zN(n,e){var t=u_(n);t[0]=gb(t[0]+e),t=h_(t),n.r=t[0],n.g=t[1],n.b=t[2]}function UN(n){if(!n)return;const e=u_(n),t=e[0],r=NE(e[1]),i=NE(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${xi(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const LE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $N(){const n={},e=Object.keys(VE),t=Object.keys(LE);let r,i,o,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],i=0;i<t.length;i++)o=t[i],u=u.replace(o,LE[o]);o=parseInt(VE[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let td;function BN(n){td||(td=$N(),td.transparent=[0,0,0,0]);const e=td[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const WN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function HN(n){const e=WN.exec(n);let t=255,r,i,o;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Iu(l):ms(l*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?Iu(r):ms(r,0,255)),i=255&(e[4]?Iu(i):ms(i,0,255)),o=255&(e[6]?Iu(o):ms(o,0,255)),{r,g:i,b:o,a:t}}}function qN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Yg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ka=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function KN(n,e,t){const r=ka(xi(n.r)),i=ka(xi(n.g)),o=ka(xi(n.b));return{r:Ts(Yg(r+t*(ka(xi(e.r))-r))),g:Ts(Yg(i+t*(ka(xi(e.g))-i))),b:Ts(Yg(o+t*(ka(xi(e.b))-o))),a:n.a+t*(e.a-n.a)}}function nd(n,e,t){if(n){let r=u_(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=h_(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function mb(n,e){return n&&Object.assign(e||{},n)}function FE(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ts(n[3]))):(e=mb(n,{r:0,g:0,b:0,a:1}),e.a=Ts(e.a)),e}function GN(n){return n.charAt(0)==="r"?HN(n):jN(n)}class ec{constructor(e){if(e instanceof ec)return e;const t=typeof e;let r;t==="object"?r=FE(e):t==="string"&&(r=RN(e)||BN(e)||GN(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=mb(this._rgb);return e&&(e.a=xi(e.a)),e}set rgb(e){this._rgb=FE(e)}rgbString(){return this._valid?qN(this._rgb):void 0}hexString(){return this._valid?ON(this._rgb):void 0}hslString(){return this._valid?UN(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let o;const l=t===o?.5:t,u=2*l-1,h=r.a-i.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-f,r.r=255&f*r.r+o*i.r+.5,r.g=255&f*r.g+o*i.g+.5,r.b=255&f*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=KN(this._rgb,e._rgb,t)),this}clone(){return new ec(this.rgb)}alpha(e){return this._rgb.a=Ts(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ic(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return nd(this._rgb,2,e),this}darken(e){return nd(this._rgb,2,-e),this}saturate(e){return nd(this._rgb,1,e),this}desaturate(e){return nd(this._rgb,1,-e),this}rotate(e){return zN(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wi(){}const YN=(()=>{let n=0;return()=>n++})();function hn(n){return n==null}function Zt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function We(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Mi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function jr(n,e){return Mi(n)?n:e}function Xe(n,e){return typeof n>"u"?e:n}const QN=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,yb=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function st(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Qe(n,e,t,r){let i,o,l;if(Zt(n))for(o=n.length,i=0;i<o;i++)e.call(t,n[i],i);else if(We(n))for(l=Object.keys(n),o=l.length,i=0;i<o;i++)e.call(t,n[l[i]],l[i])}function nf(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function rf(n){if(Zt(n))return n.map(rf);if(We(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=rf(n[t[i]]);return e}return n}function _b(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function XN(n,e,t,r){if(!_b(n))return;const i=e[n],o=t[n];We(i)&&We(o)?tc(i,o,r):e[n]=rf(o)}function tc(n,e,t){const r=Zt(e)?e:[e],i=r.length;if(!We(n))return n;t=t||{};const o=t.merger||XN;let l;for(let u=0;u<i;++u){if(l=r[u],!We(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)o(h[f],n,l,t)}return n}function Fu(n,e){return tc(n,e,{merger:JN})}function JN(n,e,t){if(!_b(n))return;const r=e[n],i=t[n];We(r)&&We(i)?Fu(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=rf(i))}const jE={"":n=>n,x:n=>n.x,y:n=>n.y};function ZN(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function eL(n){const e=ZN(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function nc(n,e){return(jE[e]||(jE[e]=eL(e)))(n)}function d_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const sf=n=>typeof n<"u",Ps=n=>typeof n=="function",zE=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function tL(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Wt=Math.PI,At=2*Wt,of=Number.POSITIVE_INFINITY,nL=Wt/180,Lt=Wt/2,po=Wt/4,UE=Wt*2/3,$E=Math.sign;function rL(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function iL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function af(n){return!iL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function To(n){return n*(Wt/180)}function sL(n){return n*(180/Wt)}function vb(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*Wt&&(o+=At),{angle:o,distance:i}}function oL(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function go(n){return(n%At+At)%At}function lf(n,e,t,r){const i=go(n),o=go(e),l=go(t),u=go(o-i),h=go(l-i),f=go(i-o),g=go(i-l);return i===o||i===l||r&&o===l||u>h&&f<g}function rr(n,e,t){return Math.max(e,Math.min(t,n))}function aL(n){return rr(n,-32768,32767)}function Cu(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function f_(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const Hm=(n,e,t,r)=>f_(n,t,r?i=>{const o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),lL=(n,e,t)=>f_(n,t,r=>n[r][e]>=t);function uL(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const wb=["push","pop","shift","splice","unshift"];function cL(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),wb.forEach(t=>{const r="_onData"+d_(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...o)}),l}})})}function BE(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(wb.forEach(o=>{delete n[o]}),delete n._chartjs)}function hL(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Eb=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Sb(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Eb.call(window,()=>{r=!1,n.apply(e,t)}))}}function dL(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const xb=n=>n==="start"?"left":n==="end"?"right":"center",zn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,fL=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,rd=n=>n===0||n===1,WE=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*At/t)),HE=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*At/t)+1,ju={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Lt)+1,easeOutSine:n=>Math.sin(n*Lt),easeInOutSine:n=>-.5*(Math.cos(Wt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>rd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>rd(n)?n:WE(n,.075,.3),easeOutElastic:n=>rd(n)?n:HE(n,.075,.3),easeInOutElastic(n){return rd(n)?n:n<.5?.5*WE(n*2,.1125,.45):.5+.5*HE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ju.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ju.easeInBounce(n*2)*.5:ju.easeOutBounce(n*2-1)*.5+.5};function Tb(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function qE(n){return Tb(n)?n:new ec(n)}function Qg(n){return Tb(n)?n:new ec(n).saturate(.5).darken(.1).hexString()}const pL=["x","y","borderWidth","radius","tension"],gL=["color","borderColor","backgroundColor"];function mL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:gL},numbers:{type:"number",properties:pL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function yL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const KE=new Map;function _L(n,e){e=e||{};const t=n+JSON.stringify(e);let r=KE.get(t);return r||(r=new Intl.NumberFormat(n,e),KE.set(t,r)),r}function vL(n,e,t){return _L(e,t).format(n)}const wL={values(n){return Zt(n)?n:""+n}};var EL={formatters:wL};function SL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:EL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Oo=Object.create(null),qm=Object.create(null);function zu(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function Xg(n,e,t){return typeof e=="string"?tc(zu(n,e),t):tc(zu(n,""),e)}class xL{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Qg(i.backgroundColor),this.hoverBorderColor=(r,i)=>Qg(i.borderColor),this.hoverColor=(r,i)=>Qg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Xg(this,e,t)}get(e){return zu(this,e)}describe(e,t){return Xg(qm,e,t)}override(e,t){return Xg(Oo,e,t)}route(e,t,r,i){const o=zu(this,e),l=zu(this,r),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[i];return We(h)?Object.assign({},f,h):Xe(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var St=new xL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mL,yL,SL]);function TL(n){return!n||hn(n.size)||hn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function GE(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function mo(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function YE(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function QE(n,e,t,r){bb(n,e,t,r,null)}function bb(n,e,t,r,i){let o,l,u,h,f,g,_,y;const x=e.pointStyle,S=e.rotation,T=e.radius;let A=(S||0)*nL;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(A),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),x){default:i?n.ellipse(t,r,i/2,T,0,0,At):n.arc(t,r,T,0,At),n.closePath();break;case"triangle":g=i?i/2:T,n.moveTo(t+Math.sin(A)*g,r-Math.cos(A)*T),A+=UE,n.lineTo(t+Math.sin(A)*g,r-Math.cos(A)*T),A+=UE,n.lineTo(t+Math.sin(A)*g,r-Math.cos(A)*T),n.closePath();break;case"rectRounded":f=T*.516,h=T-f,l=Math.cos(A+po)*h,_=Math.cos(A+po)*(i?i/2-f:h),u=Math.sin(A+po)*h,y=Math.sin(A+po)*(i?i/2-f:h),n.arc(t-_,r-u,f,A-Wt,A-Lt),n.arc(t+y,r-l,f,A-Lt,A),n.arc(t+_,r+u,f,A,A+Lt),n.arc(t-y,r+l,f,A+Lt,A+Wt),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*T,g=i?i/2:h,n.rect(t-g,r-h,2*g,2*h);break}A+=po;case"rectRot":_=Math.cos(A)*(i?i/2:T),l=Math.cos(A)*T,u=Math.sin(A)*T,y=Math.sin(A)*(i?i/2:T),n.moveTo(t-_,r-u),n.lineTo(t+y,r-l),n.lineTo(t+_,r+u),n.lineTo(t-y,r+l),n.closePath();break;case"crossRot":A+=po;case"cross":_=Math.cos(A)*(i?i/2:T),l=Math.cos(A)*T,u=Math.sin(A)*T,y=Math.sin(A)*(i?i/2:T),n.moveTo(t-_,r-u),n.lineTo(t+_,r+u),n.moveTo(t+y,r-l),n.lineTo(t-y,r+l);break;case"star":_=Math.cos(A)*(i?i/2:T),l=Math.cos(A)*T,u=Math.sin(A)*T,y=Math.sin(A)*(i?i/2:T),n.moveTo(t-_,r-u),n.lineTo(t+_,r+u),n.moveTo(t+y,r-l),n.lineTo(t-y,r+l),A+=po,_=Math.cos(A)*(i?i/2:T),l=Math.cos(A)*T,u=Math.sin(A)*T,y=Math.sin(A)*(i?i/2:T),n.moveTo(t-_,r-u),n.lineTo(t+_,r+u),n.moveTo(t+y,r-l),n.lineTo(t-y,r+l);break;case"line":l=i?i/2:Math.cos(A)*T,u=Math.sin(A)*T,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(A)*(i?i/2:T),r+Math.sin(A)*T);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ib(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function p_(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function g_(n){n.restore()}function bL(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),hn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function IL(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,g=i.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function CL(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function uf(n,e,t,r,i,o={}){const l=Zt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(n.save(),n.font=i.string,bL(n,o),h=0;h<l.length;++h)f=l[h],o.backdrop&&CL(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),hn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,t,r,o.maxWidth)),n.fillText(f,t,r,o.maxWidth),IL(n,t,r,f,o),r+=Number(i.lineHeight);n.restore()}function Km(n,e){const{x:t,y:r,w:i,h:o,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Wt,Wt,!0),n.lineTo(t,r+o-l.bottomLeft),n.arc(t+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,Wt,Lt,!0),n.lineTo(t+i-l.bottomRight,r+o),n.arc(t+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,Lt,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Lt,!0),n.lineTo(t+l.topLeft,r)}const kL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RL(n,e){const t=(""+n).match(kL);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const PL=n=>+n||0;function m_(n,e){const t={},r=We(e),i=r?Object.keys(e):e,o=We(n)?r?l=>Xe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=PL(o(l));return t}function OL(n){return m_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Uu(n){return m_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ir(n){const e=OL(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rn(n,e){n=n||{},e=e||St.font;let t=Xe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Xe(n.style,e.style);r&&!(""+r).match(AL)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Xe(n.family,e.family),lineHeight:RL(Xe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Xe(n.weight,e.weight),string:""};return i.string=TL(i),i}function id(n,e,t,r){let i,o,l;for(i=0,o=n.length;i<o;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function DL(n,e,t){const{min:r,max:i}=n,o=yb(e,(i-r)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function pl(n,e){return Object.assign(Object.create(n),e)}function y_(n,e=[""],t,r,i=()=>n[0]){const o=t||n;typeof r>"u"&&(r=Rb("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:u=>y_([u,...n],e,o,r)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return kb(u,h,()=>UL(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return JE(u).includes(h)},ownKeys(u){return JE(u)},set(u,h,f){const g=u._storage||(u._storage=i());return u[h]=g[h]=f,delete u._keys,!0}})}function nl(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Cb(n,r),setContext:o=>nl(n,o,t,r),override:o=>nl(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return kb(o,l,()=>NL(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function Cb(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Ps(t)?t:()=>t,isIndexable:Ps(r)?r:()=>r}}const ML=(n,e)=>n?n+d_(e):e,__=(n,e)=>We(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kb(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function NL(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;let u=r[e];return Ps(u)&&l.isScriptable(e)&&(u=LL(e,u,n,t)),Zt(u)&&u.length&&(u=VL(e,u,n,l.isIndexable)),__(e,u)&&(u=nl(u,i,o&&o[e],l)),u}function LL(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(o,l||r);return u.delete(n),__(n,h)&&(h=v_(i._scopes,i,n,h)),h}function VL(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:u}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(We(e[0])){const h=e,f=i._scopes.filter(g=>g!==h);e=[];for(const g of h){const _=v_(f,i,n,g);e.push(nl(_,o,l&&l[n],u))}}return e}function Ab(n,e,t){return Ps(n)?n(e,t):n}const FL=(n,e)=>n===!0?e:typeof n=="string"?nc(e,n):void 0;function jL(n,e,t,r,i){for(const o of e){const l=FL(t,o);if(l){n.add(l);const u=Ab(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function v_(n,e,t,r){const i=e._rootScopes,o=Ab(e._fallback,t,r),l=[...n,...i],u=new Set;u.add(r);let h=XE(u,l,t,o||t,r);return h===null||typeof o<"u"&&o!==t&&(h=XE(u,l,o,h,r),h===null)?!1:y_(Array.from(u),[""],i,o,()=>zL(e,t,r))}function XE(n,e,t,r,i){for(;t;)t=jL(n,e,t,r,i);return t}function zL(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Zt(i)&&We(t)?t:i||{}}function UL(n,e,t,r){let i;for(const o of e)if(i=Rb(ML(o,n),t),typeof i<"u")return __(n,i)?v_(t,r,n,i):i}function Rb(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function JE(n){let e=n._keys;return e||(e=n._keys=$L(n._scopes)),e}function $L(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function w_(){return typeof window<"u"&&typeof document<"u"}function E_(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function cf(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const zf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function BL(n,e){return zf(n).getPropertyValue(e)}const WL=["top","right","bottom","left"];function Io(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=WL[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const HL=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function qL(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r;let l=!1,u,h;if(HL(i,o,n.target))u=i,h=o;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,h=r.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function Eo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=zf(t),o=i.boxSizing==="border-box",l=Io(i,"padding"),u=Io(i,"border","width"),{x:h,y:f,box:g}=qL(n,t),_=l.left+(g&&u.left),y=l.top+(g&&u.top);let{width:x,height:S}=e;return o&&(x-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-_)/x*t.width/r),y:Math.round((f-y)/S*t.height/r)}}function KL(n,e,t){let r,i;if(e===void 0||t===void 0){const o=n&&E_(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),u=zf(o),h=Io(u,"border","width"),f=Io(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,r=cf(u.maxWidth,o,"clientWidth"),i=cf(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||of,maxHeight:i||of}}const sd=n=>Math.round(n*10)/10;function GL(n,e,t,r){const i=zf(n),o=Io(i,"margin"),l=cf(i.maxWidth,n,"clientWidth")||of,u=cf(i.maxHeight,n,"clientHeight")||of,h=KL(n,e,t);let{width:f,height:g}=h;if(i.boxSizing==="content-box"){const y=Io(i,"border","width"),x=Io(i,"padding");f-=x.width+y.width,g-=x.height+y.height}return f=Math.max(0,f-o.width),g=Math.max(0,r?f/r:g-o.height),f=sd(Math.min(f,l,h.maxWidth)),g=sd(Math.min(g,u,h.maxHeight)),f&&!g&&(g=sd(f/2)),(e!==void 0||t!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,f=sd(Math.floor(g*r))),{width:f,height:g}}function ZE(n,e,t){const r=e||1,i=Math.floor(n.height*r),o=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(n.currentDevicePixelRatio=r,l.height=i,l.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const YL=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};w_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function e1(n,e){const t=BL(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const QL=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},XL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Wa(n,e,t){return n?QL(e,t):XL()}function Pb(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Ob(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function od(n,e,t){return n.options.clip?n[t]:e[t]}function JL(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:od(t,e,"left"),right:od(t,e,"right"),top:od(r,e,"top"),bottom:od(r,e,"bottom")}:e}function ZL(n,e){const t=e._clip;if(t.disabled)return!1;const r=JL(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class e4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.listeners[i],l=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Eb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ei=new e4;const t1="transparent",t4={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=qE(n||t1),i=r.valid&&qE(e||t1);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class n4{constructor(e,t,r,i){const o=t[r];i=id([e.to,i,o,e.from]);const l=id([e.from,o,i]);this._active=!0,this._fn=e.fn||t4[e.type||typeof l],this._easing=ju[e.easing]||ju.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=id([e.to,t,i,e.from]),this._from=id([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||t<r),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=o;return}h=t/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Db{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!We(e))return;const t=Object.keys(St.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!We(o))return;const l={};for(const u of t)l[u]=o[u];(Zt(o.properties)&&o.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,i=i4(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&r4(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const g=t[f];let _=o[f];const y=r.get(f);if(_)if(y&&_.active()){_.update(y,g,u);continue}else _.cancel();if(!y||!y.duration){e[f]=g;continue}o[f]=_=new n4(y,e,f,g),i.push(_)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Ei.add(this._chart,r),!0}}function r4(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function i4(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function n1(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function s4(n,e,t){if(t===!1)return!1;const r=n1(n,t),i=n1(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function o4(n){let e,t,r,i;return We(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function Mb(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function r1(n,e,t,r={}){const i=n.keys,o=r.mode==="single";let l,u,h,f;if(e===null)return;let g=!1;for(l=0,u=i.length;l<u;++l){if(h=+i[l],h===t){if(g=!0,r.all)continue;break}f=n.values[h],Mi(f)&&(o||e===0||$E(e)===$E(f))&&(e+=f)}return!g&&!r.all?0:e}function a4(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[i]:g,[o]:n[g]};return u}function Jg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function l4(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function u4(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function c4(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function i1(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function s1(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:u}=r,h=o.axis,f=l.axis,g=l4(o,l,r),_=e.length;let y;for(let x=0;x<_;++x){const S=e[x],{[h]:T,[f]:A}=S,O=S._stacks||(S._stacks={});y=O[f]=c4(i,g,T),y[u]=A,y._top=i1(y,l,!0,r.type),y._bottom=i1(y,l,!1,r.type);const V=y._visualValues||(y._visualValues={});V[u]=A}}function Zg(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function h4(n,e){return pl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function d4(n,e,t){return pl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function hu(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}const em=n=>n==="reset"||n==="none",o1=(n,e)=>e?n:Object.assign({},n),f4=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Mb(t,!0),values:null};class $u{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Jg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(_,y,x,S)=>_==="x"?y:_==="r"?S:x,o=t.xAxisID=Xe(r.xAxisID,Zg(e,"x")),l=t.yAxisID=Xe(r.yAxisID,Zg(e,"y")),u=t.rAxisID=Xe(r.rAxisID,Zg(e,"r")),h=t.indexAxis,f=t.iAxisID=i(h,o,l,u),g=t.vAxisID=i(h,l,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&BE(this._data,this),e._stacked&&hu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(We(t)){const i=this._cachedMeta;this._data=a4(t,i)}else if(r!==t){if(r){BE(r,this);const i=this._cachedMeta;hu(i),i._parsed=[]}t&&Object.isExtensible(t)&&cL(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=Jg(t.vScale,t),t.stack!==r.stack&&(i=!0,hu(t),t.stack=r.stack),this._resyncElements(e),(i||o!==t._stacked)&&(s1(this,t._parsed),t._stacked=Jg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,u=o.axis;let h=e===0&&t===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],g,_,y;if(this._parsing===!1)r._parsed=i,r._sorted=!0,y=i;else{Zt(i[e])?y=this.parseArrayData(r,i,e,t):We(i[e])?y=this.parseObjectData(r,i,e,t):y=this.parsePrimitiveData(r,i,e,t);const x=()=>_[u]===null||f&&_[u]<f[u];for(g=0;g<t;++g)r._parsed[g+e]=_=y[g],h&&(x()&&(h=!1),f=_);r._sorted=h}l&&s1(this,y)}parsePrimitiveData(e,t,r,i){const{iScale:o,vScale:l}=e,u=o.axis,h=l.axis,f=o.getLabels(),g=o===l,_=new Array(i);let y,x,S;for(y=0,x=i;y<x;++y)S=y+r,_[y]={[u]:g||o.parse(f[S],S),[h]:l.parse(t[S],S)};return _}parseArrayData(e,t,r,i){const{xScale:o,yScale:l}=e,u=new Array(i);let h,f,g,_;for(h=0,f=i;h<f;++h)g=h+r,_=t[g],u[h]={x:o.parse(_[0],g),y:l.parse(_[1],g)};return u}parseObjectData(e,t,r,i){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let g,_,y,x;for(g=0,_=i;g<_;++g)y=g+r,x=t[y],f[g]={x:o.parse(nc(x,u),y),y:l.parse(nc(x,h),y)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,o=this._cachedMeta,l=t[e.axis],u={keys:Mb(i,!0),values:t._stacks[e.axis]._visualValues};return r1(u,l,o.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const o=r[t.axis];let l=o===null?NaN:o;const u=i&&r._stacks[t.axis];i&&u&&(i.values=u,l=r1(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,l=i.length,u=this._getOtherScale(e),h=f4(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:_}=u4(u);let y,x;function S(){x=i[y];const T=x[u.axis];return!Mi(x[e.axis])||g>T||_<T}for(y=0;y<l&&!(!S()&&(this.updateRangeFromParsed(f,e,x,h),o));++y);if(o){for(y=l-1;y>=0;--y)if(!S()){this.updateRangeFromParsed(f,e,x,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=t.length;i<o;++i)l=t[i][e.axis],Mi(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=o4(Xe(this.options.clip,s4(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,o,u,h),g=u;g<u+h;++g){const _=i[g];_.hidden||(_.active&&f?l.push(_):_.draw(e,o))}for(g=0;g<l.length;++g)l[g].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=d4(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=h4(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",o=this._cachedDataOpts,l=e+"-"+t,u=o[l],h=this.enableOptionSharing&&sf(r);if(u)return o1(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),_=i?[`${e}Hover`,"hover",e,""]:[e,""],y=f.getOptionScopes(this.getDataset(),g),x=Object.keys(St.elements[e]),S=()=>this.getContext(r,i,t),T=f.resolveNamedOptions(y,x,S,_);return T.$shared&&(T.$shared=h,o[l]=Object.freeze(o1(T,h))),T}_resolveAnimations(e,t,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,u=o[l];if(u)return u;let h;if(i.options.animation!==!1){const g=this.chart.config,_=g.datasetAnimationScopeKeys(this._type,t),y=g.getOptionScopes(this.getDataset(),_);h=g.createResolver(y,this.getContext(e,r,t))}const f=new Db(i,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||em(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:l}}updateElement(e,t,r,i){em(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!em(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const i=r.length,o=t.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,r=!0){const i=this._cachedMeta,o=i.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&hu(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}De($u,"defaults",{}),De($u,"datasetElementType",null),De($u,"dataElementType",null);function p4(n,e,t){let r=1,i=1,o=0,l=0;if(e<At){const u=n,h=u+e,f=Math.cos(u),g=Math.sin(u),_=Math.cos(h),y=Math.sin(h),x=($,G,L)=>lf($,u,h,!0)?1:Math.max(G,G*t,L,L*t),S=($,G,L)=>lf($,u,h,!0)?-1:Math.min(G,G*t,L,L*t),T=x(0,f,_),A=x(Lt,g,y),O=S(Wt,f,_),V=S(Wt+Lt,g,y);r=(T-O)/2,i=(A-V)/2,o=-(T+O)/2,l=-(A+V)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:l}}class ku extends $u{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=h=>+r[h];if(We(r[e])){const{key:h="value"}=this._parsing;o=f=>+nc(r[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)i._parsed[l]=o(l)}}_getRotation(){return To(this.options.rotation-90)}_getCircumference(){return To(this.options.circumference)}_getRotationExtents(){let e=At,t=-At;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),l=i._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,o=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),h=Math.min(QN(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:g,rotation:_}=this._getRotationExtents(),{ratioX:y,ratioY:x,offsetX:S,offsetY:T}=p4(_,g,h),A=(r.width-l)/y,O=(r.height-l)/x,V=Math.max(Math.min(A,O)/2,0),$=yb(this.options.radius,V),G=Math.max($*h,0),L=($-G)/this._getVisibleDatasetWeightTotal();this.offsetX=S*$,this.offsetY=T*$,i.total=this.calculateTotal(),this.outerRadius=$-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/At)}updateElements(e,t,r,i){const o=i==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,g=(u.left+u.right)/2,_=(u.top+u.bottom)/2,y=o&&f.animateScale,x=y?0:this.innerRadius,S=y?0:this.outerRadius,{sharedOptions:T,includeOptions:A}=this._getSharedOptions(t,i);let O=this._getRotation(),V;for(V=0;V<t;++V)O+=this._circumference(V,o);for(V=t;V<t+r;++V){const $=this._circumference(V,o),G=e[V],L={x:g+this.offsetX,y:_+this.offsetY,startAngle:O,endAngle:O+$,circumference:$,outerRadius:S,innerRadius:x};A&&(L.options=T||this.resolveDataElementOptions(V,G.active?"active":i)),O+=$,this.updateElement(G,V,L,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?At*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=vL(t._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,o,l,u,h;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,u=l.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)h=u.resolveDataElementOptions(i),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}De(ku,"id","doughnut"),De(ku,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),De(ku,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),De(ku,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:i,lineWidth:h.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Gm extends ku{}De(Gm,"id","pie"),De(Gm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function yo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class S_{constructor(e){De(this,"options");this.options=e||{}}static override(e){Object.assign(S_.prototype,e)}init(){}formats(){return yo()}parse(){return yo()}format(){return yo()}add(){return yo()}diff(){return yo()}startOf(){return yo()}endOf(){return yo()}}var g4={_date:S_};function m4(n,e,t,r){const{controller:i,data:o,_sorted:l}=n,u=i._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const f=u._reversePixels?lL:Hm;if(r){if(i._sharedOptions){const g=o[0],_=typeof g.getRange=="function"&&g.getRange(e);if(_){const y=f(o,e,t-_),x=f(o,e,t+_);return{lo:y.lo,hi:x.hi}}}}else{const g=f(o,e,t);if(h){const{vScale:_}=i._cachedMeta,{_parsed:y}=n,x=y.slice(0,g.lo+1).reverse().findIndex(T=>!hn(T[_.axis]));g.lo-=Math.max(0,x);const S=y.slice(g.hi).findIndex(T=>!hn(T[_.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:o.length-1}}function Uf(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=o.length;u<h;++u){const{index:f,data:g}=o[u],{lo:_,hi:y}=m4(o[u],e,l,i);for(let x=_;x<=y;++x){const S=g[x];S.skip||r(S,f,x)}}}function y4(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function tm(n,e,t,r,i){const o=[];return!i&&!n.isPointInArea(e)||Uf(n,t,e,function(u,h,f){!i&&!Ib(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&o.push({element:u,datasetIndex:h,index:f})},!0),o}function _4(n,e,t,r){let i=[];function o(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],r),{angle:_}=vb(l,{x:e.x,y:e.y});lf(_,f,g)&&i.push({element:l,datasetIndex:u,index:h})}return Uf(n,t,e,o),i}function v4(n,e,t,r,i,o){let l=[];const u=y4(t);let h=Number.POSITIVE_INFINITY;function f(g,_,y){const x=g.inRange(e.x,e.y,i);if(r&&!x)return;const S=g.getCenterPoint(i);if(!(!!o||n.isPointInArea(S))&&!x)return;const A=u(e,S);A<h?(l=[{element:g,datasetIndex:_,index:y}],h=A):A===h&&l.push({element:g,datasetIndex:_,index:y})}return Uf(n,t,e,f),l}function nm(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?_4(n,e,t,i):v4(n,e,t,r,i,o)}function a1(n,e,t,r,i){const o=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Uf(n,t,e,(h,f,g)=>{h[l]&&h[l](e[t],i)&&(o.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(e.x,e.y,i))}),r&&!u?[]:o}var w4={modes:{index(n,e,t,r){const i=Eo(e,n),o=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?tm(n,i,o,r,l):nm(n,i,o,!1,r,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,_=f.data[g];_&&!_.skip&&h.push({element:_,datasetIndex:f.index,index:g})}),h):[]},dataset(n,e,t,r){const i=Eo(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?tm(n,i,o,r,l):nm(n,i,o,!1,r,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(n,e,t,r){const i=Eo(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return tm(n,i,o,r,l)},nearest(n,e,t,r){const i=Eo(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return nm(n,i,o,t.intersect,r,l)},x(n,e,t,r){const i=Eo(e,n);return a1(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Eo(e,n);return a1(n,i,"y",t.intersect,r)}}};const Nb=["left","top","right","bottom"];function du(n,e){return n.filter(t=>t.pos===e)}function l1(n,e){return n.filter(t=>Nb.indexOf(t.pos)===-1&&t.box.axis===e)}function fu(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function E4(n){const e=[];let t,r,i,o,l,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:u});return e}function S4(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!Nb.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function x4(n,e){const t=S4(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:h}=u.box,f=t[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*r:h&&e.availableWidth,u.height=i):(u.width=r,u.height=g?g*i:h&&e.availableHeight)}return t}function T4(n){const e=E4(n),t=fu(e.filter(f=>f.box.fullSize),!0),r=fu(du(e,"left"),!0),i=fu(du(e,"right")),o=fu(du(e,"top"),!0),l=fu(du(e,"bottom")),u=l1(e,"x"),h=l1(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(h).concat(l).concat(u),chartArea:du(e,"chartArea"),vertical:r.concat(i).concat(h),horizontal:o.concat(l).concat(u)}}function u1(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Lb(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function b4(n,e,t,r){const{pos:i,box:o}=t,l=n.maxPadding;if(!We(i)){t.size&&(n[i]-=t.size);const _=r[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?o.height:o.width),t.size=_.size/_.count,n[i]+=t.size}o.getPadding&&Lb(l,o.getPadding());const u=Math.max(0,e.outerWidth-u1(l,n,"left","right")),h=Math.max(0,e.outerHeight-u1(l,n,"top","bottom")),f=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:g}:{same:g,other:f}}function I4(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function C4(n,e){const t=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return r(n?["left","right"]:["top","bottom"])}function Au(n,e,t,r){const i=[];let o,l,u,h,f,g;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],h=u.box,h.update(u.width||e.w,u.height||e.h,C4(u.horizontal,e));const{same:_,other:y}=b4(e,t,u,r);f|=_&&i.length,g=g||y,h.fullSize||i.push(u)}return f&&Au(i,e,t,r)||g}function ad(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function c1(n,e,t,r){const i=t.padding;let{x:o,y:l}=e;for(const u of n){const h=u.box,f=r[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const _=e.w*g,y=f.size||h.height;sf(f.start)&&(l=f.start),h.fullSize?ad(h,i.left,l,t.outerWidth-i.right-i.left,y):ad(h,e.left+f.placed,l,_,y),f.start=l,f.placed+=_,l=h.bottom}else{const _=e.h*g,y=f.size||h.width;sf(f.start)&&(o=f.start),h.fullSize?ad(h,o,i.top,y,t.outerHeight-i.bottom-i.top):ad(h,o,e.top+f.placed,y,_),f.start=o,f.placed+=_,o=h.right}}e.x=o,e.y=l}var ys={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Ir(n.options.layout.padding),o=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=T4(n.boxes),h=u.vertical,f=u.horizontal;Qe(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const g=h.reduce((T,A)=>A.box.options&&A.box.options.display===!1?T:T+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),y=Object.assign({},i);Lb(y,Ir(r));const x=Object.assign({maxPadding:y,w:o,h:l,x:i.left,y:i.top},i),S=x4(h.concat(f),_);Au(u.fullSize,x,_,S),Au(h,x,_,S),Au(f,x,_,S)&&Au(h,x,_,S),I4(x),c1(u.leftAndTop,x,_,S),x.x+=x.w,x.y+=x.h,c1(u.rightAndBottom,x,_,S),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Qe(u.chartArea,T=>{const A=T.box;Object.assign(A,n.chartArea),A.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class Vb{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class k4 extends Vb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cd="$chartjs",A4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h1=n=>n===null||n==="";function R4(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Cd]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",h1(i)){const o=e1(n,"width");o!==void 0&&(n.width=o)}if(h1(r))if(n.style.height==="")n.height=n.width/(e||2);else{const o=e1(n,"height");o!==void 0&&(n.height=o)}return n}const Fb=YL?{passive:!0}:!1;function P4(n,e,t){n&&n.addEventListener(e,t,Fb)}function O4(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Fb)}function D4(n,e){const t=A4[n.type]||n.type,{x:r,y:i}=Eo(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function hf(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function M4(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||hf(u.addedNodes,r),l=l&&!hf(u.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function N4(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||hf(u.removedNodes,r),l=l&&!hf(u.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const rc=new Map;let d1=0;function jb(){const n=window.devicePixelRatio;n!==d1&&(d1=n,rc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function L4(n,e){rc.size||window.addEventListener("resize",jb),rc.set(n,e)}function V4(n){rc.delete(n),rc.size||window.removeEventListener("resize",jb)}function F4(n,e,t){const r=n.canvas,i=r&&E_(r);if(!i)return;const o=Sb((u,h)=>{const f=i.clientWidth;t(u,h),f<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||o(f,g)});return l.observe(i),L4(n,o),l}function rm(n,e,t){t&&t.disconnect(),e==="resize"&&V4(n)}function j4(n,e,t){const r=n.canvas,i=Sb(o=>{n.ctx!==null&&t(D4(o,n))},n);return P4(r,e,i),i}class z4 extends Vb{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(R4(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Cd])return!1;const r=t[Cd].initial;["height","width"].forEach(o=>{const l=r[o];hn(l)?t.removeAttribute(o):t.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[Cd],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:M4,detach:N4,resize:F4}[t]||j4;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:rm,detach:rm,resize:rm}[t]||O4)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return GL(e,t,r,i)}isAttached(e){const t=e&&E_(e);return!!(t&&t.isConnected)}}function U4(n){return!w_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?k4:z4}class Do{constructor(){De(this,"x");De(this,"y");De(this,"active",!1);De(this,"options");De(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return af(this.x)&&af(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}De(Do,"defaults",{}),De(Do,"defaultRoutes");function $4(n,e){const t=n.options.ticks,r=B4(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?H4(e):[],l=o.length,u=o[0],h=o[l-1],f=[];if(l>i)return q4(e,f,o,l/i),f;const g=W4(o,e,i);if(l>0){let _,y;const x=l>1?Math.round((h-u)/(l-1)):null;for(ld(e,f,g,hn(x)?0:u-x,u),_=0,y=l-1;_<y;_++)ld(e,f,g,o[_],o[_+1]);return ld(e,f,g,h,hn(x)?e.length:h+x),f}return ld(e,f,g),f}function B4(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function W4(n,e,t){const r=K4(n),i=e.length/t;if(!r)return Math.max(i,1);const o=rL(r);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>i)return h}return Math.max(i,1)}function H4(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function q4(n,e,t,r){let i=0,o=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===o&&(e.push(n[l]),i++,o=t[i*r])}function ld(n,e,t,r,i){const o=Xe(r,0),l=Math.min(Xe(i,n.length),n.length);let u=0,h,f,g;for(t=Math.ceil(t),i&&(h=i-r,t=h/Math.floor(h/t)),g=o;g<0;)u++,g=Math.round(o+u*t);for(f=Math.max(o,0);f<l;f++)f===g&&(e.push(n[f]),u++,g=Math.round(o+u*t))}function K4(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const G4=n=>n==="left"?"right":n==="right"?"left":n,f1=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,p1=(n,e)=>Math.min(e||n,n);function g1(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function Y4(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(i),f;if(!(t&&(r===1?f=Math.max(h-o,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(i-1))/2,h+=i<e?f:-f,h<o-u||h>l+u)))return h}function Q4(n,e){Qe(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function pu(n){return n.drawTicks?n.tickLength:0}function m1(n,e){if(!n.display)return 0;const t=Rn(n.font,e),r=Ir(n.padding);return(Zt(n.text)?n.text.length:1)*t.lineHeight+r.height}function X4(n,e){return pl(n,{scale:e,type:"scale"})}function J4(n,e,t){return pl(n,{tick:t,index:e,type:"tick"})}function Z4(n,e,t){let r=xb(n);return(t&&e!=="right"||!t&&e==="right")&&(r=G4(r)),r}function eV(n,e,t,r){const{top:i,left:o,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:g}=h;let _=0,y,x,S;const T=l-i,A=u-o;if(n.isHorizontal()){if(x=zn(r,o,u),We(t)){const O=Object.keys(t)[0],V=t[O];S=g[O].getPixelForValue(V)+T-e}else t==="center"?S=(f.bottom+f.top)/2+T-e:S=f1(n,t,e);y=u-o}else{if(We(t)){const O=Object.keys(t)[0],V=t[O];x=g[O].getPixelForValue(V)-A+e}else t==="center"?x=(f.left+f.right)/2-A+e:x=f1(n,t,e);S=zn(r,l,i),_=t==="left"?-Lt:Lt}return{titleX:x,titleY:S,maxWidth:y,rotation:_}}class $f extends Do{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=jr(e,Number.POSITIVE_INFINITY),t=jr(t,Number.NEGATIVE_INFINITY),r=jr(r,Number.POSITIVE_INFINITY),i=jr(i,Number.NEGATIVE_INFINITY),{min:jr(e,r),max:jr(t,i),minDefined:Mi(e),maxDefined:Mi(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),o||(r=Math.max(r,l.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:jr(t,jr(r,t)),max:jr(r,jr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){st(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=DL(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?g1(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=$4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){st(this.options.afterUpdate,[this])}beforeSetDimensions(){st(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){st(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),st(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){st(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=st(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){st(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){st(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=p1(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let l=i,u,h,f;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),_=g.widest.width,y=g.highest.height,x=rr(this.chart.width-_,0,this.maxWidth);u=e.offset?this.maxWidth/r:x/(r-1),_+6>u&&(u=x/(r-(e.offset?.5:1)),h=this.maxHeight-pu(e.grid)-t.padding-m1(e.title,this.chart.options.font),f=Math.sqrt(_*_+y*y),l=sL(Math.min(Math.asin(rr((g.highest.height+6)/u,-1,1)),Math.asin(rr(h/f,-1,1))-Math.asin(rr(y/f,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){st(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){st(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=m1(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=pu(o)+h):(e.height=this.maxHeight,e.width=pu(o)+h),r.display&&this.ticks.length){const{first:f,last:g,widest:_,highest:y}=this._getLabelSizes(),x=r.padding*2,S=To(this.labelRotation),T=Math.cos(S),A=Math.sin(S);if(u){const O=r.mirror?0:A*_.width+T*y.height;e.height=Math.min(this.maxHeight,e.height+O+x)}else{const O=r.mirror?0:T*_.width+A*y.height;e.width=Math.min(this.maxWidth,e.width+O+x)}this._calculatePadding(f,g,A,T)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,x=0;h?f?(y=i*e.width,x=r*t.height):(y=r*e.height,x=i*t.width):o==="start"?x=t.width:o==="end"?y=e.width:o!=="inner"&&(y=e.width/2,x=t.width/2),this.paddingLeft=Math.max((y-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((x-_+l)*this.width/(this.width-_),0)}else{let g=t.height/2,_=e.height/2;o==="start"?(g=0,_=e.height):o==="end"&&(g=t.height,_=0),this.paddingTop=g+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){st(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)hn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=g1(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(t/p1(t,r));let f=0,g=0,_,y,x,S,T,A,O,V,$,G,L;for(_=0;_<t;_+=h){if(S=e[_].label,T=this._resolveTickFontOptions(_),i.font=A=T.string,O=o[A]=o[A]||{data:{},gc:[]},V=T.lineHeight,$=G=0,!hn(S)&&!Zt(S))$=GE(i,O.data,O.gc,$,S),G=V;else if(Zt(S))for(y=0,x=S.length;y<x;++y)L=S[y],!hn(L)&&!Zt(L)&&($=GE(i,O.data,O.gc,$,L),G+=V);l.push($),u.push(G),f=Math.max($,f),g=Math.max(G,g)}Q4(o,t);const Q=l.indexOf(f),I=u.indexOf(g),b=C=>({width:l[C]||0,height:u[C]||0});return{first:b(0),last:b(t-1),widest:b(Q),highest:b(I),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return aL(this._alignToPixels?mo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=J4(this.getContext(),e,r))}return this.$context||(this.$context=X4(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=To(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*r>u*i?u/r:h/i:h*i<u*r?h/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:u}=i,h=o.offset,f=this.isHorizontal(),_=this.ticks.length+(h?1:0),y=pu(o),x=[],S=u.setContext(this.getContext()),T=S.display?S.width:0,A=T/2,O=function(Ce){return mo(r,Ce,T)};let V,$,G,L,Q,I,b,C,P,M,F,D;if(l==="top")V=O(this.bottom),I=this.bottom-y,C=V-A,M=O(e.top)+A,D=e.bottom;else if(l==="bottom")V=O(this.top),M=e.top,D=O(e.bottom)-A,I=V+A,C=this.top+y;else if(l==="left")V=O(this.right),Q=this.right-y,b=V-A,P=O(e.left)+A,F=e.right;else if(l==="right")V=O(this.left),P=e.left,F=O(e.right)-A,Q=V+A,b=this.left+y;else if(t==="x"){if(l==="center")V=O((e.top+e.bottom)/2+.5);else if(We(l)){const Ce=Object.keys(l)[0],_e=l[Ce];V=O(this.chart.scales[Ce].getPixelForValue(_e))}M=e.top,D=e.bottom,I=V+A,C=I+y}else if(t==="y"){if(l==="center")V=O((e.left+e.right)/2);else if(We(l)){const Ce=Object.keys(l)[0],_e=l[Ce];V=O(this.chart.scales[Ce].getPixelForValue(_e))}Q=V-A,b=Q-y,P=e.left,F=e.right}const Ee=Xe(i.ticks.maxTicksLimit,_),ye=Math.max(1,Math.ceil(_/Ee));for($=0;$<_;$+=ye){const Ce=this.getContext($),_e=o.setContext(Ce),ie=u.setContext(Ce),le=_e.lineWidth,j=_e.color,J=ie.dash||[],ae=ie.dashOffset,ge=_e.tickWidth,Te=_e.tickColor,Oe=_e.tickBorderDash||[],ve=_e.tickBorderDashOffset;G=Y4(this,$,h),G!==void 0&&(L=mo(r,G,le),f?Q=b=P=F=L:I=C=M=D=L,x.push({tx1:Q,ty1:I,tx2:b,ty2:C,x1:P,y1:M,x2:F,y2:D,width:le,color:j,borderDash:J,borderDashOffset:ae,tickWidth:ge,tickColor:Te,tickBorderDash:Oe,tickBorderDashOffset:ve}))}return this._ticksLength=_,this._borderValue=V,x}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:_}=o,y=pu(r.grid),x=y+g,S=_?-g:x,T=-To(this.labelRotation),A=[];let O,V,$,G,L,Q,I,b,C,P,M,F,D="middle";if(i==="top")Q=this.bottom-S,I=this._getXAxisLabelAlignment();else if(i==="bottom")Q=this.top+S,I=this._getXAxisLabelAlignment();else if(i==="left"){const ye=this._getYAxisLabelAlignment(y);I=ye.textAlign,L=ye.x}else if(i==="right"){const ye=this._getYAxisLabelAlignment(y);I=ye.textAlign,L=ye.x}else if(t==="x"){if(i==="center")Q=(e.top+e.bottom)/2+x;else if(We(i)){const ye=Object.keys(i)[0],Ce=i[ye];Q=this.chart.scales[ye].getPixelForValue(Ce)+x}I=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")L=(e.left+e.right)/2-x;else if(We(i)){const ye=Object.keys(i)[0],Ce=i[ye];L=this.chart.scales[ye].getPixelForValue(Ce)}I=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(h==="start"?D="top":h==="end"&&(D="bottom"));const Ee=this._getLabelSizes();for(O=0,V=u.length;O<V;++O){$=u[O],G=$.label;const ye=o.setContext(this.getContext(O));b=this.getPixelForTick(O)+o.labelOffset,C=this._resolveTickFontOptions(O),P=C.lineHeight,M=Zt(G)?G.length:1;const Ce=M/2,_e=ye.color,ie=ye.textStrokeColor,le=ye.textStrokeWidth;let j=I;l?(L=b,I==="inner"&&(O===V-1?j=this.options.reverse?"left":"right":O===0?j=this.options.reverse?"right":"left":j="center"),i==="top"?f==="near"||T!==0?F=-M*P+P/2:f==="center"?F=-Ee.highest.height/2-Ce*P+P:F=-Ee.highest.height+P/2:f==="near"||T!==0?F=P/2:f==="center"?F=Ee.highest.height/2-Ce*P:F=Ee.highest.height-M*P,_&&(F*=-1),T!==0&&!ye.showLabelBackdrop&&(L+=P/2*Math.sin(T))):(Q=b,F=(1-M)*P/2);let J;if(ye.showLabelBackdrop){const ae=Ir(ye.backdropPadding),ge=Ee.heights[O],Te=Ee.widths[O];let Oe=F-ae.top,ve=0-ae.left;switch(D){case"middle":Oe-=ge/2;break;case"bottom":Oe-=ge;break}switch(I){case"center":ve-=Te/2;break;case"right":ve-=Te;break;case"inner":O===V-1?ve-=Te:O>0&&(ve-=Te/2);break}J={left:ve,top:Oe,width:Te+ae.width,height:ge+ae.height,color:ye.backdropColor}}A.push({label:G,font:C,textOffset:F,options:{rotation:T,color:_e,strokeColor:ie,strokeWidth:le,textAlign:j,textBaseline:D,translation:[L,Q],backdrop:J}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-To(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,h=l.widest.width;let f,g;return t==="left"?i?(g=this.right+o,r==="near"?f="left":r==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,r==="near"?f="right":r==="center"?(f="center",g-=h/2):(f="left",g=this.left)):t==="right"?i?(g=this.left+o,r==="near"?f="right":r==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,r==="near"?f="left":r==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(h,f,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(o=0,l=i.length;o<l;++o){const h=i[o];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,_,y;this.isHorizontal()?(f=mo(e,this.left,l)-l/2,g=mo(e,this.right,u)+u/2,_=y=h):(_=mo(e,this.top,l)-l/2,y=mo(e,this.bottom,u)+u/2,f=g=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,_),t.lineTo(g,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&p_(r,i);const o=this.getLabelItems(e);for(const l of o){const u=l.options,h=l.font,f=l.label,g=l.textOffset;uf(r,f,0,g,h,u)}i&&g_(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=Rn(r.font),l=Ir(r.padding),u=r.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||We(t)?(h+=l.bottom,Zt(r.text)&&(h+=o.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:_,rotation:y}=eV(this,h,t,u);uf(e,r.text,0,0,o,{color:r.color,maxWidth:_,rotation:y,textAlign:Z4(u,t,i),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Xe(e.grid&&e.grid.z,-1),i=Xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$f.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=t.length;o<l;++o){const u=t[o];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Rn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ud{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;rV(t)&&(r=this.register(t));const i=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,tV(e,l,r),this.override&&St.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in St[i]&&(delete St[i][r],this.override&&delete Oo[r])}}function tV(n,e,t){const r=tc(Object.create(null),[t?St.get(t):{},St.get(e),n.defaults]);St.set(e,r),n.defaultRoutes&&nV(e,n.defaultRoutes),n.descriptors&&St.describe(e,n.descriptors)}function nV(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");St.route(o,i,h,u)})}function rV(n){return"id"in n&&"defaults"in n}class iV{constructor(){this.controllers=new ud($u,"datasets",!0),this.elements=new ud(Do,"elements"),this.plugins=new ud(Object,"plugins"),this.scales=new ud($f,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Qe(i,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const i=d_(e);st(r["before"+i],[],r),t[e](r),st(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ur=new iV;class sV{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,r,i){i=i||{};for(const o of e){const l=o.plugin,u=l[r],h=[t,i,o.options];if(st(u,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){hn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Xe(r.options&&r.options.plugins,{}),o=oV(r);return i===!1&&!t?[]:lV(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function oV(n){const e={},t=[],r=Object.keys(Ur.plugins.items);for(let o=0;o<r.length;o++)t.push(Ur.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function aV(n,e){return!e&&n===!1?null:n===!0?{}:n}function lV(n,{plugins:e,localIds:t},r,i){const o=[],l=n.getContext();for(const u of e){const h=u.id,f=aV(r[h],i);f!==null&&o.push({plugin:u,options:uV(n.config,{plugin:u,local:t[h]},f,l)})}return o}function uV(n,{plugin:e,local:t},r,i){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(r,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ym(n,e){const t=St.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function cV(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function hV(n,e){return n===e?"_index_":"_value_"}function y1(n){if(n==="x"||n==="y"||n==="r")return n}function dV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Qm(n,...e){if(y1(n))return n;for(const t of e){const r=t.axis||dV(t.position)||n.length>1&&y1(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function _1(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function fV(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return _1(n,"x",t[0])||_1(n,"y",t[0])}return{}}function pV(n,e){const t=Oo[n.type]||{scales:{}},r=e.scales||{},i=Ym(n.type,e),o=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!We(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Qm(l,u,fV(l,n),St.scales[u.type]),f=hV(h,i),g=t.scales||{};o[l]=Fu(Object.create(null),[{axis:h},u,g[h],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Ym(u,e),g=(Oo[u]||{}).scales||{};Object.keys(g).forEach(_=>{const y=cV(_,h),x=l[y+"AxisID"]||y;o[x]=o[x]||Object.create(null),Fu(o[x],[{axis:y},r[x],g[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];Fu(u,[St.scales[u.type],St.scale])}),o}function zb(n){const e=n.options||(n.options={});e.plugins=Xe(e.plugins,{}),e.scales=pV(n,e)}function Ub(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function gV(n){return n=n||{},n.data=Ub(n.data),zb(n),n}const v1=new Map,$b=new Set;function cd(n,e){let t=v1.get(n);return t||(t=e(),v1.set(n,t),$b.add(t)),t}const gu=(n,e,t)=>{const r=nc(e,t);r!==void 0&&n.add(r)};class mV{constructor(e){this._config=gV(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ub(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zb(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return cd(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return cd(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return cd(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(_=>gu(h,e,_))),g.forEach(_=>gu(h,i,_)),g.forEach(_=>gu(h,Oo[o]||{},_)),g.forEach(_=>gu(h,St,_)),g.forEach(_=>gu(h,qm,_))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),$b.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Oo[t]||{},St.datasets[t]||{},{type:t},St,qm]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=w1(this._resolverCache,e,i);let h=l;if(_V(l,t)){o.$shared=!1,r=Ps(r)?r():r;const f=this.createResolver(e,r,u);h=nl(l,r,f)}for(const f of t)o[f]=h[f];return o}createResolver(e,t,r=[""],i){const{resolver:o}=w1(this._resolverCache,e,r);return We(t)?nl(o,t,void 0,i):o}}function w1(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:y_(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,o)),o}const yV=n=>We(n)&&Object.getOwnPropertyNames(n).some(e=>Ps(n[e]));function _V(n,e){const{isScriptable:t,isIndexable:r}=Cb(n);for(const i of e){const o=t(i),l=r(i),u=(l||o)&&n[i];if(o&&(Ps(u)||yV(u))||l&&Zt(u))return!0}return!1}var vV="4.4.9";const wV=["top","bottom","left","right","chartArea"];function E1(n,e){return n==="top"||n==="bottom"||wV.indexOf(n)===-1&&e==="x"}function S1(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function x1(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),st(t&&t.onComplete,[n],e)}function EV(n){const e=n.chart,t=e.options.animation;st(t&&t.onProgress,[n],e)}function Bb(n){return w_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const kd={},T1=n=>{const e=Bb(n);return Object.values(kd).filter(t=>t.canvas===e).pop()};function SV(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const l=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=l)}}}function xV(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var us;let Bf=(us=class{static register(...e){Ur.add(...e),b1()}static unregister(...e){Ur.remove(...e),b1()}constructor(e,t){const r=this.config=new mV(t),i=Bb(e),o=T1(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||U4(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=YN(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dL(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],kd[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ei.listen(this,"complete",x1),Ei.listen(this,"progress",EV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return hn(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ur}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ZE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return YE(this.canvas,this.ctx),this}stop(){return Ei.stop(this),this}resize(e,t){Ei.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,o),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ZE(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),st(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Qe(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const u=t[l],h=Qm(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Qe(o,l=>{const u=l.options,h=u.id,f=Qm(h,u),g=Xe(u.type,l.dtype);(u.position===void 0||E1(u.position,f)!==E1(l.dposition))&&(u.position=l.dposition),i[h]=!0;let _=null;if(h in r&&r[h].type===g)_=r[h];else{const y=Ur.getScale(g);_=new y({id:h,type:g,ctx:this.ctx,chart:this}),r[_.id]=_}_.init(u,e)}),Qe(i,(l,u)=>{l||delete r[u]}),Qe(r,l=>{ys.configure(this,l,l.options),ys.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(S1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let l=this.getDatasetMeta(r);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=o.indexAxis||Ym(u,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=Ur.getController(u),{datasetElementType:f,dataElementType:g}=St.datasets[u];Object.assign(h,{dataElementType:Ur.getElement(g),datasetElementType:f&&Ur.getElement(f)}),l.controller=new h(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:_}=this.getDatasetMeta(f),y=!i&&o.indexOf(_)===-1;_.buildOrUpdateElements(y),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Qe(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(S1("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Qe(this.scales,e=>{ys.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!zE(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const l=r==="_removeElements"?-o:o;SV(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!zE(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ys.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Qe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Ps(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ei.has(this)?this.attached&&!Ei.running(this)&&Ei.start(this):(this.draw(),x1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=ZL(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&p_(t,i),e.controller.draw(),i&&g_(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ib(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const o=w4.modes[t];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=pl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,i);sf(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ei.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),YE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete kd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},i=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Qe(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},i=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Qe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Qe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,l,u,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!nf(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(h,f)=>h.filter(g=>!f.some(_=>g.datasetIndex===_.datasetIndex&&g.index===_.index)),l=o(t,e),u=r?e:o(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,l=t,u=this._getActiveElements(e,i,r,l),h=tL(e),f=xV(e,this._lastEvent,r,h);r&&(this._lastEvent=null,st(o.onHover,[e,u,this],this),h&&st(o.onClick,[e,u,this],this));const g=!nf(u,i);return(g||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=f,g}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}},De(us,"defaults",St),De(us,"instances",kd),De(us,"overrides",Oo),De(us,"registry",Ur),De(us,"version",vV),De(us,"getChart",T1),us);function b1(){return Qe(Bf.instances,n=>n._plugins.invalidate())}function TV(n,e,t){const{startAngle:r,pixelMargin:i,x:o,y:l,outerRadius:u,innerRadius:h}=e;let f=i/u;n.beginPath(),n.arc(o,l,u,r-f,t+f),h>i?(f=i/h,n.arc(o,l,h,t+f,r-f,!0)):n.arc(o,l,i,t+Lt,r-Lt),n.closePath(),n.clip()}function bV(n){return m_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function IV(n,e,t,r){const i=bV(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,r*e/2),u=h=>{const f=(t-Math.min(o,h))*r/2;return rr(h,0,Math.min(o,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:rr(i.innerStart,0,l),innerEnd:rr(i.innerEnd,0,l)}}function Aa(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function df(n,e,t,r,i,o){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:g}=e,_=Math.max(e.outerRadius+r+t-f,0),y=g>0?g+r+t+f:0;let x=0;const S=i-h;if(r){const ye=g>0?g-r:0,Ce=_>0?_-r:0,_e=(ye+Ce)/2,ie=_e!==0?S*_e/(_e+r):S;x=(S-ie)/2}const T=Math.max(.001,S*_-t/Wt)/_,A=(S-T)/2,O=h+A+x,V=i-A-x,{outerStart:$,outerEnd:G,innerStart:L,innerEnd:Q}=IV(e,y,_,V-O),I=_-$,b=_-G,C=O+$/I,P=V-G/b,M=y+L,F=y+Q,D=O+L/M,Ee=V-Q/F;if(n.beginPath(),o){const ye=(C+P)/2;if(n.arc(l,u,_,C,ye),n.arc(l,u,_,ye,P),G>0){const le=Aa(b,P,l,u);n.arc(le.x,le.y,G,P,V+Lt)}const Ce=Aa(F,V,l,u);if(n.lineTo(Ce.x,Ce.y),Q>0){const le=Aa(F,Ee,l,u);n.arc(le.x,le.y,Q,V+Lt,Ee+Math.PI)}const _e=(V-Q/y+(O+L/y))/2;if(n.arc(l,u,y,V-Q/y,_e,!0),n.arc(l,u,y,_e,O+L/y,!0),L>0){const le=Aa(M,D,l,u);n.arc(le.x,le.y,L,D+Math.PI,O-Lt)}const ie=Aa(I,O,l,u);if(n.lineTo(ie.x,ie.y),$>0){const le=Aa(I,C,l,u);n.arc(le.x,le.y,$,O-Lt,C)}}else{n.moveTo(l,u);const ye=Math.cos(C)*_+l,Ce=Math.sin(C)*_+u;n.lineTo(ye,Ce);const _e=Math.cos(P)*_+l,ie=Math.sin(P)*_+u;n.lineTo(_e,ie)}n.closePath()}function CV(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:u}=e;let h=e.endAngle;if(o){df(n,e,t,r,h,i);for(let f=0;f<o;++f)n.fill();isNaN(u)||(h=l+(u%At||At))}return df(n,e,t,r,h,i),n.fill(),h}function kV(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:g,borderDash:_,borderDashOffset:y}=h,x=h.borderAlign==="inner";if(!f)return;n.setLineDash(_||[]),n.lineDashOffset=y,x?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let S=e.endAngle;if(o){df(n,e,t,r,S,i);for(let T=0;T<o;++T)n.stroke();isNaN(u)||(S=l+(u%At||At))}x&&TV(n,e,S),o||(df(n,e,t,r,S,i),n.stroke())}class Ru extends Do{constructor(t){super();De(this,"circumference");De(this,"endAngle");De(this,"fullCircles");De(this,"innerRadius");De(this,"outerRadius");De(this,"pixelMargin");De(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const o=this.getProps(["x","y"],i),{angle:l,distance:u}=vb(o,{x:t,y:r}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,S=Xe(y,f-h),T=lf(l,h,f)&&h!==f,A=S>=At||T,O=Cu(u,g+x,_+x);return A&&O}getCenterPoint(t){const{x:r,y:i,startAngle:o,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,_=(o+l)/2,y=(u+h+g+f)/2;return{x:r+Math.cos(_)*y,y:i+Math.sin(_)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,o=(r.offset||0)/4,l=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>At?Math.floor(i/At):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(Wt,i||0)),g=o*f;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,CV(t,this,g,l,u),kV(t,this,g,l,u),t.restore()}}De(Ru,"id","arc"),De(Ru,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),De(Ru,"defaultRoutes",{backgroundColor:"backgroundColor"}),De(Ru,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const I1=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},AV=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class C1 extends Do{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=st(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Rn(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=I1(r,o);let f,g;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,o,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,i,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=i+u;let _=e;o.textAlign="left",o.textBaseline="middle";let y=-1,x=-g;return this.legendItems.forEach((S,T)=>{const A=r+t/2+o.measureText(S.text).width;(T===0||f[f.length-1]+A+2*u>l)&&(_+=g,f[f.length-(T>0?0:1)]=0,x+=g,y++),h[T]={left:0,top:x,row:y,width:A,height:i},f[f.length-1]+=A+u}),_}_fitCols(e,t,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let _=u,y=0,x=0,S=0,T=0;return this.legendItems.forEach((A,O)=>{const{itemWidth:V,itemHeight:$}=RV(r,t,o,A,i);O>0&&x+$+2*u>g&&(_+=y+u,f.push({width:y,height:x}),S+=y+u,T++,y=x=0),h[O]={left:S,top:x,col:T,width:V,height:$},y=Math.max(y,V),x+=$+u}),_+=y,f.push({width:y,height:x}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,l=Wa(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=zn(r,this.left+i,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=zn(r,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+e+i,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+i}else{let u=0,h=zn(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=zn(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;p_(e,this),this._draw(),g_(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:l}=e,u=St.color,h=Wa(e.rtl,this.left,this.width),f=Rn(l.font),{padding:g}=l,_=f.size,y=_/2;let x;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:S,boxHeight:T,itemHeight:A}=I1(l,_),O=function(Q,I,b){if(isNaN(S)||S<=0||isNaN(T)||T<0)return;i.save();const C=Xe(b.lineWidth,1);if(i.fillStyle=Xe(b.fillStyle,u),i.lineCap=Xe(b.lineCap,"butt"),i.lineDashOffset=Xe(b.lineDashOffset,0),i.lineJoin=Xe(b.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=Xe(b.strokeStyle,u),i.setLineDash(Xe(b.lineDash,[])),l.usePointStyle){const P={radius:T*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:C},M=h.xPlus(Q,S/2),F=I+y;bb(i,P,M,F,l.pointStyleWidth&&S)}else{const P=I+Math.max((_-T)/2,0),M=h.leftForLtr(Q,S),F=Uu(b.borderRadius);i.beginPath(),Object.values(F).some(D=>D!==0)?Km(i,{x:M,y:P,w:S,h:T,radius:F}):i.rect(M,P,S,T),i.fill(),C!==0&&i.stroke()}i.restore()},V=function(Q,I,b){uf(i,b.text,Q,I+A/2,f,{strikethrough:b.hidden,textAlign:h.textAlign(b.textAlign)})},$=this.isHorizontal(),G=this._computeTitleHeight();$?x={x:zn(o,this.left+g,this.right-r[0]),y:this.top+g+G,line:0}:x={x:this.left+g,y:zn(o,this.top+G+g,this.bottom-t[0].height),line:0},Pb(this.ctx,e.textDirection);const L=A+g;this.legendItems.forEach((Q,I)=>{i.strokeStyle=Q.fontColor,i.fillStyle=Q.fontColor;const b=i.measureText(Q.text).width,C=h.textAlign(Q.textAlign||(Q.textAlign=l.textAlign)),P=S+y+b;let M=x.x,F=x.y;h.setWidth(this.width),$?I>0&&M+P+g>this.right&&(F=x.y+=L,x.line++,M=x.x=zn(o,this.left+g,this.right-r[x.line])):I>0&&F+L>this.bottom&&(M=x.x=M+t[x.line].width+g,x.line++,F=x.y=zn(o,this.top+G+g,this.bottom-t[x.line].height));const D=h.x(M);if(O(D,F,Q),M=fL(C,M+S+y,$?M+P:this.right,e.rtl),V(h.x(M),F,Q),$)x.x+=P+g;else if(typeof Q.text!="string"){const Ee=f.lineHeight;x.y+=Wb(Q,Ee)+g}else x.y+=L}),Ob(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Rn(t.font),i=Ir(t.padding);if(!t.display)return;const o=Wa(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=r.size/2,f=i.top+h;let g,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),g=this.top+f,_=zn(e.align,_,this.right-y);else{const S=this.columnSizes.reduce((T,A)=>Math.max(T,A.height),0);g=f+zn(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const x=zn(u,_,_+y);l.textAlign=o.textAlign(xb(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,uf(l,t.text,x,g,r)}_computeTitleHeight(){const e=this.options.title,t=Rn(e.font),r=Ir(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(Cu(e,this.left,this.right)&&Cu(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Cu(e,i.left,i.left+i.width)&&Cu(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!DV(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=AV(i,r);i&&!o&&st(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&st(t.onHover,[e,r,this],this)}else r&&st(t.onClick,[e,r,this],this)}}function RV(n,e,t,r,i){const o=PV(r,n,e,t),l=OV(i,r,e.lineHeight);return{itemWidth:o,itemHeight:l}}function PV(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+r.measureText(i).width}function OV(n,e,t){let r=n;return typeof e.text!="string"&&(r=Wb(e,t)),r}function Wb(n,e){const t=n.text?n.text.length:0;return e*t}function DV(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var MV={id:"legend",_element:C1,start(n,e,t){const r=n.legend=new C1({ctx:n.ctx,options:t,chart:n});ys.configure(n,r,t),ys.addBox(n,r)},stop(n){ys.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;ys.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),g=Ir(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Pu={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();r.add(h.x),i+=h.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((u,h)=>u+h)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=oL(e,f);g<i&&(i=g,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function zr(n,e){return e&&(Zt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Si(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function NV(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:l,value:u}=o.getLabelAndValue(i);return{chart:n,label:l,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function k1(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:l,boxHeight:u}=e,h=Rn(e.bodyFont),f=Rn(e.titleFont),g=Rn(e.footerFont),_=o.length,y=i.length,x=r.length,S=Ir(e.padding);let T=S.height,A=0,O=r.reduce((G,L)=>G+L.before.length+L.lines.length+L.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,_&&(T+=_*f.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),O){const G=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;T+=x*G+(O-x)*h.lineHeight+(O-1)*e.bodySpacing}y&&(T+=e.footerMarginTop+y*g.lineHeight+(y-1)*e.footerSpacing);let V=0;const $=function(G){A=Math.max(A,t.measureText(G).width+V)};return t.save(),t.font=f.string,Qe(n.title,$),t.font=h.string,Qe(n.beforeBody.concat(n.afterBody),$),V=e.displayColors?l+2+e.boxPadding:0,Qe(r,G=>{Qe(G.before,$),Qe(G.lines,$),Qe(G.after,$)}),V=0,t.font=g.string,Qe(n.footer,$),t.restore(),A+=S.width,{width:A,height:T}}function LV(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function VV(n,e,t,r){const{x:i,width:o}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+o+l>e.width||n==="right"&&i-o-l<0)return!0}function FV(n,e,t,r){const{x:i,width:o}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return r==="center"?f=i<=(u+h)/2?"left":"right":i<=o/2?f="left":i>=l-o/2&&(f="right"),VV(f,n,e,t)&&(f="center"),f}function A1(n,e,t){const r=t.yAlign||e.yAlign||LV(n,t);return{xAlign:t.xAlign||e.xAlign||FV(n,e,t,r),yAlign:r}}function jV(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function zV(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function R1(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=i+o,{topLeft:g,topRight:_,bottomLeft:y,bottomRight:x}=Uu(l);let S=jV(e,u);const T=zV(e,h,f);return h==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(g,y)+i:u==="right"&&(S+=Math.max(_,x)+i),{x:rr(S,0,r.width-e.width),y:rr(T,0,r.height-e.height)}}function hd(n,e,t){const r=Ir(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function P1(n){return zr([],Si(n))}function UV(n,e,t){return pl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function O1(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Hb={beforeTitle:wi,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:wi,beforeBody:wi,beforeLabel:wi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return hn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:wi,afterBody:wi,beforeFooter:wi,footer:wi,afterFooter:wi};function In(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?Hb[e].call(t,r):i}class Xm extends Do{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new Db(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=UV(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=In(r,"beforeTitle",this,e),o=In(r,"title",this,e),l=In(r,"afterTitle",this,e);let u=[];return u=zr(u,Si(i)),u=zr(u,Si(o)),u=zr(u,Si(l)),u}getBeforeBody(e,t){return P1(In(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Qe(e,o=>{const l={before:[],lines:[],after:[]},u=O1(r,o);zr(l.before,Si(In(u,"beforeLabel",this,o))),zr(l.lines,In(u,"label",this,o)),zr(l.after,Si(In(u,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(e,t){return P1(In(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=In(r,"beforeFooter",this,e),o=In(r,"footer",this,e),l=In(r,"afterFooter",this,e);let u=[];return u=zr(u,Si(i)),u=zr(u,Si(o)),u=zr(u,Si(l)),u}_createItems(e){const t=this._active,r=this.chart.data,i=[],o=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(NV(this.chart,t[h]));return e.filter&&(u=u.filter((g,_,y)=>e.filter(g,_,y,r))),e.itemSort&&(u=u.sort((g,_)=>e.itemSort(g,_,r))),Qe(u,g=>{const _=O1(e.callbacks,g);i.push(In(_,"labelColor",this,g)),o.push(In(_,"labelPointStyle",this,g)),l.push(In(_,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const u=Pu[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=k1(this,r),f=Object.assign({},u,h),g=A1(this.chart,r,f),_=R1(r,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:_.x,y:_.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const o=this.getCaretPosition(e,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:_}=Uu(u),{x:y,y:x}=e,{width:S,height:T}=t;let A,O,V,$,G,L;return o==="center"?(G=x+T/2,i==="left"?(A=y,O=A-l,$=G+l,L=G-l):(A=y+S,O=A+l,$=G-l,L=G+l),V=A):(i==="left"?O=y+Math.max(h,g)+l:i==="right"?O=y+S-Math.max(f,_)-l:O=this.caretX,o==="top"?($=x,G=$-l,A=O-l,V=O+l):($=x+T,G=$+l,A=O+l,V=O-l),L=$),{x1:A,x2:O,x3:V,y1:$,y2:G,y3:L}}drawTitle(e,t,r){const i=this.title,o=i.length;let l,u,h;if(o){const f=Wa(r.rtl,this.x,this.width);for(e.x=hd(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=Rn(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(i[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===o&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,i,o){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:h,boxWidth:f}=o,g=Rn(o.bodyFont),_=hd(this,"left",o),y=i.x(_),x=h<g.lineHeight?(g.lineHeight-h)/2:0,S=t.y+x;if(o.usePointStyle){const T={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=i.leftForLtr(y,f)+f/2,O=S+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,QE(e,T,A,O),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,QE(e,T,A,O)}else{e.lineWidth=We(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const T=i.leftForLtr(y,f),A=i.leftForLtr(i.xPlus(y,1),f-2),O=Uu(l.borderRadius);Object.values(O).some(V=>V!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Km(e,{x:T,y:S,w:f,h,radius:O}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Km(e,{x:A,y:S+1,w:f-2,h:h-2,radius:O}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(T,S,f,h),e.strokeRect(T,S,f,h),e.fillStyle=l.backgroundColor,e.fillRect(A,S+1,f-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=r,_=Rn(r.bodyFont);let y=_.lineHeight,x=0;const S=Wa(r.rtl,this.x,this.width),T=function(b){t.fillText(b,S.x(e.x+x),e.y+y/2),e.y+=y+o},A=S.textAlign(l);let O,V,$,G,L,Q,I;for(t.textAlign=l,t.textBaseline="middle",t.font=_.string,e.x=hd(this,A,r),t.fillStyle=r.bodyColor,Qe(this.beforeBody,T),x=u&&A!=="right"?l==="center"?f/2+g:f+2+g:0,G=0,Q=i.length;G<Q;++G){for(O=i[G],V=this.labelTextColors[G],t.fillStyle=V,Qe(O.before,T),$=O.lines,u&&$.length&&(this._drawColorBox(t,e,G,S,r),y=Math.max(_.lineHeight,h)),L=0,I=$.length;L<I;++L)T($[L]),y=_.lineHeight;Qe(O.after,T)}x=0,y=_.lineHeight,Qe(this.afterBody,T),e.y-=o}drawFooter(e,t,r){const i=this.footer,o=i.length;let l,u;if(o){const h=Wa(r.rtl,this.x,this.width);for(e.x=hd(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",l=Rn(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<o;++u)t.fillText(i[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:g}=r,{topLeft:_,topRight:y,bottomLeft:x,bottomRight:S}=Uu(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+_,h),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(u+f-y,h),t.quadraticCurveTo(u+f,h,u+f,h+y),l==="center"&&o==="right"&&this.drawCaret(e,t,r,i),t.lineTo(u+f,h+g-S),t.quadraticCurveTo(u+f,h+g,u+f-S,h+g),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(u+x,h+g),t.quadraticCurveTo(u,h+g,u,h+g-x),l==="center"&&o==="left"&&this.drawCaret(e,t,r,i),t.lineTo(u,h+_),t.quadraticCurveTo(u,h,u+_,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=Pu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=k1(this,e),h=Object.assign({},l,this._size),f=A1(t,e,h),g=R1(e,h,f,t);(i._to!==g.x||o._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Ir(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,t),Pb(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Ob(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),o=!nf(r,i),l=this._positionChanged(i,t);(o||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,r),u=this._positionChanged(l,e),h=t||!nf(l,o)||u;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:o}=this,l=Pu[o.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}De(Xm,"positioners",Pu);var $V={id:"tooltip",_element:Xm,positioners:Pu,afterInit(n,e,t){t&&(n.tooltip=new Xm({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Hb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Wf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(Wf);function D1(n,e){return n-e}function M1(n,e){if(hn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Mi(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(af(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,i)),+l)}function N1(n,e,t,r){const i=An.length;for(let o=An.indexOf(n);o<i-1;++o){const l=Wf[An[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return An[o]}return An[i-1]}function BV(n,e,t,r,i){for(let o=An.length-1;o>=An.indexOf(t);o--){const l=An[o];if(Wf[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return An[t?An.indexOf(t):0]}function WV(n){for(let e=An.indexOf(n)+1,t=An.length;e<t;++e)if(Wf[An[e]].common)return An[e]}function L1(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=f_(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function HV(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),l=e[e.length-1].value;let u,h;for(u=o;u<=l;u=+i.add(u,1,r))h=t[u],h>=0&&(e[h].major=!0);return e}function V1(n,e,t){const r=[],i={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],i[u]=l,r.push({value:u,major:!1});return o===0||!t?r:HV(n,r,i,t)}class ff extends $f{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new g4._date(e.adapters.date);i.init(t),Fu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:M1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Mi(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=Mi(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,u=uL(i,o,l);return this._unit=t.unit||(r.autoSkip?N1(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):BV(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:WV(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),V1(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=rr(t,0,l),r=rr(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||N1(o.minUnit,t,r,this._getLabelCapacity(t)),u=Xe(i.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,f=af(h)||h===!0,g={};let _=t,y,x;if(f&&(_=+e.startOf(_,"isoWeek",h)),_=+e.startOf(_,f?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const S=i.ticks.source==="data"&&this.getDataTimestamps();for(y=_,x=0;y<r;y=+e.add(y,u,l),x++)L1(g,y,S);return(y===r||i.bounds==="ticks"||x===1)&&L1(g,y,S),Object.keys(g).sort(D1).map(T=>+T)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,l=t||i[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const o=this.options,l=o.ticks.callback;if(l)return st(l,[e,t,r],this);const u=o.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],_=f&&u[f],y=r[t],x=f&&_&&y&&y.major;return this._adapter.format(e,i||(x?_:g))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=To(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*o+u*l,h:r*l+u*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,V1(this,[e],this._majorUnit),i),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(M1(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hL(e.sort(D1))}}De(ff,"id","time"),De(ff,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function dd(n,e,t){let r=0,i=n.length-1,o,l,u,h;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Hm(n,"pos",e)),{pos:o,time:u}=n[r],{pos:l,time:h}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Hm(n,"time",e)),{time:o,pos:u}=n[r],{time:l,pos:h}=n[i]);const f=l-o;return f?u+(h-u)*(e-o)/f:u}class F1 extends ff{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=dd(t,this.min),this._tableRange=dd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let l,u,h,f,g;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=r&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=i.length;l<u;++l)g=i[l+1],h=i[l-1],f=i[l],Math.round((g+h)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(dd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return dd(this._table,r*this._tableRange+this._minPos,!0)}}De(F1,"id","timeseries"),De(F1,"defaults",ff.defaults);const qb="label";function j1(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function qV(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Kb(n,e){n.labels=e}function Gb(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qb;const r=[];n.datasets=e.map(i=>{const o=n.datasets.find(l=>l[t]===i[t]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function KV(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qb;const t={labels:[],datasets:[]};return Kb(t,n.labels),Gb(t,n.datasets,e),t}function GV(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:_,...y}=n,x=U.useRef(null),S=U.useRef(null),T=()=>{x.current&&(S.current=new Bf(x.current,{type:l,data:KV(u,o),options:h&&{...h},plugins:f}),j1(e,S.current))},A=()=>{j1(e,null),S.current&&(S.current.destroy(),S.current=null)};return U.useEffect(()=>{!i&&S.current&&h&&qV(S.current,h)},[i,h]),U.useEffect(()=>{!i&&S.current&&Kb(S.current.config.data,u.labels)},[i,u.labels]),U.useEffect(()=>{!i&&S.current&&u.datasets&&Gb(S.current.config.data,u.datasets,o)},[i,u.datasets]),U.useEffect(()=>{S.current&&(i?(A(),setTimeout(T)):S.current.update(_))},[i,h,u.labels,u.datasets,_]),U.useEffect(()=>{S.current&&(A(),setTimeout(T))},[l]),U.useEffect(()=>(T(),()=>A()),[]),cc.createElement("canvas",{ref:x,role:"img",height:t,width:r,...y},g)}const YV=U.forwardRef(GV);function QV(n,e){return Bf.register(e),U.forwardRef((t,r)=>cc.createElement(YV,{...t,ref:r,type:n}))}const XV=QV("pie",Gm);Bf.register(Ru,$V,MV);const JV=({data:n,options:e})=>{const{colors:t}=ti();return W.jsx("div",{style:{backgroundColor:t.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:"24px",fontFamily:"'Outfit', sans-serif",color:t.text,display:"flex",justifyContent:"center",alignItems:"center"},children:W.jsx(XV,{data:n,options:e})})};var im={exports:{}},z1;function Hf(){return z1||(z1=1,function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(im)),im.exports}var sm={};function Je(){return Je=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Je.apply(null,arguments)}function ps(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Yb(n){if(U.isValidElement(n)||!ps(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Yb(n[t])}),e}function Qr(n,e,t={clone:!0}){const r=t.clone?Je({},n):n;return ps(n)&&ps(e)&&Object.keys(e).forEach(i=>{U.isValidElement(e[i])?r[i]=e[i]:ps(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&ps(n[i])?r[i]=Qr(n[i],e[i],t):t.clone?r[i]=ps(e[i])?Yb(e[i]):e[i]:r[i]=e[i]}),r}const ZV=Object.freeze(Object.defineProperty({__proto__:null,default:Qr,isPlainObject:ps},Symbol.toStringTag,{value:"Module"}));function ic(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}const e5=Object.freeze(Object.defineProperty({__proto__:null,default:ic},Symbol.toStringTag,{value:"Module"}));var om={exports:{}},Ze={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function t5(){if(U1)return Ze;U1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(T){if(typeof T=="object"&&T!==null){var A=T.$$typeof;switch(A){case n:switch(T=T.type,T){case t:case i:case r:case h:case f:case y:return T;default:switch(T=T&&T.$$typeof,T){case l:case u:case _:case g:return T;case o:return T;default:return A}}case e:return A}}}return Ze.ContextConsumer=o,Ze.ContextProvider=l,Ze.Element=n,Ze.ForwardRef=u,Ze.Fragment=t,Ze.Lazy=_,Ze.Memo=g,Ze.Portal=e,Ze.Profiler=i,Ze.StrictMode=r,Ze.Suspense=h,Ze.SuspenseList=f,Ze.isContextConsumer=function(T){return S(T)===o},Ze.isContextProvider=function(T){return S(T)===l},Ze.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===n},Ze.isForwardRef=function(T){return S(T)===u},Ze.isFragment=function(T){return S(T)===t},Ze.isLazy=function(T){return S(T)===_},Ze.isMemo=function(T){return S(T)===g},Ze.isPortal=function(T){return S(T)===e},Ze.isProfiler=function(T){return S(T)===i},Ze.isStrictMode=function(T){return S(T)===r},Ze.isSuspense=function(T){return S(T)===h},Ze.isSuspenseList=function(T){return S(T)===f},Ze.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===t||T===i||T===r||T===h||T===f||typeof T=="object"&&T!==null&&(T.$$typeof===_||T.$$typeof===g||T.$$typeof===l||T.$$typeof===o||T.$$typeof===u||T.$$typeof===x||T.getModuleId!==void 0)},Ze.typeOf=S,Ze}var $1;function n5(){return $1||($1=1,om.exports=t5()),om.exports}var B1=n5();const r5=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Qb(n){const e=`${n}`.match(r5);return e&&e[1]||""}function Xb(n,e=""){return n.displayName||n.name||Qb(n)||e}function W1(n,e,t){const r=Xb(e);return n.displayName||(r!==""?`${t}(${r})`:t)}function i5(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return Xb(n,"Component");if(typeof n=="object")switch(n.$$typeof){case B1.ForwardRef:return W1(n,n.render,"ForwardRef");case B1.Memo:return W1(n,n.type,"memo");default:return}}}const s5=Object.freeze(Object.defineProperty({__proto__:null,default:i5,getFunctionName:Qb},Symbol.toStringTag,{value:"Module"}));function Os(n){if(typeof n!="string")throw new Error(ic(7));return n.charAt(0).toUpperCase()+n.slice(1)}const o5=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"}));function a5(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function l5(n,e=166){let t;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(o,e)}return r.clear=()=>{clearTimeout(t)},r}function u5(n,e){return()=>null}function c5(n,e){var t,r;return U.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Jb(n){return n&&n.ownerDocument||document}function h5(n){return Jb(n).defaultView||window}function d5(n,e){return()=>null}function Zb(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const eI=typeof window<"u"?U.useLayoutEffect:U.useEffect;let H1=0;function f5(n){const[e,t]=U.useState(n),r=n||e;return U.useEffect(()=>{e==null&&(H1+=1,t(`mui-${H1}`))},[e]),r}const q1=pm.useId;function p5(n){if(q1!==void 0){const e=q1();return n??e}return f5(n)}function g5(n,e,t,r,i){return null}function m5({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=U.useRef(n!==void 0),[o,l]=U.useState(e),u=i?n:o,h=U.useCallback(f=>{i||l(f)},[]);return[u,h]}function y5(n){const e=U.useRef(n);return eI(()=>{e.current=n}),U.useRef((...t)=>(0,e.current)(...t)).current}function _5(...n){return U.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{Zb(t,e)})},n)}class x_{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new x_}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}let qf=!0,Jm=!1;const v5=new x_,w5={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function E5(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&w5[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function S5(n){n.metaKey||n.altKey||n.ctrlKey||(qf=!0)}function am(){qf=!1}function x5(){this.visibilityState==="hidden"&&Jm&&(qf=!0)}function T5(n){n.addEventListener("keydown",S5,!0),n.addEventListener("mousedown",am,!0),n.addEventListener("pointerdown",am,!0),n.addEventListener("touchstart",am,!0),n.addEventListener("visibilitychange",x5,!0)}function b5(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return qf||E5(e)}function I5(){const n=U.useCallback(i=>{i!=null&&T5(i.ownerDocument)},[]),e=U.useRef(!1);function t(){return e.current?(Jm=!0,v5.start(100,()=>{Jm=!1}),e.current=!1,!0):!1}function r(i){return b5(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function Zm(n,e){const t=Je({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Je({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},o=e[r];t[r]={},!o||!Object.keys(o)?t[r]=i:!i||!Object.keys(i)?t[r]=o:(t[r]=Je({},o),Object.keys(i).forEach(l=>{t[r][l]=Zm(i[l],o[l])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function C5(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((o,l)=>{if(l){const u=e(l);u!==""&&o.push(u),t&&t[l]&&o.push(t[l])}return o},[]).join(" ")}),r}const K1=n=>n,k5=()=>{let n=K1;return{configure(e){n=e},generate(e){return n(e)},reset(){n=K1}}},tI=k5(),A5={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nI(n,e,t="Mui"){const r=A5[e];return r?`${t}-${r}`:`${tI.generate(n)}-${e}`}function R5(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=nI(n,i,t)}),r}function P5(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const O5=Object.freeze(Object.defineProperty({__proto__:null,default:P5},Symbol.toStringTag,{value:"Module"}));function Vs(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function rI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=rI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function D5(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=rI(n))&&(r&&(r+=" "),r+=e);return r}const M5=U.createContext(void 0);function N5(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?Zm(i.defaultProps,r):!i.styleOverrides&&!i.variants?Zm(i,r):r}function L5({props:n,name:e}){const t=U.useContext(M5);return N5({props:n,name:e,theme:{components:t}})}function V5(n){return L5(n)}var _o={},lm={exports:{}},G1;function F5(){return G1||(G1=1,function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(null,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(lm)),lm.exports}var um={exports:{}},Y1;function j5(){return Y1||(Y1=1,function(n){function e(t,r){if(t==null)return{};var i={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(r.indexOf(o)!==-1)continue;i[o]=t[o]}return i}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(um)),um.exports}function z5(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function U5(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $5=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(U5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=z5(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ln="-ms-",pf="-moz-",He="-webkit-",iI="comm",T_="rule",b_="decl",B5="@import",sI="@keyframes",W5="@layer",H5=Math.abs,Kf=String.fromCharCode,q5=Object.assign;function K5(n,e){return Xt(n,0)^45?(((e<<2^Xt(n,0))<<2^Xt(n,1))<<2^Xt(n,2))<<2^Xt(n,3):0}function oI(n){return n.trim()}function G5(n,e){return(n=e.exec(n))?n[0]:n}function qe(n,e,t){return n.replace(e,t)}function ey(n,e){return n.indexOf(e)}function Xt(n,e){return n.charCodeAt(e)|0}function sc(n,e,t){return n.slice(e,t)}function Br(n){return n.length}function I_(n){return n.length}function fd(n,e){return e.push(n),n}function Y5(n,e){return n.map(e).join("")}var Gf=1,rl=1,aI=0,Pn=0,Ct=0,gl="";function Yf(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Gf,column:rl,length:l,return:""}}function mu(n,e){return q5(Yf("",null,null,"",null,null,0),n,{length:-n.length},e)}function Q5(){return Ct}function X5(){return Ct=Pn>0?Xt(gl,--Pn):0,rl--,Ct===10&&(rl=1,Gf--),Ct}function Bn(){return Ct=Pn<aI?Xt(gl,Pn++):0,rl++,Ct===10&&(rl=1,Gf++),Ct}function Xr(){return Xt(gl,Pn)}function Ad(){return Pn}function Cc(n,e){return sc(gl,n,e)}function oc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lI(n){return Gf=rl=1,aI=Br(gl=n),Pn=0,[]}function uI(n){return gl="",n}function Rd(n){return oI(Cc(Pn-1,ty(n===91?n+2:n===40?n+1:n)))}function J5(n){for(;(Ct=Xr())&&Ct<33;)Bn();return oc(n)>2||oc(Ct)>3?"":" "}function Z5(n,e){for(;--e&&Bn()&&!(Ct<48||Ct>102||Ct>57&&Ct<65||Ct>70&&Ct<97););return Cc(n,Ad()+(e<6&&Xr()==32&&Bn()==32))}function ty(n){for(;Bn();)switch(Ct){case n:return Pn;case 34:case 39:n!==34&&n!==39&&ty(Ct);break;case 40:n===41&&ty(n);break;case 92:Bn();break}return Pn}function eF(n,e){for(;Bn()&&n+Ct!==57;)if(n+Ct===84&&Xr()===47)break;return"/*"+Cc(e,Pn-1)+"*"+Kf(n===47?n:Bn())}function tF(n){for(;!oc(Xr());)Bn();return Cc(n,Pn)}function nF(n){return uI(Pd("",null,null,null,[""],n=lI(n),0,[0],n))}function Pd(n,e,t,r,i,o,l,u,h){for(var f=0,g=0,_=l,y=0,x=0,S=0,T=1,A=1,O=1,V=0,$="",G=i,L=o,Q=r,I=$;A;)switch(S=V,V=Bn()){case 40:if(S!=108&&Xt(I,_-1)==58){ey(I+=qe(Rd(V),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:I+=Rd(V);break;case 9:case 10:case 13:case 32:I+=J5(S);break;case 92:I+=Z5(Ad()-1,7);continue;case 47:switch(Xr()){case 42:case 47:fd(rF(eF(Bn(),Ad()),e,t),h);break;default:I+="/"}break;case 123*T:u[f++]=Br(I)*O;case 125*T:case 59:case 0:switch(V){case 0:case 125:A=0;case 59+g:O==-1&&(I=qe(I,/\f/g,"")),x>0&&Br(I)-_&&fd(x>32?X1(I+";",r,t,_-1):X1(qe(I," ","")+";",r,t,_-2),h);break;case 59:I+=";";default:if(fd(Q=Q1(I,e,t,f,g,i,u,$,G=[],L=[],_),o),V===123)if(g===0)Pd(I,e,Q,Q,G,o,_,u,L);else switch(y===99&&Xt(I,3)===110?100:y){case 100:case 108:case 109:case 115:Pd(n,Q,Q,r&&fd(Q1(n,Q,Q,0,0,i,u,$,i,G=[],_),L),i,L,_,u,r?G:L);break;default:Pd(I,Q,Q,Q,[""],L,0,u,L)}}f=g=x=0,T=O=1,$=I="",_=l;break;case 58:_=1+Br(I),x=S;default:if(T<1){if(V==123)--T;else if(V==125&&T++==0&&X5()==125)continue}switch(I+=Kf(V),V*T){case 38:O=g>0?1:(I+="\f",-1);break;case 44:u[f++]=(Br(I)-1)*O,O=1;break;case 64:Xr()===45&&(I+=Rd(Bn())),y=Xr(),g=_=Br($=I+=tF(Ad())),V++;break;case 45:S===45&&Br(I)==2&&(T=0)}}return o}function Q1(n,e,t,r,i,o,l,u,h,f,g){for(var _=i-1,y=i===0?o:[""],x=I_(y),S=0,T=0,A=0;S<r;++S)for(var O=0,V=sc(n,_+1,_=H5(T=l[S])),$=n;O<x;++O)($=oI(T>0?y[O]+" "+V:qe(V,/&\f/g,y[O])))&&(h[A++]=$);return Yf(n,e,t,i===0?T_:u,h,f,g)}function rF(n,e,t){return Yf(n,e,t,iI,Kf(Q5()),sc(n,2,-2),0)}function X1(n,e,t,r){return Yf(n,e,t,b_,sc(n,0,r),sc(n,r+1,-1),r)}function Ha(n,e){for(var t="",r=I_(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function iF(n,e,t,r){switch(n.type){case W5:if(n.children.length)break;case B5:case b_:return n.return=n.return||n.value;case iI:return"";case sI:return n.return=n.value+"{"+Ha(n.children,r)+"}";case T_:n.value=n.props.join(",")}return Br(t=Ha(n.children,r))?n.return=n.value+"{"+t+"}":""}function sF(n){var e=I_(n);return function(t,r,i,o){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,o)||"";return l}}function oF(n){return function(e){e.root||(e=e.return)&&n(e)}}function cI(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var aF=function(e,t,r){for(var i=0,o=0;i=o,o=Xr(),i===38&&o===12&&(t[r]=1),!oc(o);)Bn();return Cc(e,Pn)},lF=function(e,t){var r=-1,i=44;do switch(oc(i)){case 0:i===38&&Xr()===12&&(t[r]=1),e[r]+=aF(Pn-1,t,r);break;case 2:e[r]+=Rd(i);break;case 4:if(i===44){e[++r]=Xr()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Kf(i)}while(i=Bn());return e},uF=function(e,t){return uI(lF(lI(e),t))},J1=new WeakMap,cF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!J1.get(r))&&!i){J1.set(e,!0);for(var o=[],l=uF(t,o),u=r.props,h=0,f=0;h<l.length;h++)for(var g=0;g<u.length;g++,f++)e.props[f]=o[h]?l[h].replace(/&\f/g,u[g]):u[g]+" "+l[h]}}},hF=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function hI(n,e){switch(K5(n,e)){case 5103:return He+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return He+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return He+n+pf+n+ln+n+n;case 6828:case 4268:return He+n+ln+n+n;case 6165:return He+n+ln+"flex-"+n+n;case 5187:return He+n+qe(n,/(\w+).+(:[^]+)/,He+"box-$1$2"+ln+"flex-$1$2")+n;case 5443:return He+n+ln+"flex-item-"+qe(n,/flex-|-self/,"")+n;case 4675:return He+n+ln+"flex-line-pack"+qe(n,/align-content|flex-|-self/,"")+n;case 5548:return He+n+ln+qe(n,"shrink","negative")+n;case 5292:return He+n+ln+qe(n,"basis","preferred-size")+n;case 6060:return He+"box-"+qe(n,"-grow","")+He+n+ln+qe(n,"grow","positive")+n;case 4554:return He+qe(n,/([^-])(transform)/g,"$1"+He+"$2")+n;case 6187:return qe(qe(qe(n,/(zoom-|grab)/,He+"$1"),/(image-set)/,He+"$1"),n,"")+n;case 5495:case 3959:return qe(n,/(image-set\([^]*)/,He+"$1$`$1");case 4968:return qe(qe(n,/(.+:)(flex-)?(.*)/,He+"box-pack:$3"+ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+He+n+n;case 4095:case 3583:case 4068:case 2532:return qe(n,/(.+)-inline(.+)/,He+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Br(n)-1-e>6)switch(Xt(n,e+1)){case 109:if(Xt(n,e+4)!==45)break;case 102:return qe(n,/(.+:)(.+)-([^]+)/,"$1"+He+"$2-$3$1"+pf+(Xt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~ey(n,"stretch")?hI(qe(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Xt(n,e+1)!==115)break;case 6444:switch(Xt(n,Br(n)-3-(~ey(n,"!important")&&10))){case 107:return qe(n,":",":"+He)+n;case 101:return qe(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+He+(Xt(n,14)===45?"inline-":"")+"box$3$1"+He+"$2$3$1"+ln+"$2box$3")+n}break;case 5936:switch(Xt(n,e+11)){case 114:return He+n+ln+qe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return He+n+ln+qe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return He+n+ln+qe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return He+n+ln+n+n}return n}var dF=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case b_:e.return=hI(e.value,e.length);break;case sI:return Ha([mu(e,{value:qe(e.value,"@","@"+He)})],i);case T_:if(e.length)return Y5(e.props,function(o){switch(G5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ha([mu(e,{props:[qe(o,/:(read-\w+)/,":"+pf+"$1")]})],i);case"::placeholder":return Ha([mu(e,{props:[qe(o,/:(plac\w+)/,":"+He+"input-$1")]}),mu(e,{props:[qe(o,/:(plac\w+)/,":"+pf+"$1")]}),mu(e,{props:[qe(o,/:(plac\w+)/,ln+"input-$1")]})],i)}return""})}},fF=[dF],dI=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var A=T.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||fF,o={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(T){for(var A=T.getAttribute("data-emotion").split(" "),O=1;O<A.length;O++)o[A[O]]=!0;u.push(T)});var h,f=[cF,hF];{var g,_=[iF,oF(function(T){g.insert(T)})],y=sF(f.concat(i,_)),x=function(A){return Ha(nF(A),y)};h=function(A,O,V,$){g=V,x(A?A+"{"+O.styles+"}":O.styles),$&&(S.inserted[O.name]=!0)}}var S={key:t,sheet:new $5({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:h};return S.sheet.hydrate(u),S},cm={exports:{}},Ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function pF(){if(Z1)return Ke;Z1=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,T=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,V=n?Symbol.for("react.scope"):60119;function $(L){if(typeof L=="object"&&L!==null){var Q=L.$$typeof;switch(Q){case e:switch(L=L.type,L){case h:case f:case r:case o:case i:case _:return L;default:switch(L=L&&L.$$typeof,L){case u:case g:case S:case x:case l:return L;default:return Q}}case t:return Q}}}function G(L){return $(L)===f}return Ke.AsyncMode=h,Ke.ConcurrentMode=f,Ke.ContextConsumer=u,Ke.ContextProvider=l,Ke.Element=e,Ke.ForwardRef=g,Ke.Fragment=r,Ke.Lazy=S,Ke.Memo=x,Ke.Portal=t,Ke.Profiler=o,Ke.StrictMode=i,Ke.Suspense=_,Ke.isAsyncMode=function(L){return G(L)||$(L)===h},Ke.isConcurrentMode=G,Ke.isContextConsumer=function(L){return $(L)===u},Ke.isContextProvider=function(L){return $(L)===l},Ke.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},Ke.isForwardRef=function(L){return $(L)===g},Ke.isFragment=function(L){return $(L)===r},Ke.isLazy=function(L){return $(L)===S},Ke.isMemo=function(L){return $(L)===x},Ke.isPortal=function(L){return $(L)===t},Ke.isProfiler=function(L){return $(L)===o},Ke.isStrictMode=function(L){return $(L)===i},Ke.isSuspense=function(L){return $(L)===_},Ke.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===r||L===f||L===o||L===i||L===_||L===y||typeof L=="object"&&L!==null&&(L.$$typeof===S||L.$$typeof===x||L.$$typeof===l||L.$$typeof===u||L.$$typeof===g||L.$$typeof===A||L.$$typeof===O||L.$$typeof===V||L.$$typeof===T)},Ke.typeOf=$,Ke}var eS;function gF(){return eS||(eS=1,cm.exports=pF()),cm.exports}var hm,tS;function mF(){if(tS)return hm;tS=1;var n=gF(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=i;function l(S){return n.isMemo(S)?i:o[S.$$typeof]||e}var u=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,y=Object.prototype;function x(S,T,A){if(typeof T!="string"){if(y){var O=_(T);O&&O!==y&&x(S,O,A)}var V=h(T);f&&(V=V.concat(f(T)));for(var $=l(S),G=l(T),L=0;L<V.length;++L){var Q=V[L];if(!t[Q]&&!(A&&A[Q])&&!(G&&G[Q])&&!($&&$[Q])){var I=g(T,Q);try{u(S,Q,I)}catch{}}}}return S}return hm=x,hm}mF();var yF=!0;function fI(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var C_=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||yF===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},k_=function(e,t,r){C_(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function _F(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var vF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wF=/[A-Z]|^ms/g,EF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pI=function(e){return e.charCodeAt(1)===45},nS=function(e){return e!=null&&typeof e!="boolean"},dm=cI(function(n){return pI(n)?n:n.replace(wF,"-$&").toLowerCase()}),rS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(EF,function(r,i,o){return Wr={name:i,styles:o,next:Wr},i})}return vF[e]!==1&&!pI(e)&&typeof t=="number"&&t!==0?t+"px":t};function ac(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Wr={name:i.name,styles:i.styles,next:Wr},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)Wr={name:l.name,styles:l.styles,next:Wr},l=l.next;var u=o.styles+";";return u}return SF(n,e,t)}case"function":{if(n!==void 0){var h=Wr,f=t(n);return Wr=h,ac(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function SF(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ac(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=o+"{"+e[u]+"}":nS(u)&&(r+=dm(o)+":"+rS(o,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var h=0;h<l.length;h++)nS(l[h])&&(r+=dm(o)+":"+rS(o,l[h])+";");else{var f=ac(n,e,l);switch(o){case"animation":case"animationName":{r+=dm(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var iS=/label:\s*([^\s;{]+)\s*(;|$)/g,Wr;function Qf(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Wr=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=ac(t,e,o);else{var l=o;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=ac(t,e,n[u]),r){var h=o;i+=h[u]}iS.lastIndex=0;for(var f="",g;(g=iS.exec(i))!==null;)f+="-"+g[1];var _=_F(i)+f;return{name:_,styles:i,next:Wr}}var xF=function(e){return e()},gI=pm.useInsertionEffect?pm.useInsertionEffect:!1,mI=gI||xF,sS=gI||U.useLayoutEffect,yI=U.createContext(typeof HTMLElement<"u"?dI({key:"css"}):null),TF=yI.Provider,A_=function(e){return U.forwardRef(function(t,r){var i=U.useContext(yI);return e(t,i,r)})},Xf=U.createContext({}),R_={}.hasOwnProperty,ny="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bF=function(e,t){var r={};for(var i in t)R_.call(t,i)&&(r[i]=t[i]);return r[ny]=e,r},IF=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return C_(t,r,i),mI(function(){return k_(t,r,i)}),null},CF=A_(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[ny],o=[r],l="";typeof n.className=="string"?l=fI(e.registered,o,n.className):n.className!=null&&(l=n.className+" ");var u=Qf(o,void 0,U.useContext(Xf));l+=e.key+"-"+u.name;var h={};for(var f in n)R_.call(n,f)&&f!=="css"&&f!==ny&&(h[f]=n[f]);return h.className=l,t&&(h.ref=t),U.createElement(U.Fragment,null,U.createElement(IF,{cache:e,serialized:u,isStringTag:typeof i=="string"}),U.createElement(i,h))}),kF=CF,oS=function(e,t){var r=arguments;if(t==null||!R_.call(t,"css"))return U.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=kF,o[1]=bF(e,t);for(var l=2;l<i;l++)o[l]=r[l];return U.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(oS||(oS={}));var AF=A_(function(n,e){var t=n.styles,r=Qf([t],void 0,U.useContext(Xf)),i=U.useRef();return sS(function(){var o=e.key+"-global",l=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,h=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),h!==null&&(u=!0,h.setAttribute("data-emotion",o),l.hydrate([h])),i.current=[l,u],function(){l.flush()}},[e]),sS(function(){var o=i.current,l=o[0],u=o[1];if(u){o[1]=!1;return}if(r.next!==void 0&&k_(e,r.next,!0),l.tags.length){var h=l.tags[l.tags.length-1].nextElementSibling;l.before=h,l.flush()}e.insert("",r,l,!1)},[e,r.name]),null});function _I(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Qf(e)}function RF(){var n=_I.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var PF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OF=cI(function(n){return PF.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),DF=OF,MF=function(e){return e!=="theme"},aS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?DF:MF},lS=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},NF=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return C_(t,r,i),mI(function(){return k_(t,r,i)}),null},LF=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var u=lS(e,t,r),h=u||aS(i),f=!h("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var y=g[0];_.push(y[0]);for(var x=g.length,S=1;S<x;S++)_.push(g[S],y[S])}var T=A_(function(A,O,V){var $=f&&A.as||i,G="",L=[],Q=A;if(A.theme==null){Q={};for(var I in A)Q[I]=A[I];Q.theme=U.useContext(Xf)}typeof A.className=="string"?G=fI(O.registered,L,A.className):A.className!=null&&(G=A.className+" ");var b=Qf(_.concat(L),O.registered,Q);G+=O.key+"-"+b.name,l!==void 0&&(G+=" "+l);var C=f&&u===void 0?aS($):h,P={};for(var M in A)f&&M==="as"||C(M)&&(P[M]=A[M]);return P.className=G,V&&(P.ref=V),U.createElement(U.Fragment,null,U.createElement(NF,{cache:O,serialized:b,isStringTag:typeof $=="string"}),U.createElement($,P))});return T.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",T.defaultProps=e.defaultProps,T.__emotion_real=T,T.__emotion_base=i,T.__emotion_styles=_,T.__emotion_forwardProp=u,Object.defineProperty(T,"toString",{value:function(){return"."+l}}),T.withComponent=function(A,O){var V=n(A,Je({},t,O,{shouldForwardProp:lS(T,O,!0)}));return V.apply(void 0,_)},T}},VF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ry=LF.bind(null);VF.forEach(function(n){ry[n]=ry(n)});let iy;typeof document=="object"&&(iy=dI({key:"css",prepend:!0}));function FF(n){const{injectFirst:e,children:t}=n;return e&&iy?W.jsx(TF,{value:iy,children:t}):t}function jF(n){return n==null||Object.keys(n).length===0}function zF(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(jF(i)?t:i):e;return W.jsx(AF,{styles:r})}function UF(n,e){return ry(n,e)}const $F=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},BF=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:zF,StyledEngineProvider:FF,ThemeContext:Xf,css:_I,default:UF,internal_processStyles:$F,keyframes:RF},Symbol.toStringTag,{value:"Module"})),WF=Li(BF),HF=Li(ZV),qF=Li(o5),KF=Li(s5),GF=["values","unit","step"],YF=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Je({},t,{[r.key]:r.val}),{})};function vI(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=Vs(n,GF),o=YF(e),l=Object.keys(o);function u(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function h(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-r/100}${t})`}function f(y,x){const S=l.indexOf(x);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(S!==-1&&typeof e[l[S]]=="number"?e[l[S]]:x)-r/100}${t})`}function g(y){return l.indexOf(y)+1<l.length?f(y,l[l.indexOf(y)+1]):u(y)}function _(y){const x=l.indexOf(y);return x===0?u(l[1]):x===l.length-1?h(l[x]):f(y,l[l.indexOf(y)+1]).replace("@media","@media not all and")}return Je({keys:l,values:o,up:u,down:h,between:f,only:g,not:_,unit:t},i)}const QF={borderRadius:4};function Bu(n,e){return e?Qr(n,e,{clone:!1}):n}const P_={xs:0,sm:600,md:900,lg:1200,xl:1536},uS={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${P_[n]}px)`};function Ni(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||uS;return e.reduce((l,u,h)=>(l[o.up(o.keys[h])]=t(e[h]),l),{})}if(typeof e=="object"){const o=r.breakpoints||uS;return Object.keys(e).reduce((l,u)=>{if(Object.keys(o.values||P_).indexOf(u)!==-1){const h=o.up(u);l[h]=t(e[u],u)}else{const h=u;l[h]=e[h]}return l},{})}return t(e)}function XF(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function JF(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Jf(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function gf(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Jf(n,t)||r,e&&(i=e(i,r,n)),i}function xt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const u=l[e],h=l.theme,f=Jf(h,r)||{};return Ni(l,u,_=>{let y=gf(f,i,_);return _===y&&typeof _=="string"&&(y=gf(f,i,`${e}${_==="default"?"":Os(_)}`,_)),t===!1?y:{[t]:y}})};return o.propTypes={},o.filterProps=[e],o}function ZF(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const e3={m:"margin",p:"padding"},t3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},n3=ZF(n=>{if(n.length>2)if(cS[n])n=cS[n];else return[n];const[e,t]=n.split(""),r=e3[e],i=t3[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),O_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],D_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...O_,...D_];function kc(n,e,t,r){var i;const o=(i=Jf(n,e,!1))!=null?i:t;return typeof o=="number"?l=>typeof l=="string"?l:o*l:Array.isArray(o)?l=>typeof l=="string"?l:o[l]:typeof o=="function"?o:()=>{}}function wI(n){return kc(n,"spacing",8)}function Ac(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function r3(n,e){return t=>n.reduce((r,i)=>(r[i]=Ac(e,t),r),{})}function i3(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=n3(t),o=r3(i,r),l=n[t];return Ni(n,l,o)}function EI(n,e){const t=wI(n.theme);return Object.keys(n).map(r=>i3(n,e,r,t)).reduce(Bu,{})}function yt(n){return EI(n,O_)}yt.propTypes={};yt.filterProps=O_;function _t(n){return EI(n,D_)}_t.propTypes={};_t.filterProps=D_;function s3(n=8){if(n.mui)return n;const e=wI({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function Zf(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Bu(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function nr(n){return typeof n!="number"?n:`${n}px solid`}function sr(n,e){return xt({prop:n,themeKey:"borders",transform:e})}const o3=sr("border",nr),a3=sr("borderTop",nr),l3=sr("borderRight",nr),u3=sr("borderBottom",nr),c3=sr("borderLeft",nr),h3=sr("borderColor"),d3=sr("borderTopColor"),f3=sr("borderRightColor"),p3=sr("borderBottomColor"),g3=sr("borderLeftColor"),m3=sr("outline",nr),y3=sr("outlineColor"),ep=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=kc(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ac(e,r)});return Ni(n,n.borderRadius,t)}return null};ep.propTypes={};ep.filterProps=["borderRadius"];Zf(o3,a3,l3,u3,c3,h3,d3,f3,p3,g3,ep,m3,y3);const tp=n=>{if(n.gap!==void 0&&n.gap!==null){const e=kc(n.theme,"spacing",8),t=r=>({gap:Ac(e,r)});return Ni(n,n.gap,t)}return null};tp.propTypes={};tp.filterProps=["gap"];const np=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=kc(n.theme,"spacing",8),t=r=>({columnGap:Ac(e,r)});return Ni(n,n.columnGap,t)}return null};np.propTypes={};np.filterProps=["columnGap"];const rp=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=kc(n.theme,"spacing",8),t=r=>({rowGap:Ac(e,r)});return Ni(n,n.rowGap,t)}return null};rp.propTypes={};rp.filterProps=["rowGap"];const _3=xt({prop:"gridColumn"}),v3=xt({prop:"gridRow"}),w3=xt({prop:"gridAutoFlow"}),E3=xt({prop:"gridAutoColumns"}),S3=xt({prop:"gridAutoRows"}),x3=xt({prop:"gridTemplateColumns"}),T3=xt({prop:"gridTemplateRows"}),b3=xt({prop:"gridTemplateAreas"}),I3=xt({prop:"gridArea"});Zf(tp,np,rp,_3,v3,w3,E3,S3,x3,T3,b3,I3);function qa(n,e){return e==="grey"?e:n}const C3=xt({prop:"color",themeKey:"palette",transform:qa}),k3=xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qa}),A3=xt({prop:"backgroundColor",themeKey:"palette",transform:qa});Zf(C3,k3,A3);function Un(n){return n<=1&&n!==0?`${n*100}%`:n}const R3=xt({prop:"width",transform:Un}),M_=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i;const o=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||P_[t];return o?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Un(t)}};return Ni(n,n.maxWidth,e)}return null};M_.filterProps=["maxWidth"];const P3=xt({prop:"minWidth",transform:Un}),O3=xt({prop:"height",transform:Un}),D3=xt({prop:"maxHeight",transform:Un}),M3=xt({prop:"minHeight",transform:Un});xt({prop:"size",cssProperty:"width",transform:Un});xt({prop:"size",cssProperty:"height",transform:Un});const N3=xt({prop:"boxSizing"});Zf(R3,M_,P3,O3,D3,M3,N3);const Rc={border:{themeKey:"borders",transform:nr},borderTop:{themeKey:"borders",transform:nr},borderRight:{themeKey:"borders",transform:nr},borderBottom:{themeKey:"borders",transform:nr},borderLeft:{themeKey:"borders",transform:nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ep},color:{themeKey:"palette",transform:qa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qa},backgroundColor:{themeKey:"palette",transform:qa},p:{style:_t},pt:{style:_t},pr:{style:_t},pb:{style:_t},pl:{style:_t},px:{style:_t},py:{style:_t},padding:{style:_t},paddingTop:{style:_t},paddingRight:{style:_t},paddingBottom:{style:_t},paddingLeft:{style:_t},paddingX:{style:_t},paddingY:{style:_t},paddingInline:{style:_t},paddingInlineStart:{style:_t},paddingInlineEnd:{style:_t},paddingBlock:{style:_t},paddingBlockStart:{style:_t},paddingBlockEnd:{style:_t},m:{style:yt},mt:{style:yt},mr:{style:yt},mb:{style:yt},ml:{style:yt},mx:{style:yt},my:{style:yt},margin:{style:yt},marginTop:{style:yt},marginRight:{style:yt},marginBottom:{style:yt},marginLeft:{style:yt},marginX:{style:yt},marginY:{style:yt},marginInline:{style:yt},marginInlineStart:{style:yt},marginInlineEnd:{style:yt},marginBlock:{style:yt},marginBlockStart:{style:yt},marginBlockEnd:{style:yt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:tp},rowGap:{style:rp},columnGap:{style:np},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Un},maxWidth:{style:M_},minWidth:{transform:Un},height:{transform:Un},maxHeight:{transform:Un},minHeight:{transform:Un},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function L3(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function V3(n,e){return typeof n=="function"?n(e):n}function SI(){function n(t,r,i,o){const l={[t]:r,theme:i},u=o[t];if(!u)return{[t]:r};const{cssProperty:h=t,themeKey:f,transform:g,style:_}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const y=Jf(i,f)||{};return _?_(l):Ni(l,r,S=>{let T=gf(y,g,S);return S===T&&typeof S=="string"&&(T=gf(y,g,`${t}${S==="default"?"":Os(S)}`,S)),h===!1?T:{[h]:T}})}function e(t){var r;const{sx:i,theme:o={}}=t||{};if(!i)return null;const l=(r=o.unstable_sxConfig)!=null?r:Rc;function u(h){let f=h;if(typeof h=="function")f=h(o);else if(typeof h!="object")return h;if(!f)return null;const g=XF(o.breakpoints),_=Object.keys(g);let y=g;return Object.keys(f).forEach(x=>{const S=V3(f[x],o);if(S!=null)if(typeof S=="object")if(l[x])y=Bu(y,n(x,S,o,l));else{const T=Ni({theme:o},S,A=>({[x]:A}));L3(T,S)?y[x]=e({sx:S,theme:o}):y=Bu(y,T)}else y=Bu(y,n(x,S,o,l))}),JF(_,y)}return Array.isArray(i)?i.map(u):u(i)}return e}const ip=SI();ip.filterProps=["sx"];function xI(n,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===n?e:{}}const F3=["breakpoints","palette","spacing","shape"];function TI(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={}}=n,l=Vs(n,F3),u=vI(t),h=s3(i);let f=Qr({breakpoints:u,direction:"ltr",components:{},palette:Je({mode:"light"},r),spacing:h,shape:Je({},QF,o)},l);return f.applyStyles=xI,f=e.reduce((g,_)=>Qr(g,_),f),f.unstable_sxConfig=Je({},Rc,l==null?void 0:l.unstable_sxConfig),f.unstable_sx=function(_){return ip({sx:_,theme:this})},f}const j3=Object.freeze(Object.defineProperty({__proto__:null,default:TI,private_createBreakpoints:vI,unstable_applyStyles:xI},Symbol.toStringTag,{value:"Module"})),z3=Li(j3),U3=["sx"],$3=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:Rc;return Object.keys(n).forEach(o=>{i[o]?r.systemProps[o]=n[o]:r.otherProps[o]=n[o]}),r};function B3(n){const{sx:e}=n,t=Vs(n,U3),{systemProps:r,otherProps:i}=$3(t);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...l)=>{const u=e(...l);return ps(u)?Je({},r,u):r}:o=Je({},r,e),Je({},i,{sx:o})}const W3=Object.freeze(Object.defineProperty({__proto__:null,default:ip,extendSxProp:B3,unstable_createStyleFunctionSx:SI,unstable_defaultSxConfig:Rc},Symbol.toStringTag,{value:"Module"})),H3=Li(W3);var hS;function q3(){if(hS)return _o;hS=1;var n=Hf();Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=G,_o.shouldForwardProp=S,_o.systemDefaultTheme=void 0;var e=n(F5()),t=n(j5()),r=_(WF),i=HF;n(qF),n(KF);var o=n(z3),l=n(H3);const u=["ownerState"],h=["variants"],f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function g(L){if(typeof WeakMap!="function")return null;var Q=new WeakMap,I=new WeakMap;return(g=function(b){return b?I:Q})(L)}function _(L,Q){if(L&&L.__esModule)return L;if(L===null||typeof L!="object"&&typeof L!="function")return{default:L};var I=g(Q);if(I&&I.has(L))return I.get(L);var b={__proto__:null},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in L)if(P!=="default"&&Object.prototype.hasOwnProperty.call(L,P)){var M=C?Object.getOwnPropertyDescriptor(L,P):null;M&&(M.get||M.set)?Object.defineProperty(b,P,M):b[P]=L[P]}return b.default=L,I&&I.set(L,b),b}function y(L){return Object.keys(L).length===0}function x(L){return typeof L=="string"&&L.charCodeAt(0)>96}function S(L){return L!=="ownerState"&&L!=="theme"&&L!=="sx"&&L!=="as"}const T=_o.systemDefaultTheme=(0,o.default)(),A=L=>L&&L.charAt(0).toLowerCase()+L.slice(1);function O({defaultTheme:L,theme:Q,themeId:I}){return y(Q)?L:Q[I]||Q}function V(L){return L?(Q,I)=>I[L]:null}function $(L,Q){let{ownerState:I}=Q,b=(0,t.default)(Q,u);const C=typeof L=="function"?L((0,e.default)({ownerState:I},b)):L;if(Array.isArray(C))return C.flatMap(P=>$(P,(0,e.default)({ownerState:I},b)));if(C&&typeof C=="object"&&Array.isArray(C.variants)){const{variants:P=[]}=C;let F=(0,t.default)(C,h);return P.forEach(D=>{let Ee=!0;typeof D.props=="function"?Ee=D.props((0,e.default)({ownerState:I},b,I)):Object.keys(D.props).forEach(ye=>{(I==null?void 0:I[ye])!==D.props[ye]&&b[ye]!==D.props[ye]&&(Ee=!1)}),Ee&&(Array.isArray(F)||(F=[F]),F.push(typeof D.style=="function"?D.style((0,e.default)({ownerState:I},b,I)):D.style))}),F}return C}function G(L={}){const{themeId:Q,defaultTheme:I=T,rootShouldForwardProp:b=S,slotShouldForwardProp:C=S}=L,P=M=>(0,l.default)((0,e.default)({},M,{theme:O((0,e.default)({},M,{defaultTheme:I,themeId:Q}))}));return P.__mui_systemSx=!0,(M,F={})=>{(0,r.internal_processStyles)(M,ve=>ve.filter(Pe=>!(Pe!=null&&Pe.__mui_systemSx)));const{name:D,slot:Ee,skipVariantsResolver:ye,skipSx:Ce,overridesResolver:_e=V(A(Ee))}=F,ie=(0,t.default)(F,f),le=ye!==void 0?ye:Ee&&Ee!=="Root"&&Ee!=="root"||!1,j=Ce||!1;let J,ae=S;Ee==="Root"||Ee==="root"?ae=b:Ee?ae=C:x(M)&&(ae=void 0);const ge=(0,r.default)(M,(0,e.default)({shouldForwardProp:ae,label:J},ie)),Te=ve=>typeof ve=="function"&&ve.__emotion_real!==ve||(0,i.isPlainObject)(ve)?Pe=>$(ve,(0,e.default)({},Pe,{theme:O({theme:Pe.theme,defaultTheme:I,themeId:Q})})):ve,Oe=(ve,...Pe)=>{let Le=Te(ve);const gt=Pe?Pe.map(Te):[];D&&_e&&gt.push(tn=>{const Rt=O((0,e.default)({},tn,{defaultTheme:I,themeId:Q}));if(!Rt.components||!Rt.components[D]||!Rt.components[D].styleOverrides)return null;const On=Rt.components[D].styleOverrides,or={};return Object.entries(On).forEach(([Fs,js])=>{or[Fs]=$(js,(0,e.default)({},tn,{theme:Rt}))}),_e(tn,or)}),D&&!le&&gt.push(tn=>{var Rt;const On=O((0,e.default)({},tn,{defaultTheme:I,themeId:Q})),or=On==null||(Rt=On.components)==null||(Rt=Rt[D])==null?void 0:Rt.variants;return $({variants:or},(0,e.default)({},tn,{theme:On}))}),j||gt.push(P);const ni=gt.length-Pe.length;if(Array.isArray(ve)&&ni>0){const tn=new Array(ni).fill("");Le=[...ve,...tn],Le.raw=[...ve.raw,...tn]}const Wn=ge(Le,...gt);return M.muiName&&(Wn.muiName=M.muiName),Wn};return ge.withConfig&&(Oe.withConfig=ge.withConfig),Oe}}return _o}var K3=q3();const G3=uc(K3);function Y3(n,e){return Je({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}var ft={};const Q3=Li(e5),X3=Li(O5);var dS;function J3(){if(dS)return ft;dS=1;var n=Hf();Object.defineProperty(ft,"__esModule",{value:!0}),ft.alpha=S,ft.blend=Q,ft.colorChannel=void 0,ft.darken=A,ft.decomposeColor=l,ft.emphasize=G,ft.getContrastRatio=x,ft.getLuminance=y,ft.hexToRgb=i,ft.hslToRgb=_,ft.lighten=V,ft.private_safeAlpha=T,ft.private_safeColorChannel=void 0,ft.private_safeDarken=O,ft.private_safeEmphasize=L,ft.private_safeLighten=$,ft.recomposeColor=f,ft.rgbToHex=g;var e=n(Q3),t=n(X3);function r(I,b=0,C=1){return(0,t.default)(I,b,C)}function i(I){I=I.slice(1);const b=new RegExp(`.{1,${I.length>=6?2:1}}`,"g");let C=I.match(b);return C&&C[0].length===1&&(C=C.map(P=>P+P)),C?`rgb${C.length===4?"a":""}(${C.map((P,M)=>M<3?parseInt(P,16):Math.round(parseInt(P,16)/255*1e3)/1e3).join(", ")})`:""}function o(I){const b=I.toString(16);return b.length===1?`0${b}`:b}function l(I){if(I.type)return I;if(I.charAt(0)==="#")return l(i(I));const b=I.indexOf("("),C=I.substring(0,b);if(["rgb","rgba","hsl","hsla","color"].indexOf(C)===-1)throw new Error((0,e.default)(9,I));let P=I.substring(b+1,I.length-1),M;if(C==="color"){if(P=P.split(" "),M=P.shift(),P.length===4&&P[3].charAt(0)==="/"&&(P[3]=P[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(M)===-1)throw new Error((0,e.default)(10,M))}else P=P.split(",");return P=P.map(F=>parseFloat(F)),{type:C,values:P,colorSpace:M}}const u=I=>{const b=l(I);return b.values.slice(0,3).map((C,P)=>b.type.indexOf("hsl")!==-1&&P!==0?`${C}%`:C).join(" ")};ft.colorChannel=u;const h=(I,b)=>{try{return u(I)}catch{return I}};ft.private_safeColorChannel=h;function f(I){const{type:b,colorSpace:C}=I;let{values:P}=I;return b.indexOf("rgb")!==-1?P=P.map((M,F)=>F<3?parseInt(M,10):M):b.indexOf("hsl")!==-1&&(P[1]=`${P[1]}%`,P[2]=`${P[2]}%`),b.indexOf("color")!==-1?P=`${C} ${P.join(" ")}`:P=`${P.join(", ")}`,`${b}(${P})`}function g(I){if(I.indexOf("#")===0)return I;const{values:b}=l(I);return`#${b.map((C,P)=>o(P===3?Math.round(255*C):C)).join("")}`}function _(I){I=l(I);const{values:b}=I,C=b[0],P=b[1]/100,M=b[2]/100,F=P*Math.min(M,1-M),D=(Ce,_e=(Ce+C/30)%12)=>M-F*Math.max(Math.min(_e-3,9-_e,1),-1);let Ee="rgb";const ye=[Math.round(D(0)*255),Math.round(D(8)*255),Math.round(D(4)*255)];return I.type==="hsla"&&(Ee+="a",ye.push(b[3])),f({type:Ee,values:ye})}function y(I){I=l(I);let b=I.type==="hsl"||I.type==="hsla"?l(_(I)).values:I.values;return b=b.map(C=>(I.type!=="color"&&(C/=255),C<=.03928?C/12.92:((C+.055)/1.055)**2.4)),Number((.2126*b[0]+.7152*b[1]+.0722*b[2]).toFixed(3))}function x(I,b){const C=y(I),P=y(b);return(Math.max(C,P)+.05)/(Math.min(C,P)+.05)}function S(I,b){return I=l(I),b=r(b),(I.type==="rgb"||I.type==="hsl")&&(I.type+="a"),I.type==="color"?I.values[3]=`/${b}`:I.values[3]=b,f(I)}function T(I,b,C){try{return S(I,b)}catch{return I}}function A(I,b){if(I=l(I),b=r(b),I.type.indexOf("hsl")!==-1)I.values[2]*=1-b;else if(I.type.indexOf("rgb")!==-1||I.type.indexOf("color")!==-1)for(let C=0;C<3;C+=1)I.values[C]*=1-b;return f(I)}function O(I,b,C){try{return A(I,b)}catch{return I}}function V(I,b){if(I=l(I),b=r(b),I.type.indexOf("hsl")!==-1)I.values[2]+=(100-I.values[2])*b;else if(I.type.indexOf("rgb")!==-1)for(let C=0;C<3;C+=1)I.values[C]+=(255-I.values[C])*b;else if(I.type.indexOf("color")!==-1)for(let C=0;C<3;C+=1)I.values[C]+=(1-I.values[C])*b;return f(I)}function $(I,b,C){try{return V(I,b)}catch{return I}}function G(I,b=.15){return y(I)>.5?A(I,b):V(I,b)}function L(I,b,C){try{return G(I,b)}catch{return I}}function Q(I,b,C,P=1){const M=(ye,Ce)=>Math.round((ye**(1/P)*(1-C)+Ce**(1/P)*C)**P),F=l(I),D=l(b),Ee=[M(F.values[0],D.values[0]),M(F.values[1],D.values[1]),M(F.values[2],D.values[2])];return f({type:"rgb",values:Ee})}return ft}var sy=J3();const lc={black:"#000",white:"#fff"},Z3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ra={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Pa={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Oa={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Da={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ma={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},e6=["mode","contrastThreshold","tonalOffset"],fS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:lc.white,default:lc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},fm={text:{primary:lc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:lc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function pS(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=sy.lighten(n.main,i):e==="dark"&&(n.dark=sy.darken(n.main,o)))}function t6(n="light"){return n==="dark"?{main:Oa[200],light:Oa[50],dark:Oa[400]}:{main:Oa[700],light:Oa[400],dark:Oa[800]}}function n6(n="light"){return n==="dark"?{main:Ra[200],light:Ra[50],dark:Ra[400]}:{main:Ra[500],light:Ra[300],dark:Ra[700]}}function r6(n="light"){return n==="dark"?{main:Pa[500],light:Pa[300],dark:Pa[700]}:{main:Pa[700],light:Pa[400],dark:Pa[800]}}function i6(n="light"){return n==="dark"?{main:Da[400],light:Da[300],dark:Da[700]}:{main:Da[700],light:Da[500],dark:Da[900]}}function s6(n="light"){return n==="dark"?{main:Ma[400],light:Ma[300],dark:Ma[700]}:{main:Ma[800],light:Ma[500],dark:Ma[900]}}function o6(n="light"){return n==="dark"?{main:yu[400],light:yu[300],dark:yu[700]}:{main:"#ed6c02",light:yu[500],dark:yu[900]}}function a6(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Vs(n,e6),o=n.primary||t6(e),l=n.secondary||n6(e),u=n.error||r6(e),h=n.info||i6(e),f=n.success||s6(e),g=n.warning||o6(e);function _(T){return sy.getContrastRatio(T,fm.text.primary)>=t?fm.text.primary:fS.text.primary}const y=({color:T,name:A,mainShade:O=500,lightShade:V=300,darkShade:$=700})=>{if(T=Je({},T),!T.main&&T[O]&&(T.main=T[O]),!T.hasOwnProperty("main"))throw new Error(ic(11,A?` (${A})`:"",O));if(typeof T.main!="string")throw new Error(ic(12,A?` (${A})`:"",JSON.stringify(T.main)));return pS(T,"light",V,r),pS(T,"dark",$,r),T.contrastText||(T.contrastText=_(T.main)),T},x={dark:fm,light:fS};return Qr(Je({common:Je({},lc),mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:u,name:"error"}),warning:y({color:g,name:"warning"}),info:y({color:h,name:"info"}),success:y({color:f,name:"success"}),grey:Z3,contrastThreshold:t,getContrastText:_,augmentColor:y,tonalOffset:r},x[e]),i)}const l6=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function u6(n){return Math.round(n*1e5)/1e5}const gS={textTransform:"uppercase"},mS='"Roboto", "Helvetica", "Arial", sans-serif';function c6(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=mS,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:g,pxToRem:_}=t,y=Vs(t,l6),x=i/14,S=_||(O=>`${O/f*x}rem`),T=(O,V,$,G,L)=>Je({fontFamily:r,fontWeight:O,fontSize:S(V),lineHeight:$},r===mS?{letterSpacing:`${u6(G/V)}em`}:{},L,g),A={h1:T(o,96,1.167,-1.5),h2:T(o,60,1.2,-.5),h3:T(l,48,1.167,0),h4:T(l,34,1.235,.25),h5:T(l,24,1.334,0),h6:T(u,20,1.6,.15),subtitle1:T(l,16,1.75,.15),subtitle2:T(u,14,1.57,.1),body1:T(l,16,1.5,.15),body2:T(l,14,1.43,.15),button:T(u,14,1.75,.4,gS),caption:T(l,12,1.66,.4),overline:T(l,12,2.66,1,gS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Qr(Je({htmlFontSize:f,pxToRem:S,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:h},A),y,{clone:!1})}const h6=.2,d6=.14,f6=.12;function ut(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${h6})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${d6})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${f6})`].join(",")}const p6=["none",ut(0,2,1,-1,0,1,1,0,0,1,3,0),ut(0,3,1,-2,0,2,2,0,0,1,5,0),ut(0,3,3,-2,0,3,4,0,0,1,8,0),ut(0,2,4,-1,0,4,5,0,0,1,10,0),ut(0,3,5,-1,0,5,8,0,0,1,14,0),ut(0,3,5,-1,0,6,10,0,0,1,18,0),ut(0,4,5,-2,0,7,10,1,0,2,16,1),ut(0,5,5,-3,0,8,10,1,0,3,14,2),ut(0,5,6,-3,0,9,12,1,0,3,16,2),ut(0,6,6,-3,0,10,14,1,0,4,18,3),ut(0,6,7,-4,0,11,15,1,0,4,20,3),ut(0,7,8,-4,0,12,17,2,0,5,22,4),ut(0,7,8,-4,0,13,19,2,0,5,24,4),ut(0,7,9,-4,0,14,21,2,0,5,26,4),ut(0,8,9,-5,0,15,22,2,0,6,28,5),ut(0,8,10,-5,0,16,24,2,0,6,30,5),ut(0,8,11,-5,0,17,26,2,0,6,32,5),ut(0,9,11,-5,0,18,28,2,0,7,34,6),ut(0,9,12,-6,0,19,29,2,0,7,36,6),ut(0,10,13,-6,0,20,31,3,0,8,38,7),ut(0,10,13,-6,0,21,33,3,0,8,40,7),ut(0,10,14,-6,0,22,35,3,0,8,42,7),ut(0,11,14,-7,0,23,36,3,0,9,44,8),ut(0,11,15,-7,0,24,38,3,0,9,46,8)],g6=["duration","easing","delay"],m6={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},y6={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yS(n){return`${Math.round(n)}ms`}function _6(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function v6(n){const e=Je({},m6,n.easing),t=Je({},y6,n.duration);return Je({getAutoHeightDuration:_6,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:h=0}=o;return Vs(o,g6),(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof l=="string"?l:yS(l)} ${u} ${typeof h=="string"?h:yS(h)}`).join(",")}},n,{easing:e,duration:t})}const w6={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},E6=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function S6(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:o={}}=n,l=Vs(n,E6);if(n.vars&&n.generateCssVars===void 0)throw new Error(ic(18));const u=a6(r),h=TI(n);let f=Qr(h,{mixins:Y3(h.breakpoints,t),palette:u,shadows:p6.slice(),typography:c6(u,o),transitions:v6(i),zIndex:Je({},w6)});return f=Qr(f,l),f=e.reduce((g,_)=>Qr(g,_),f),f.unstable_sxConfig=Je({},Rc,l==null?void 0:l.unstable_sxConfig),f.unstable_sx=function(_){return ip({sx:_,theme:this})},f}const x6=S6(),T6="$$material";function b6(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const I6=n=>b6(n)&&n!=="classes",C6=G3({themeId:T6,defaultTheme:x6,rootShouldForwardProp:I6});function k6(n){return nI("MuiSvgIcon",n)}R5("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const A6=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],R6=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Os(e)}`,`fontSize${Os(t)}`]};return C5(i,k6,r)},P6=C6("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Os(t.color)}`],e[`fontSize${Os(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,o,l,u,h,f,g,_,y,x,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem",medium:((u=n.typography)==null||(h=u.pxToRem)==null?void 0:h.call(u,24))||"1.5rem",large:((f=n.typography)==null||(g=f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}[e.fontSize],color:(_=(y=(n.vars||n).palette)==null||(y=y[e.color])==null?void 0:y.main)!=null?_:{action:(x=(n.vars||n).palette)==null||(x=x.action)==null?void 0:x.active,disabled:(S=(n.vars||n).palette)==null||(S=S.action)==null?void 0:S.disabled,inherit:void 0}[e.color]}}),oy=U.forwardRef(function(e,t){const r=V5({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:u="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:y="0 0 24 24"}=r,x=Vs(r,A6),S=U.isValidElement(i)&&i.type==="svg",T=Je({},r,{color:l,component:u,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:y,hasSvgAsChild:S}),A={};g||(A.viewBox=y);const O=R6(T);return W.jsxs(P6,Je({as:u,className:D5(O.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t},A,x,S&&i.props,{ownerState:T,children:[S?i.props.children:i,_?W.jsx("title",{children:_}):null]}))});oy.muiName="SvgIcon";function O6(n,e){function t(r,i){return W.jsx(oy,Je({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=oy.muiName,U.memo(U.forwardRef(t))}const D6={configure:n=>{tI.configure(n)}},M6=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Os,createChainedFunction:a5,createSvgIcon:O6,debounce:l5,deprecatedPropType:u5,isMuiElement:c5,ownerDocument:Jb,ownerWindow:h5,requirePropFactory:d5,setRef:Zb,unstable_ClassNameGenerator:D6,unstable_useEnhancedEffect:eI,unstable_useId:p5,unsupportedProp:g5,useControlled:m5,useEventCallback:y5,useForkRef:_5,useIsFocusVisible:I5},Symbol.toStringTag,{value:"Module"})),N6=Li(M6);var _S;function bI(){return _S||(_S=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=N6}(sm)),sm}var _u={},vS;function L6(){if(vS)return _u;vS=1;var n=Hf();Object.defineProperty(_u,"__esModule",{value:!0}),_u.default=void 0;var e=n(bI()),t=ly();return _u.default=(0,e.default)((0,t.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),_u}var V6=L6();const F6=uc(V6);var vu={},wS;function j6(){if(wS)return vu;wS=1;var n=Hf();Object.defineProperty(vu,"__esModule",{value:!0}),vu.default=void 0;var e=n(bI()),t=ly();return vu.default=(0,e.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),vu}var z6=j6();const U6=uc(z6),$6=()=>{const n=Ds(),{isDarkMode:e,toggleTheme:t,colors:r}=ti(),[i,o]=U.useState(!1),l=()=>{o(!i)};return W.jsxs("div",{style:{position:"relative"},children:[W.jsx("button",{onClick:l,style:{padding:"8px",borderRadius:"50%",border:`1px solid ${r.border}`,backgroundColor:r.cardBackground,color:r.text,cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px"},children:""}),i&&W.jsxs("div",{style:{position:"absolute",top:"50px",right:"0",backgroundColor:r.cardBackground,borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"12px",display:"flex",flexDirection:"column",gap:"8px",minWidth:"200px",border:`1px solid ${r.border}`,zIndex:1e3},children:[W.jsxs("select",{style:{padding:"8px 12px",borderRadius:"8px",border:`1px solid ${r.border}`,backgroundColor:r.inputBackground,color:r.text,fontFamily:"'Outfit', sans-serif",cursor:"pointer",width:"100%"},children:[W.jsx("option",{value:"en",children:"English"}),W.jsx("option",{value:"es",children:"Espaol"}),W.jsx("option",{value:"fr",children:"Franais"})]}),W.jsx("button",{onClick:()=>{n("/help"),o(!1)},style:{padding:"8px 16px",borderRadius:"8px",border:`1px solid ${r.border}`,backgroundColor:r.inputBackground,color:r.text,fontFamily:"'Outfit', sans-serif",cursor:"pointer",transition:"all 0.3s ease",width:"100%",textAlign:"left"},children:"Help"}),W.jsx("button",{onClick:()=>{t(),o(!1)},style:{padding:"8px 16px",borderRadius:"8px",border:`1px solid ${r.border}`,backgroundColor:r.inputBackground,color:r.text,fontFamily:"'Outfit', sans-serif",cursor:"pointer",transition:"all 0.3s ease",width:"100%",textAlign:"left"},children:e?" Light Mode":" Dark Mode"})]})]})},B6=async n=>{try{await YP(jf),localStorage.clear(),sessionStorage.clear(),n("/",{replace:!0}),window.location.reload()}catch(e){console.error("Error signing out:",e)}},W6={backgroundColor:"#f5f7ff",borderRadius:"12px",border:"none",padding:8,margin:0,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out",color:"#1a237e"},N_=({course:n,section:e,isCoursesPage:t,isRunningSessionPage:r})=>{const i=Ds(),{colors:o}=ti(),l=()=>{B6(i)},u=r?` - Running Session ${n?n.toUpperCase():""}`:t?" - Current Courses":n&&e?` - ${n.toUpperCase()} Session ${e} Report`:" - Dashboard - Report";return W.jsx("header",{style:{backgroundColor:o.cardBackground,boxShadow:"0 4px 20px rgba(0,0,0,0.05)",borderBottom:"1px solid #e0e0e0",width:"100%",zIndex:1201,position:"fixed",top:0,left:0},children:W.jsx("div",{style:{maxWidth:1280,margin:"0 auto",padding:"0 24px"},children:W.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:70,padding:0},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[W.jsx("img",{src:"/IpBeep/IPBeep.png",alt:"IPBeep Logo",style:{height:"40px",width:"auto",marginRight:10}}),W.jsxs("span",{style:{color:"#1a237e",fontSize:"1.25rem",fontWeight:700,fontFamily:"'Outfit', sans-serif",letterSpacing:1},children:["IPBeep",u]})]}),W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[W.jsx("button",{type:"button",style:W6,onClick:l,onMouseOver:h=>h.currentTarget.style.backgroundColor="#e8eaf6",onMouseOut:h=>h.currentTarget.style.backgroundColor="#f5f7ff",children:W.jsx(F6,{style:{color:"#1a237e"}})}),W.jsx($6,{}),W.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out"},onMouseOver:h=>h.currentTarget.style.backgroundColor="#d0d0d0",onMouseOut:h=>h.currentTarget.style.backgroundColor="#e0e0e0",children:W.jsx(U6,{style:{color:"#1a237e"}})})]})]})})})},H6=async(n,e,t)=>{try{const r=n.toUpperCase();console.log(`
=== SEARCH PARAMETERS ===`),console.log("Searching for document with:",{course_id:r,session_id:t});const i=Jd(bo,"FlatDesign"),o=ef(i,xo("course_id","==",r),xo("session_id","==",t)),l=await tf(o);console.log(`
=== FLAT DESIGN QUERY RESULTS ===`),console.log("Query results:",{size:l.size,docs:l.docs.map(y=>({id:y.id,data:y.data()}))});let u=0,h={},f={};if(l.empty)console.warn("No matching document found");else{const y=l.docs[0].data();console.log(`
=== FLAT DESIGN DOCUMENT DATA ===`),console.log("Found document:",y),y.students?(h=y.students,u=Object.keys(h).length,Object.entries(h).forEach(([x,S])=>{f[x]=S.threshold||45,console.log(`Student ${x} threshold:`,f[x])}),console.log("Number of students found:",u),console.log("Student IDs:",Object.keys(h)),console.log("All student thresholds:",f)):console.warn("No students data found in document")}const g={totalStudents:u,ipConfirmed:0,faceConfirmed:0,verifiedAttendees:0,absentStudents:[]},_=new Set;return console.log(`
=== PROCESSING STUDENT ATTENDANCE ===`),Object.entries(h).forEach(([y,x])=>{const S=x.total_minutes||0,T=x.threshold||45,A=S>=T,O=x.face===!0,V=x.attended===!0;console.log(`
Student ${y}:`,{name:x.name,totalMinutes:S,threshold:T,isIpConfirmed:A,isFaceConfirmed:O,isAttended:V,comparison:`${S} >= ${T} = ${A}`}),A?(g.ipConfirmed++,console.log(` Student ${y} IP confirmed with ${S} minutes (threshold: ${T})`)):console.log(` Student ${y} NOT confirmed: ${S} minutes < ${T} threshold`),O&&(g.faceConfirmed++,console.log(` Student ${y} face confirmed`)),V&&(g.verifiedAttendees++,console.log(` Student ${y} marked as attended`),_.add(y))}),console.log(`
=== PROCESSING ABSENT STUDENTS ===`),Object.entries(h).forEach(([y,x])=>{_.has(y)||(g.absentStudents.push(x.name||x.student_name),console.log(`Student ${y} marked as absent`))}),console.log(`
=== FINAL ATTENDANCE DATA ===`,g),g}catch(r){return console.error("Error in getAttendanceData:",r),{totalStudents:0,ipConfirmed:0,faceConfirmed:0,verifiedAttendees:0,absentStudents:[],error:r.message}}},q6=({isOpen:n,onClose:e,courseId:t,sessionId:r})=>{const{colors:i}=ti(),[o,l]=U.useState([]),[u,h]=U.useState(!0);U.useEffect(()=>{(async()=>{if(n)try{const _=ef(Jd(bo,"FlatDesign"),xo("course_id","==",t.toUpperCase()),xo("session_id","==",r)),y=await tf(_);if(!y.empty){const x=y.docs[0].data();if(x.students){const S=Object.entries(x.students).map(([T,A])=>({id:T,name:A.name||A.student_name,attended:A.attended||!1}));l(S)}}}catch(_){console.error("Error fetching students:",_)}finally{h(!1)}})()},[n,t,r]);const f=async g=>{try{const _=ef(Jd(bo,"FlatDesign"),xo("course_id","==",t.toUpperCase()),xo("session_id","==",r)),y=await tf(_);if(!y.empty){const x=$m(bo,"FlatDesign",y.docs[0].id),S={...y.docs[0].data().students};S[g].attended=!S[g].attended,await xN(x,{students:S}),l(T=>T.map(A=>A.id===g?{...A,attended:!A.attended}:A))}}catch(_){console.error("Error updating attendance:",_)}};return n?W.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:W.jsxs("div",{style:{backgroundColor:i.cardBackground,borderRadius:"16px",padding:"24px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:[W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[W.jsx("h2",{style:{margin:0,color:i.text,fontFamily:"'Outfit', sans-serif",fontSize:"1.5rem",fontWeight:600},children:"Modify Attendance"}),W.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:i.textSecondary,padding:"4px"},children:""})]}),u?W.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"40px"},children:[W.jsx("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #1a237e",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite"}}),W.jsx("style",{children:`
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              `})]}):W.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.map(g=>W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderRadius:"8px",backgroundColor:g.attended?"#e8f5e9":"#ffebee",transition:"all 0.2s ease-in-out"},children:[W.jsx("span",{style:{color:g.attended?"#2e7d32":"#c62828",fontFamily:"'Outfit', sans-serif",fontWeight:500},children:g.name}),W.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"24px"},children:[W.jsx("input",{type:"checkbox",checked:g.attended,onChange:()=>f(g.id),style:{opacity:0,width:0,height:0}}),W.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:g.attended?"#4caf50":"#e0e0e0",transition:".4s",borderRadius:"24px"},children:W.jsx("span",{style:{position:"absolute",content:'""',height:"20px",width:"20px",left:"2px",bottom:"2px",backgroundColor:"white",transition:".4s",borderRadius:"50%",transform:g.attended?"translateX(26px)":"translateX(0)"}})})]})]},g.id))})]})}):null},K6=()=>{const{colors:n}=ti(),e=ei(),{course:t,section:r,startTime:i,endTime:o,sessionId:l}=e.state||{},[u,h]=U.useState([{label:"Total Students",value:0},{label:"IP Address Confirmed Students",value:0},{label:"Face-recognition Confirmed Students",value:0},{label:"Number of Verified Attendees",value:0}]),[f,g]=U.useState([]),[_,y]=U.useState(!0),[x,S]=U.useState(null),[T,A]=U.useState(0),[O,V]=U.useState(!1),$=async()=>{if(!t||!r||!l){S("Missing required session information"),y(!1);return}try{const C=await H6(t,r,l);if(C.error){S(C.error),y(!1);return}h([{label:"Total Students",value:C.totalStudents},{label:"IP Address Confirmed Students",value:C.ipConfirmed},{label:"Face-recognition Confirmed Students",value:C.faceConfirmed},{label:"Number of Verified Attendees",value:C.verifiedAttendees}]),g(C.absentStudents),y(!1),S(null)}catch{S("Failed to fetch attendance data. Please try again."),y(!1)}};U.useEffect(()=>{$()},[t,r,l,T]);const G=()=>{y(!0),S(null),A(C=>C+1)},L=i?new Date(i).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Q=o?new Date(o).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",I={labels:["Attended","Absent"],datasets:[{data:[u[3].value,u[0].value-u[3].value],backgroundColor:[n.primary,n.textSecondary],borderColor:[n.cardBackground,n.cardBackground],borderWidth:2}]},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:n.text}},tooltip:{callbacks:{label:function(C){return`${C.label}: ${C.raw} students`}}}}};return W.jsxs("div",{style:{backgroundColor:n.background,fontFamily:"'Outfit', sans-serif",minHeight:"100vh"},children:[W.jsx(N_,{course:t,section:r}),W.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px",paddingTop:"84px",paddingBottom:"64px"},children:[x&&W.jsxs("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"16px",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[W.jsx("span",{children:""}),W.jsx("span",{children:x})]}),W.jsx("button",{onClick:G,style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#c62828",color:"white",cursor:"pointer",fontFamily:"'Outfit', sans-serif",fontSize:"0.9rem",fontWeight:600},onMouseOver:C=>C.currentTarget.style.backgroundColor="#b71c1c",onMouseOut:C=>C.currentTarget.style.backgroundColor="#c62828",children:"Retry"})]}),_?W.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:[W.jsx("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #1a237e",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite"}}),W.jsx("style",{children:`
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              `})]}):W.jsxs(W.Fragment,{children:[t&&r&&i&&W.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:24,marginBottom:24,fontFamily:"'Outfit', sans-serif",color:n.text},children:[W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[W.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:600,color:n.text},children:"Session Details"}),W.jsxs("div",{style:{display:"flex",gap:"12px"},children:[W.jsx("button",{onClick:()=>window.print(),style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#1a237e",color:"white",fontFamily:"'Outfit', sans-serif",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:C=>C.currentTarget.style.backgroundColor="#283593",onMouseOut:C=>C.currentTarget.style.backgroundColor="#1a237e",children:"Print Report"}),W.jsx("button",{onClick:()=>V(!0),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #1a237e",backgroundColor:"transparent",color:"#1a237e",fontFamily:"'Outfit', sans-serif",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:C=>{C.currentTarget.style.backgroundColor="#f5f7ff"},onMouseOut:C=>{C.currentTarget.style.backgroundColor="transparent"},children:"Modify Manually"})]})]}),W.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"1rem",color:n.textSecondary},children:[W.jsx("span",{style:{fontWeight:600},children:"Course:"})," ",t.toUpperCase()," Session ",r]}),W.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"1rem",color:n.textSecondary},children:[W.jsx("span",{style:{fontWeight:600},children:"Start Time:"})," ",L]}),W.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"1rem",color:n.textSecondary},children:[W.jsx("span",{style:{fontWeight:600},children:"End Time:"})," ",Q]})]}),W.jsx("div",{style:{display:"flex",gap:24,marginBottom:24,flexWrap:"wrap"},children:u.map(C=>W.jsx("div",{style:{flex:"1 1 200px",backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:24,transition:"all 0.3s ease-in-out",marginBottom:0,cursor:"pointer"},onMouseOver:P=>P.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",onMouseOut:P=>P.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.05)",children:W.jsxs("div",{children:[W.jsx("span",{style:{color:"#546e7a",fontFamily:"'Outfit', sans-serif",fontWeight:500,display:"block",marginBottom:8},children:C.label}),W.jsx("span",{style:{fontWeight:700,fontFamily:"'Outfit', sans-serif",color:"#1a237e",fontSize:32},children:C.value})]})},C.label))}),W.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap"},children:[W.jsx("div",{style:{flex:"1 1 300px",minWidth:300},children:W.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",marginBottom:24,padding:24,height:"100%",cursor:"pointer"},onMouseOver:C=>C.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",onMouseOut:C=>C.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.05)",children:[W.jsx("span",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,color:"#1a237e",marginBottom:16,display:"block",fontSize:20},children:"Percentage of Attendance"}),W.jsx("div",{style:{height:300,display:"flex",alignItems:"center",justifyContent:"center"},children:W.jsx(JV,{data:I,options:b})})]})}),W.jsx("div",{style:{flex:"3 1 600px",minWidth:300},children:W.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:24,height:"100%",cursor:"pointer"},onMouseOver:C=>C.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",onMouseOut:C=>C.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.05)",children:[W.jsx("span",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,color:"#1a237e",marginBottom:16,display:"block",fontSize:20},children:"List of Absent Students"}),W.jsx("ul",{style:{padding:0,margin:0,listStyle:"none"},children:f.map(C=>W.jsx("li",{style:{borderRadius:8,transition:"all 0.2s ease-in-out",fontFamily:"'Outfit', sans-serif",color:"#546e7a",padding:"8px 0 8px 8px",marginBottom:4,fontSize:16,cursor:"pointer"},onMouseOver:P=>P.currentTarget.style.backgroundColor="#f5f7ff",onMouseOut:P=>P.currentTarget.style.backgroundColor="",children:C},C))})]})})]})]})]}),W.jsx(q6,{isOpen:O,onClose:()=>{V(!1),$()},courseId:t,sessionId:l})]})},G6=({courseId:n})=>{const{colors:e}=ti(),[t,r]=U.useState(null),[i,o]=U.useState(!0),[l,u]=U.useState(!1);return U.useEffect(()=>{(async()=>{o(!0),u(!1),r(null);try{const f=ef(Jd(bo,"FlatDesign"),xo("course_id","==",n.toUpperCase())),g=await tf(f);if(g.empty){console.log(`No documents found for course_id: ${n}`),u(!0),o(!1);return}let _=new Set,y=[],x=new Set,S=0,T=0;g.forEach(G=>{const L=G.data();if(console.log("Processing document data:",L),L.students&&typeof L.students=="object"){const Q=Object.keys(L.students);let I=0;if(Q.forEach(b=>{_.add(b),L.students[b]&&L.students[b].attended===!0&&I++;const C=L.students[b].threshold;typeof C=="number"&&(S+=C,T++)}),Q.length>0){const b=I/Q.length*100;y.push(b),console.log(`Session ${L.session_id} attendance: ${b.toFixed(0)}%`)}}L.session_id&&x.add(L.session_id)});const A=_.size,O=x.size,V=T>0?(S/T).toFixed(0):0,$=y.length>0?(y.reduce((G,L)=>G+L,0)/y.length).toFixed(0):0;console.log("Session attendance percentages:",y),console.log("Average attendance percentage:",$),r({totalRegisteredStudents:A,avgAttendedPercentage:$,sectionsCount:O,avgClassDuration:V})}catch(f){console.error("Error fetching course details:",f),u(!0)}finally{o(!1)}})()},[n]),W.jsxs("div",{style:{fontFamily:"'Outfit', sans-serif",color:e.text},children:[W.jsx("h3",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,fontSize:"1.2rem",marginBottom:"16px",color:e.text},children:n}),i&&W.jsx("div",{style:{color:e.textSecondary,textAlign:"center",padding:"20px"},children:"Loading course data..."}),(l||!t)&&!i&&W.jsx("div",{style:{color:e.textSecondary,textAlign:"center",padding:"20px"},children:"No classes started yet for this course."}),t&&!i&&W.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"16px"},children:W.jsxs("tbody",{children:[W.jsxs("tr",{style:{borderBottom:`1px solid ${e.border}`},children:[W.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:e.textSecondary},children:"Total Registered Students:"}),W.jsx("td",{style:{padding:"8px 0",textAlign:"right",color:e.text},children:t.totalRegisteredStudents})]}),W.jsxs("tr",{style:{borderBottom:`1px solid ${e.border}`},children:[W.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:e.textSecondary},children:"Number of Given Sessions:"}),W.jsx("td",{style:{padding:"8px 0",textAlign:"right",color:e.text},children:t.sectionsCount})]}),W.jsxs("tr",{style:{borderBottom:`1px solid ${e.border}`},children:[W.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:e.textSecondary},children:"Avg Class Duration:"}),W.jsxs("td",{style:{padding:"8px 0",textAlign:"right",color:e.text},children:[t.avgClassDuration," mins"]})]}),W.jsxs("tr",{children:[W.jsx("td",{style:{padding:"8px 0",fontWeight:500,color:e.textSecondary},children:"Avg Attended Students (%):"}),W.jsxs("td",{style:{padding:"8px 0",textAlign:"right",color:e.text},children:[t.avgAttendedPercentage,"%"]})]})]})})]})},Y6=()=>{const{colors:n}=ti(),e=Ds(),[t,r]=U.useState("User"),[i,o]=U.useState(!0),[l,u]=U.useState([]),[h,f]=U.useState(null),[g,_]=U.useState(null),[y,x]=U.useState(!1),[S,T]=U.useState(""),[A,O]=U.useState("");U.useEffect(()=>{const b=Ex(jf,async C=>{var P;if(C)try{const M=await EN($m(bo,"instructors",C.uid));if(M.exists()){const F=M.data();if(console.log("Instructor data:",F),r(F.name||"User"),F.courses&&Array.isArray(F.courses)){const D=[...new Set(F.courses)];u(D)}else u([])}else console.log("No instructor document found for user"),r(((P=C.email)==null?void 0:P.split("@")[0])||"User"),u([])}catch(M){console.error("Error fetching instructor data:",M),r("User"),u([])}else console.log("No user is signed in");o(!1)});return()=>b()},[]);const V=b=>f(b),$=()=>f(null),G=b=>{console.log("Selected course:",b),_(b)},L=()=>{x(!1),_(null)},Q=async()=>{if(console.log("Attempting to start session..."),g&&S&&A)try{const b={course_id:g.toUpperCase(),session_id:S,threshold_minutes:parseInt(A,10)};console.log('Writing session config to Firestore document "details":',b),await SN($m(bo,"Session_config","details"),b),console.log('Document "details" successfully written/updated.');const C=new Date().toISOString();console.log("Navigating to /runningsession..."),e("/runningsession",{state:{course:g,section:S,startTime:C,sessionDuration:A}}),L()}catch(b){console.error("Error writing document to Firestore: ",b),alert(`Failed to start session: ${b.message}`)}else console.log("Cannot start session: missing selectedCourse, sessionNumber, or sessionDuration."),alert("Please select a course, session number, and duration.")},I=b=>({backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:h===b?"0 8px 30px rgba(0,0,0,0.1)":g===b?"0 4px 25px rgba(0,0,0,0.1)":"0 4px 20px rgba(0,0,0,0.05)",padding:"24px",transition:"all 0.3s ease-in-out",cursor:"pointer",border:g===b?"3px solid #1a237e":"1px solid transparent",transform:h===b?"translateY(-5px)":"translateY(0)",outline:g===b?"2px solid rgba(26, 35, 126, 0.4)":"none"});return i?W.jsx("div",{style:{minHeight:"100vh",backgroundColor:n.background,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"'Outfit', sans-serif"},children:W.jsx("h2",{style:{color:n.text},children:"Loading..."})}):W.jsxs("div",{style:{minHeight:"100vh",backgroundColor:n.background,fontFamily:"'Outfit', sans-serif"},children:[W.jsx(N_,{isCoursesPage:!0}),W.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px",paddingTop:"84px"},children:[W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[W.jsxs("h2",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,color:n.text,fontSize:"1.8rem",margin:0},children:["Welcome back, ",t,"!"]}),g&&W.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[W.jsxs("select",{style:{padding:"10px",borderRadius:"8px",border:`1px solid ${n.border}`,backgroundColor:n.inputBackground,color:n.text,fontFamily:"'Outfit', sans-serif",fontSize:"1rem"},value:S,onChange:b=>T(b.target.value),children:[W.jsx("option",{value:"",children:"Select Session"}),[...Array(50)].map((b,C)=>W.jsx("option",{value:C+1,children:C+1},C+1))]}),W.jsxs("select",{style:{padding:"10px",borderRadius:"8px",border:`1px solid ${n.border}`,backgroundColor:n.inputBackground,color:n.text,fontFamily:"'Outfit', sans-serif",fontSize:"1rem"},value:A,onChange:b=>O(b.target.value),children:[W.jsx("option",{value:"",children:"Select Duration"}),[...Array(60)].map((b,C)=>W.jsxs("option",{value:C+1,children:[C+1," min"]},C+1))]}),W.jsx("button",{onClick:Q,disabled:!S||!A,style:{padding:"10px 20px",borderRadius:"8px",border:"none",backgroundColor:S&&A?"#1a237e":"#e0e0e0",color:S&&A?"white":"#9e9e9e",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",cursor:S&&A?"pointer":"not-allowed",transition:"all 0.3s ease"},onMouseOver:b=>{S&&A&&(b.currentTarget.style.backgroundColor="#283593")},onMouseOut:b=>{S&&A&&(b.currentTarget.style.backgroundColor="#1a237e")},children:"Start Session"})]})]}),W.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:l.length>0?l.map(b=>W.jsx("div",{style:I(b.toLowerCase()),onMouseOver:()=>V(b.toLowerCase()),onMouseOut:$,onClick:()=>G(b.toLowerCase()),children:W.jsx(G6,{courseId:b})},b)):W.jsxs("div",{style:{...I("no-courses"),gridColumn:"1 / -1",textAlign:"center",padding:"48px"},children:[W.jsxs("h3",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,fontSize:"1.2rem",color:n.text,marginBottom:"16px"},children:["There are no courses for ",t," yet!"]}),W.jsx("p",{style:{color:n.textSecondary,fontSize:"1rem"},children:"Please contact your administrator to add courses to your account."})]})})]})]})},Q6=()=>{const{colors:n}=ti();return W.jsx("div",{style:{minHeight:"100vh",backgroundColor:n.background,padding:"24px",fontFamily:"'Outfit', sans-serif"},children:W.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",backgroundColor:n.cardBackground,borderRadius:"16px",padding:"32px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:[W.jsx("h1",{style:{color:n.text,marginBottom:"24px"},children:"Help Center"}),W.jsxs("div",{style:{color:n.textSecondary,lineHeight:"1.6"},children:[W.jsx("h2",{style:{color:n.text,marginBottom:"16px"},children:"Frequently Asked Questions"}),W.jsx("p",{children:"This is a placeholder for the help content. Add your FAQ and support information here."})]})]})})},X6=()=>{const{colors:n}=ti(),e=ei(),t=Ds(),{course:r,section:i,startTime:o,sessionDuration:l,sessionId:u}=e.state||{},h=o?new Date(o).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",f=()=>{const g=new Date().toISOString();t("/dashboard",{state:{course:r,section:i,startTime:o,sessionDuration:l,endTime:g,sessionId:i}})};return W.jsxs("div",{style:{minHeight:"100vh",backgroundColor:n.background,fontFamily:"'Outfit', sans-serif",color:n.text},children:[W.jsx(N_,{isRunningSessionPage:!0,course:r,section:i}),W.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px",paddingTop:"84px"},children:[W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[W.jsx("h2",{style:{fontFamily:"'Outfit', sans-serif",fontWeight:600,fontSize:"1.8rem",margin:0,textAlign:"left"},children:"Running Session"}),W.jsx("button",{onClick:f,style:{padding:"12px 24px",borderRadius:"8px",border:"none",backgroundColor:"#dc3545",color:"white",fontFamily:"'Outfit', sans-serif",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:g=>g.currentTarget.style.backgroundColor="#c82333",onMouseOut:g=>g.currentTarget.style.backgroundColor="#dc3545",children:"End Session"})]}),W.jsxs("div",{style:{backgroundColor:n.cardBackground,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",padding:"24px",fontFamily:"'Outfit', sans-serif",color:n.text},children:[W.jsxs("p",{children:["Course: ",r?r.toUpperCase():"N/A"]}),W.jsxs("p",{children:["Session: ",i||"N/A"]}),W.jsxs("p",{children:["Duration: ",l?`${l} minutes`:"N/A"]}),W.jsxs("p",{children:["Start Time: ",h]}),W.jsx("p",{children:"The session is currently running, connect to the Wi-fi connection configured by the raspberry pi"})]})]})]})},pd=({children:n})=>{const e=Ds(),[t,r]=cc.useState(null);return U.useEffect(()=>{const i=Ex(jf,o=>{r(!!o),o||e("/",{replace:!0})});return()=>i()},[e]),t===null?null:t?n:W.jsx(RS,{to:"/",replace:!0})};function J6(){return W.jsx(hA,{children:W.jsx(tA,{children:W.jsx("div",{className:"App",children:W.jsxs(Pk,{children:[W.jsx(vo,{path:"/",element:W.jsx(IN,{})}),W.jsx(vo,{path:"/courses",element:W.jsx(pd,{children:W.jsx(Y6,{})})}),W.jsx(vo,{path:"/dashboard",element:W.jsx(pd,{children:W.jsx(K6,{})})}),W.jsx(vo,{path:"/runningsession",element:W.jsx(pd,{children:W.jsx(X6,{})})}),W.jsx(vo,{path:"/help",element:W.jsx(pd,{children:W.jsx(Q6,{})})})," ",W.jsx(vo,{path:"*",element:W.jsx(RS,{to:"/",replace:!0})})]})})})})}zC.createRoot(document.getElementById("root")).render(W.jsx(cc.StrictMode,{children:W.jsx(J6,{})}));
